const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LandingPage-BzqrnJWs.js","assets/card-BvVvot2N.js","assets/badge-C8Hju--i.js","assets/zap-D38g-6_p.js","assets/sparkles-BkecUxse.js","assets/check-VyTaZcL9.js","assets/AuthPage-CORapa13.js","assets/label-DPI-UNRP.js","assets/tabs-yNAVapVy.js","assets/index-CD5o2bZR.js","assets/mail-DbYRVKSB.js","assets/lock-CLB41KuA.js","assets/user-B4a35huc.js","assets/Dashboard-CR233Sex.js","assets/contactApi-D_MIHxJr.js","assets/notesApi-BNGt77aQ.js","assets/clock-C5yywB6d.js","assets/ChatPage-BuJ6dXCr.js","assets/plus-BhQw_i-H.js","assets/phone-I4FbMxVk.js","assets/ellipsis-vertical-BcxsOoxB.js","assets/VideoPage-C88Evpd7.js","assets/AgoraRTC_N-production-DoeOQcPm.js","assets/CollaboratePage-D4ETnQHG.js","assets/dropdown-menu-C7mzNdDR.js","assets/index-BqL0dr1B.js","assets/circle-mAwATgwU.js","assets/index-B0VMFM8O.js","assets/dialog-nZlOt7oA.js","assets/undo-B0rVuzvX.js","assets/trash-2-CayVD4YA.js","assets/CollabPage-Bi-SUkOQ.js","assets/NotesPage-8Ytx03Cg.js","assets/textarea-s3gf8ox8.js","assets/TasksPage-CWc3bCun.js","assets/ContactsPage-Cztr6VJF.js","assets/SettingsPage-CWwWVN5j.js"])))=>i.map(i=>d[i]);
var IA=Object.defineProperty;var a0=e=>{throw TypeError(e)};var NA=(e,t,n)=>t in e?IA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pt=(e,t,n)=>NA(e,typeof t!="symbol"?t+"":t,n),sh=(e,t,n)=>t.has(e)||a0("Cannot "+n);var G=(e,t,n)=>(sh(e,t,"read from private field"),n?n.call(e):t.get(e)),Ce=(e,t,n)=>t.has(e)?a0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),pe=(e,t,n,r)=>(sh(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),bt=(e,t,n)=>(sh(e,t,"access private method"),n);var _c=(e,t,n,r)=>({set _(s){pe(e,t,s,n)},get _(){return G(e,t,r)}});function MA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var LA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function rm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _S={exports:{}},Ed={},OS={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zl=Symbol.for("react.element"),DA=Symbol.for("react.portal"),jA=Symbol.for("react.fragment"),UA=Symbol.for("react.strict_mode"),$A=Symbol.for("react.profiler"),FA=Symbol.for("react.provider"),BA=Symbol.for("react.context"),zA=Symbol.for("react.forward_ref"),HA=Symbol.for("react.suspense"),WA=Symbol.for("react.memo"),VA=Symbol.for("react.lazy"),l0=Symbol.iterator;function GA(e){return e===null||typeof e!="object"?null:(e=l0&&e[l0]||e["@@iterator"],typeof e=="function"?e:null)}var AS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PS=Object.assign,IS={};function qi(e,t,n){this.props=e,this.context=t,this.refs=IS,this.updater=n||AS}qi.prototype.isReactComponent={};qi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function NS(){}NS.prototype=qi.prototype;function sm(e,t,n){this.props=e,this.context=t,this.refs=IS,this.updater=n||AS}var om=sm.prototype=new NS;om.constructor=sm;PS(om,qi.prototype);om.isPureReactComponent=!0;var c0=Array.isArray,MS=Object.prototype.hasOwnProperty,im={current:null},LS={key:!0,ref:!0,__self:!0,__source:!0};function DS(e,t,n){var r,s={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)MS.call(t,r)&&!LS.hasOwnProperty(r)&&(s[r]=t[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var d=Array(u),h=0;h<u;h++)d[h]=arguments[h+2];s.children=d}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:zl,type:e,key:o,ref:l,props:s,_owner:im.current}}function qA(e,t){return{$$typeof:zl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function am(e){return typeof e=="object"&&e!==null&&e.$$typeof===zl}function KA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var u0=/\/+/g;function oh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?KA(""+e.key):t.toString(36)}function du(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case zl:case DA:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+oh(l,0):r,c0(s)?(n="",e!=null&&(n=e.replace(u0,"$&/")+"/"),du(s,t,n,"",function(h){return h})):s!=null&&(am(s)&&(s=qA(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(u0,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",c0(e))for(var u=0;u<e.length;u++){o=e[u];var d=r+oh(o,u);l+=du(o,t,n,d,s)}else if(d=GA(e),typeof d=="function")for(e=d.call(e),u=0;!(o=e.next()).done;)o=o.value,d=r+oh(o,u++),l+=du(o,t,n,d,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Oc(e,t,n){if(e==null)return e;var r=[],s=0;return du(e,r,"","",function(o){return t.call(n,o,s++)}),r}function QA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},fu={transition:null},JA={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:fu,ReactCurrentOwner:im};function jS(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Oc,forEach:function(e,t,n){Oc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Oc(e,function(){t++}),t},toArray:function(e){return Oc(e,function(t){return t})||[]},only:function(e){if(!am(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Component=qi;xe.Fragment=jA;xe.Profiler=$A;xe.PureComponent=sm;xe.StrictMode=UA;xe.Suspense=HA;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JA;xe.act=jS;xe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=PS({},e.props),s=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=im.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)MS.call(t,d)&&!LS.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var h=0;h<d;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:zl,type:e.type,key:s,ref:o,props:r,_owner:l}};xe.createContext=function(e){return e={$$typeof:BA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:FA,_context:e},e.Consumer=e};xe.createElement=DS;xe.createFactory=function(e){var t=DS.bind(null,e);return t.type=e,t};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:zA,render:e}};xe.isValidElement=am;xe.lazy=function(e){return{$$typeof:VA,_payload:{_status:-1,_result:e},_init:QA}};xe.memo=function(e,t){return{$$typeof:WA,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=fu.transition;fu.transition={};try{e()}finally{fu.transition=t}};xe.unstable_act=jS;xe.useCallback=function(e,t){return $t.current.useCallback(e,t)};xe.useContext=function(e){return $t.current.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};xe.useEffect=function(e,t){return $t.current.useEffect(e,t)};xe.useId=function(){return $t.current.useId()};xe.useImperativeHandle=function(e,t,n){return $t.current.useImperativeHandle(e,t,n)};xe.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return $t.current.useMemo(e,t)};xe.useReducer=function(e,t,n){return $t.current.useReducer(e,t,n)};xe.useRef=function(e){return $t.current.useRef(e)};xe.useState=function(e){return $t.current.useState(e)};xe.useSyncExternalStore=function(e,t,n){return $t.current.useSyncExternalStore(e,t,n)};xe.useTransition=function(){return $t.current.useTransition()};xe.version="18.3.1";OS.exports=xe;var w=OS.exports;const X=rm(w),Td=MA({__proto__:null,default:X},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA=w,YA=Symbol.for("react.element"),ZA=Symbol.for("react.fragment"),eP=Object.prototype.hasOwnProperty,tP=XA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nP={key:!0,ref:!0,__self:!0,__source:!0};function US(e,t,n){var r,s={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)eP.call(t,r)&&!nP.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:YA,type:e,key:o,ref:l,props:s,_owner:tP.current}}Ed.Fragment=ZA;Ed.jsx=US;Ed.jsxs=US;_S.exports=Ed;var A=_S.exports,$S={exports:{}},pn={},FS={exports:{}},BS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,B){var ee=D.length;D.push(B);e:for(;0<ee;){var ae=ee-1>>>1,ne=D[ae];if(0<s(ne,B))D[ae]=B,D[ee]=ne,ee=ae;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var B=D[0],ee=D.pop();if(ee!==B){D[0]=ee;e:for(var ae=0,ne=D.length,fe=ne>>>1;ae<fe;){var de=2*(ae+1)-1,Oe=D[de],ze=de+1,be=D[ze];if(0>s(Oe,ee))ze<ne&&0>s(be,Oe)?(D[ae]=be,D[ze]=ee,ae=ze):(D[ae]=Oe,D[de]=ee,ae=de);else if(ze<ne&&0>s(be,ee))D[ae]=be,D[ze]=ee,ae=ze;else break e}}return B}function s(D,B){var ee=D.sortIndex-B.sortIndex;return ee!==0?ee:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],h=[],g=1,m=null,S=3,b=!1,R=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(D){for(var B=n(h);B!==null;){if(B.callback===null)r(h);else if(B.startTime<=D)r(h),B.sortIndex=B.expirationTime,t(d,B);else break;B=n(h)}}function C(D){if(x=!1,k(D),!R)if(n(d)!==null)R=!0,z(I);else{var B=n(h);B!==null&&$(C,B.startTime-D)}}function I(D,B){R=!1,x&&(x=!1,T(W),W=-1),b=!0;var ee=S;try{for(k(B),m=n(d);m!==null&&(!(m.expirationTime>B)||D&&!y());){var ae=m.callback;if(typeof ae=="function"){m.callback=null,S=m.priorityLevel;var ne=ae(m.expirationTime<=B);B=e.unstable_now(),typeof ne=="function"?m.callback=ne:m===n(d)&&r(d),k(B)}else r(d);m=n(d)}if(m!==null)var fe=!0;else{var de=n(h);de!==null&&$(C,de.startTime-B),fe=!1}return fe}finally{m=null,S=ee,b=!1}}var M=!1,L=null,W=-1,K=5,H=-1;function y(){return!(e.unstable_now()-H<K)}function V(){if(L!==null){var D=e.unstable_now();H=D;var B=!0;try{B=L(!0,D)}finally{B?Z():(M=!1,L=null)}}else M=!1}var Z;if(typeof E=="function")Z=function(){E(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,oe=N.port2;N.port1.onmessage=V,Z=function(){oe.postMessage(null)}}else Z=function(){_(V,0)};function z(D){L=D,M||(M=!0,Z())}function $(D,B){W=_(function(){D(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){R||b||(R=!0,z(I))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(D){switch(S){case 1:case 2:case 3:var B=3;break;default:B=S}var ee=S;S=B;try{return D()}finally{S=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var ee=S;S=D;try{return B()}finally{S=ee}},e.unstable_scheduleCallback=function(D,B,ee){var ae=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ae+ee:ae):ee=ae,D){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ee+ne,D={id:g++,callback:B,priorityLevel:D,startTime:ee,expirationTime:ne,sortIndex:-1},ee>ae?(D.sortIndex=ee,t(h,D),n(d)===null&&D===n(h)&&(x?(T(W),W=-1):x=!0,$(C,ee-ae))):(D.sortIndex=ne,t(d,D),R||b||(R=!0,z(I))),D},e.unstable_shouldYield=y,e.unstable_wrapCallback=function(D){var B=S;return function(){var ee=S;S=B;try{return D.apply(this,arguments)}finally{S=ee}}}})(BS);FS.exports=BS;var rP=FS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP=w,hn=rP;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zS=new Set,ul={};function To(e,t){Ai(e,t),Ai(e+"Capture",t)}function Ai(e,t){for(ul[e]=t,e=0;e<t.length;e++)zS.add(t[e])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fp=Object.prototype.hasOwnProperty,oP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d0={},f0={};function iP(e){return fp.call(f0,e)?!0:fp.call(d0,e)?!1:oP.test(e)?f0[e]=!0:(d0[e]=!0,!1)}function aP(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lP(e,t,n,r){if(t===null||typeof t>"u"||aP(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ft(e,t,n,r,s,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new Ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var lm=/[\-:]([a-z])/g;function cm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lm,cm);vt[t]=new Ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lm,cm);vt[t]=new Ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lm,cm);vt[t]=new Ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function um(e,t,n,r){var s=vt.hasOwnProperty(t)?vt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lP(t,n,s,r)&&(n=null),r||s===null?iP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jr=sP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ac=Symbol.for("react.element"),ei=Symbol.for("react.portal"),ti=Symbol.for("react.fragment"),dm=Symbol.for("react.strict_mode"),hp=Symbol.for("react.profiler"),HS=Symbol.for("react.provider"),WS=Symbol.for("react.context"),fm=Symbol.for("react.forward_ref"),pp=Symbol.for("react.suspense"),gp=Symbol.for("react.suspense_list"),hm=Symbol.for("react.memo"),us=Symbol.for("react.lazy"),VS=Symbol.for("react.offscreen"),h0=Symbol.iterator;function ka(e){return e===null||typeof e!="object"?null:(e=h0&&e[h0]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,ih;function Fa(e){if(ih===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ih=t&&t[1]||""}return`
`+ih+e}var ah=!1;function lh(e,t){if(!e||ah)return"";ah=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),o=r.stack.split(`
`),l=s.length-1,u=o.length-1;1<=l&&0<=u&&s[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(s[l]!==o[u]){if(l!==1||u!==1)do if(l--,u--,0>u||s[l]!==o[u]){var d=`
`+s[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=u);break}}}finally{ah=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fa(e):""}function cP(e){switch(e.tag){case 5:return Fa(e.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return e=lh(e.type,!1),e;case 11:return e=lh(e.type.render,!1),e;case 1:return e=lh(e.type,!0),e;default:return""}}function mp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ti:return"Fragment";case ei:return"Portal";case hp:return"Profiler";case dm:return"StrictMode";case pp:return"Suspense";case gp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case WS:return(e.displayName||"Context")+".Consumer";case HS:return(e._context.displayName||"Context")+".Provider";case fm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hm:return t=e.displayName||null,t!==null?t:mp(e.type)||"Memo";case us:t=e._payload,e=e._init;try{return mp(e(t))}catch{}}return null}function uP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mp(t);case 8:return t===dm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ms(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function GS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dP(e){var t=GS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pc(e){e._valueTracker||(e._valueTracker=dP(e))}function qS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=GS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Uu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yp(e,t){var n=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function p0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ms(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function KS(e,t){t=t.checked,t!=null&&um(e,"checked",t,!1)}function vp(e,t){KS(e,t);var n=Ms(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wp(e,t.type,n):t.hasOwnProperty("defaultValue")&&wp(e,t.type,Ms(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function g0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wp(e,t,n){(t!=="number"||Uu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ba=Array.isArray;function hi(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ms(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function bp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function m0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Y(92));if(Ba(n)){if(1<n.length)throw Error(Y(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ms(n)}}function QS(e,t){var n=Ms(t.value),r=Ms(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function y0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function JS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?JS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ic,XS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ic=Ic||document.createElement("div"),Ic.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ic.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ja={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fP=["Webkit","ms","Moz","O"];Object.keys(Ja).forEach(function(e){fP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ja[t]=Ja[e]})});function YS(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ja.hasOwnProperty(e)&&Ja[e]?(""+t).trim():t+"px"}function ZS(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=YS(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var hP=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xp(e,t){if(t){if(hP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function Cp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ep=null;function pm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tp=null,pi=null,gi=null;function v0(e){if(e=Vl(e)){if(typeof Tp!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=Ad(t),Tp(e.stateNode,e.type,t))}}function ex(e){pi?gi?gi.push(e):gi=[e]:pi=e}function tx(){if(pi){var e=pi,t=gi;if(gi=pi=null,v0(e),t)for(e=0;e<t.length;e++)v0(t[e])}}function nx(e,t){return e(t)}function rx(){}var ch=!1;function sx(e,t,n){if(ch)return e(t,n);ch=!0;try{return nx(e,t,n)}finally{ch=!1,(pi!==null||gi!==null)&&(rx(),tx())}}function fl(e,t){var n=e.stateNode;if(n===null)return null;var r=Ad(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var Rp=!1;if(Wr)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){Rp=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{Rp=!1}function pP(e,t,n,r,s,o,l,u,d){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(g){this.onError(g)}}var Xa=!1,$u=null,Fu=!1,kp=null,gP={onError:function(e){Xa=!0,$u=e}};function mP(e,t,n,r,s,o,l,u,d){Xa=!1,$u=null,pP.apply(gP,arguments)}function yP(e,t,n,r,s,o,l,u,d){if(mP.apply(this,arguments),Xa){if(Xa){var h=$u;Xa=!1,$u=null}else throw Error(Y(198));Fu||(Fu=!0,kp=h)}}function Ro(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ox(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w0(e){if(Ro(e)!==e)throw Error(Y(188))}function vP(e){var t=e.alternate;if(!t){if(t=Ro(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return w0(s),e;if(o===r)return w0(s),t;o=o.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=o;else{for(var l=!1,u=s.child;u;){if(u===n){l=!0,n=s,r=o;break}if(u===r){l=!0,r=s,n=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===n){l=!0,n=o,r=s;break}if(u===r){l=!0,r=o,n=s;break}u=u.sibling}if(!l)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function ix(e){return e=vP(e),e!==null?ax(e):null}function ax(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ax(e);if(t!==null)return t;e=e.sibling}return null}var lx=hn.unstable_scheduleCallback,b0=hn.unstable_cancelCallback,wP=hn.unstable_shouldYield,bP=hn.unstable_requestPaint,et=hn.unstable_now,SP=hn.unstable_getCurrentPriorityLevel,gm=hn.unstable_ImmediatePriority,cx=hn.unstable_UserBlockingPriority,Bu=hn.unstable_NormalPriority,xP=hn.unstable_LowPriority,ux=hn.unstable_IdlePriority,Rd=null,Sr=null;function CP(e){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Rd,e,void 0,(e.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:RP,EP=Math.log,TP=Math.LN2;function RP(e){return e>>>=0,e===0?32:31-(EP(e)/TP|0)|0}var Nc=64,Mc=4194304;function za(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~s;u!==0?r=za(u):(o&=l,o!==0&&(r=za(o)))}else l=n&~s,l!==0?r=za(l):o!==0&&(r=za(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qn(t),s=1<<n,r|=e[n],t&=~s;return r}function kP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _P(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-qn(o),u=1<<l,d=s[l];d===-1?(!(u&n)||u&r)&&(s[l]=kP(u,t)):d<=t&&(e.expiredLanes|=u),o&=~u}}function _p(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dx(){var e=Nc;return Nc<<=1,!(Nc&4194240)&&(Nc=64),e}function uh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qn(t),e[t]=n}function OP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-qn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function mm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ie=0;function fx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hx,ym,px,gx,mx,Op=!1,Lc=[],Ts=null,Rs=null,ks=null,hl=new Map,pl=new Map,fs=[],AP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S0(e,t){switch(e){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":hl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(t.pointerId)}}function Oa(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Vl(t),t!==null&&ym(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function PP(e,t,n,r,s){switch(t){case"focusin":return Ts=Oa(Ts,e,t,n,r,s),!0;case"dragenter":return Rs=Oa(Rs,e,t,n,r,s),!0;case"mouseover":return ks=Oa(ks,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return hl.set(o,Oa(hl.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,pl.set(o,Oa(pl.get(o)||null,e,t,n,r,s)),!0}return!1}function yx(e){var t=eo(e.target);if(t!==null){var n=Ro(t);if(n!==null){if(t=n.tag,t===13){if(t=ox(n),t!==null){e.blockedOn=t,mx(e.priority,function(){px(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ap(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ep=r,n.target.dispatchEvent(r),Ep=null}else return t=Vl(n),t!==null&&ym(t),e.blockedOn=n,!1;t.shift()}return!0}function x0(e,t,n){hu(e)&&n.delete(t)}function IP(){Op=!1,Ts!==null&&hu(Ts)&&(Ts=null),Rs!==null&&hu(Rs)&&(Rs=null),ks!==null&&hu(ks)&&(ks=null),hl.forEach(x0),pl.forEach(x0)}function Aa(e,t){e.blockedOn===t&&(e.blockedOn=null,Op||(Op=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,IP)))}function gl(e){function t(s){return Aa(s,e)}if(0<Lc.length){Aa(Lc[0],e);for(var n=1;n<Lc.length;n++){var r=Lc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ts!==null&&Aa(Ts,e),Rs!==null&&Aa(Rs,e),ks!==null&&Aa(ks,e),hl.forEach(t),pl.forEach(t),n=0;n<fs.length;n++)r=fs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<fs.length&&(n=fs[0],n.blockedOn===null);)yx(n),n.blockedOn===null&&fs.shift()}var mi=Jr.ReactCurrentBatchConfig,Hu=!0;function NP(e,t,n,r){var s=Ie,o=mi.transition;mi.transition=null;try{Ie=1,vm(e,t,n,r)}finally{Ie=s,mi.transition=o}}function MP(e,t,n,r){var s=Ie,o=mi.transition;mi.transition=null;try{Ie=4,vm(e,t,n,r)}finally{Ie=s,mi.transition=o}}function vm(e,t,n,r){if(Hu){var s=Ap(e,t,n,r);if(s===null)bh(e,t,r,Wu,n),S0(e,r);else if(PP(s,e,t,n,r))r.stopPropagation();else if(S0(e,r),t&4&&-1<AP.indexOf(e)){for(;s!==null;){var o=Vl(s);if(o!==null&&hx(o),o=Ap(e,t,n,r),o===null&&bh(e,t,r,Wu,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else bh(e,t,r,null,n)}}var Wu=null;function Ap(e,t,n,r){if(Wu=null,e=pm(r),e=eo(e),e!==null)if(t=Ro(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ox(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wu=e,null}function vx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SP()){case gm:return 1;case cx:return 4;case Bu:case xP:return 16;case ux:return 536870912;default:return 16}default:return 16}}var xs=null,wm=null,pu=null;function wx(){if(pu)return pu;var e,t=wm,n=t.length,r,s="value"in xs?xs.value:xs.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[o-r];r++);return pu=s.slice(e,1<r?1-r:void 0)}function gu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dc(){return!0}function C0(){return!1}function gn(e){function t(n,r,s,o,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Dc:C0,this.isPropagationStopped=C0,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),t}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bm=gn(Ki),Wl=Ke({},Ki,{view:0,detail:0}),LP=gn(Wl),dh,fh,Pa,kd=Ke({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pa&&(Pa&&e.type==="mousemove"?(dh=e.screenX-Pa.screenX,fh=e.screenY-Pa.screenY):fh=dh=0,Pa=e),dh)},movementY:function(e){return"movementY"in e?e.movementY:fh}}),E0=gn(kd),DP=Ke({},kd,{dataTransfer:0}),jP=gn(DP),UP=Ke({},Wl,{relatedTarget:0}),hh=gn(UP),$P=Ke({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),FP=gn($P),BP=Ke({},Ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zP=gn(BP),HP=Ke({},Ki,{data:0}),T0=gn(HP),WP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=GP[e])?!!t[e]:!1}function Sm(){return qP}var KP=Ke({},Wl,{key:function(e){if(e.key){var t=WP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sm,charCode:function(e){return e.type==="keypress"?gu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QP=gn(KP),JP=Ke({},kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R0=gn(JP),XP=Ke({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sm}),YP=gn(XP),ZP=Ke({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),eI=gn(ZP),tI=Ke({},kd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nI=gn(tI),rI=[9,13,27,32],xm=Wr&&"CompositionEvent"in window,Ya=null;Wr&&"documentMode"in document&&(Ya=document.documentMode);var sI=Wr&&"TextEvent"in window&&!Ya,bx=Wr&&(!xm||Ya&&8<Ya&&11>=Ya),k0=" ",_0=!1;function Sx(e,t){switch(e){case"keyup":return rI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ni=!1;function oI(e,t){switch(e){case"compositionend":return xx(t);case"keypress":return t.which!==32?null:(_0=!0,k0);case"textInput":return e=t.data,e===k0&&_0?null:e;default:return null}}function iI(e,t){if(ni)return e==="compositionend"||!xm&&Sx(e,t)?(e=wx(),pu=wm=xs=null,ni=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bx&&t.locale!=="ko"?null:t.data;default:return null}}var aI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!aI[e.type]:t==="textarea"}function Cx(e,t,n,r){ex(r),t=Vu(t,"onChange"),0<t.length&&(n=new bm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Za=null,ml=null;function lI(e){Mx(e,0)}function _d(e){var t=oi(e);if(qS(t))return e}function cI(e,t){if(e==="change")return t}var Ex=!1;if(Wr){var ph;if(Wr){var gh="oninput"in document;if(!gh){var A0=document.createElement("div");A0.setAttribute("oninput","return;"),gh=typeof A0.oninput=="function"}ph=gh}else ph=!1;Ex=ph&&(!document.documentMode||9<document.documentMode)}function P0(){Za&&(Za.detachEvent("onpropertychange",Tx),ml=Za=null)}function Tx(e){if(e.propertyName==="value"&&_d(ml)){var t=[];Cx(t,ml,e,pm(e)),sx(lI,t)}}function uI(e,t,n){e==="focusin"?(P0(),Za=t,ml=n,Za.attachEvent("onpropertychange",Tx)):e==="focusout"&&P0()}function dI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _d(ml)}function fI(e,t){if(e==="click")return _d(t)}function hI(e,t){if(e==="input"||e==="change")return _d(t)}function pI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jn=typeof Object.is=="function"?Object.is:pI;function yl(e,t){if(Jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!fp.call(t,s)||!Jn(e[s],t[s]))return!1}return!0}function I0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function N0(e,t){var n=I0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=I0(n)}}function Rx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kx(){for(var e=window,t=Uu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Uu(e.document)}return t}function Cm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gI(e){var t=kx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Rx(n.ownerDocument.documentElement,n)){if(r!==null&&Cm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=N0(n,o);var l=N0(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mI=Wr&&"documentMode"in document&&11>=document.documentMode,ri=null,Pp=null,el=null,Ip=!1;function M0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ip||ri==null||ri!==Uu(r)||(r=ri,"selectionStart"in r&&Cm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&yl(el,r)||(el=r,r=Vu(Pp,"onSelect"),0<r.length&&(t=new bm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ri)))}function jc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var si={animationend:jc("Animation","AnimationEnd"),animationiteration:jc("Animation","AnimationIteration"),animationstart:jc("Animation","AnimationStart"),transitionend:jc("Transition","TransitionEnd")},mh={},_x={};Wr&&(_x=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function Od(e){if(mh[e])return mh[e];if(!si[e])return e;var t=si[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _x)return mh[e]=t[n];return e}var Ox=Od("animationend"),Ax=Od("animationiteration"),Px=Od("animationstart"),Ix=Od("transitionend"),Nx=new Map,L0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $s(e,t){Nx.set(e,t),To(t,[e])}for(var yh=0;yh<L0.length;yh++){var vh=L0[yh],yI=vh.toLowerCase(),vI=vh[0].toUpperCase()+vh.slice(1);$s(yI,"on"+vI)}$s(Ox,"onAnimationEnd");$s(Ax,"onAnimationIteration");$s(Px,"onAnimationStart");$s("dblclick","onDoubleClick");$s("focusin","onFocus");$s("focusout","onBlur");$s(Ix,"onTransitionEnd");Ai("onMouseEnter",["mouseout","mouseover"]);Ai("onMouseLeave",["mouseout","mouseover"]);Ai("onPointerEnter",["pointerout","pointerover"]);Ai("onPointerLeave",["pointerout","pointerover"]);To("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));To("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));To("onBeforeInput",["compositionend","keypress","textInput","paste"]);To("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));To("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));To("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function D0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,yP(r,t,void 0,e),e.currentTarget=null}function Mx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var u=r[l],d=u.instance,h=u.currentTarget;if(u=u.listener,d!==o&&s.isPropagationStopped())break e;D0(s,u,h),o=d}else for(l=0;l<r.length;l++){if(u=r[l],d=u.instance,h=u.currentTarget,u=u.listener,d!==o&&s.isPropagationStopped())break e;D0(s,u,h),o=d}}}if(Fu)throw e=kp,Fu=!1,kp=null,e}function Ue(e,t){var n=t[jp];n===void 0&&(n=t[jp]=new Set);var r=e+"__bubble";n.has(r)||(Lx(t,e,2,!1),n.add(r))}function wh(e,t,n){var r=0;t&&(r|=4),Lx(n,e,r,t)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function vl(e){if(!e[Uc]){e[Uc]=!0,zS.forEach(function(n){n!=="selectionchange"&&(wI.has(n)||wh(n,!1,e),wh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Uc]||(t[Uc]=!0,wh("selectionchange",!1,t))}}function Lx(e,t,n,r){switch(vx(t)){case 1:var s=NP;break;case 4:s=MP;break;default:s=vm}n=s.bind(null,t,n,e),s=void 0,!Rp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function bh(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;l=l.return}for(;u!==null;){if(l=eo(u),l===null)return;if(d=l.tag,d===5||d===6){r=o=l;continue e}u=u.parentNode}}r=r.return}sx(function(){var h=o,g=pm(n),m=[];e:{var S=Nx.get(e);if(S!==void 0){var b=bm,R=e;switch(e){case"keypress":if(gu(n)===0)break e;case"keydown":case"keyup":b=QP;break;case"focusin":R="focus",b=hh;break;case"focusout":R="blur",b=hh;break;case"beforeblur":case"afterblur":b=hh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=E0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=jP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=YP;break;case Ox:case Ax:case Px:b=FP;break;case Ix:b=eI;break;case"scroll":b=LP;break;case"wheel":b=nI;break;case"copy":case"cut":case"paste":b=zP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=R0}var x=(t&4)!==0,_=!x&&e==="scroll",T=x?S!==null?S+"Capture":null:S;x=[];for(var E=h,k;E!==null;){k=E;var C=k.stateNode;if(k.tag===5&&C!==null&&(k=C,T!==null&&(C=fl(E,T),C!=null&&x.push(wl(E,C,k)))),_)break;E=E.return}0<x.length&&(S=new b(S,R,null,n,g),m.push({event:S,listeners:x}))}}if(!(t&7)){e:{if(S=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",S&&n!==Ep&&(R=n.relatedTarget||n.fromElement)&&(eo(R)||R[Vr]))break e;if((b||S)&&(S=g.window===g?g:(S=g.ownerDocument)?S.defaultView||S.parentWindow:window,b?(R=n.relatedTarget||n.toElement,b=h,R=R?eo(R):null,R!==null&&(_=Ro(R),R!==_||R.tag!==5&&R.tag!==6)&&(R=null)):(b=null,R=h),b!==R)){if(x=E0,C="onMouseLeave",T="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(x=R0,C="onPointerLeave",T="onPointerEnter",E="pointer"),_=b==null?S:oi(b),k=R==null?S:oi(R),S=new x(C,E+"leave",b,n,g),S.target=_,S.relatedTarget=k,C=null,eo(g)===h&&(x=new x(T,E+"enter",R,n,g),x.target=k,x.relatedTarget=_,C=x),_=C,b&&R)t:{for(x=b,T=R,E=0,k=x;k;k=qo(k))E++;for(k=0,C=T;C;C=qo(C))k++;for(;0<E-k;)x=qo(x),E--;for(;0<k-E;)T=qo(T),k--;for(;E--;){if(x===T||T!==null&&x===T.alternate)break t;x=qo(x),T=qo(T)}x=null}else x=null;b!==null&&j0(m,S,b,x,!1),R!==null&&_!==null&&j0(m,_,R,x,!0)}}e:{if(S=h?oi(h):window,b=S.nodeName&&S.nodeName.toLowerCase(),b==="select"||b==="input"&&S.type==="file")var I=cI;else if(O0(S))if(Ex)I=hI;else{I=dI;var M=uI}else(b=S.nodeName)&&b.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(I=fI);if(I&&(I=I(e,h))){Cx(m,I,n,g);break e}M&&M(e,S,h),e==="focusout"&&(M=S._wrapperState)&&M.controlled&&S.type==="number"&&wp(S,"number",S.value)}switch(M=h?oi(h):window,e){case"focusin":(O0(M)||M.contentEditable==="true")&&(ri=M,Pp=h,el=null);break;case"focusout":el=Pp=ri=null;break;case"mousedown":Ip=!0;break;case"contextmenu":case"mouseup":case"dragend":Ip=!1,M0(m,n,g);break;case"selectionchange":if(mI)break;case"keydown":case"keyup":M0(m,n,g)}var L;if(xm)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else ni?Sx(e,n)&&(W="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(bx&&n.locale!=="ko"&&(ni||W!=="onCompositionStart"?W==="onCompositionEnd"&&ni&&(L=wx()):(xs=g,wm="value"in xs?xs.value:xs.textContent,ni=!0)),M=Vu(h,W),0<M.length&&(W=new T0(W,e,null,n,g),m.push({event:W,listeners:M}),L?W.data=L:(L=xx(n),L!==null&&(W.data=L)))),(L=sI?oI(e,n):iI(e,n))&&(h=Vu(h,"onBeforeInput"),0<h.length&&(g=new T0("onBeforeInput","beforeinput",null,n,g),m.push({event:g,listeners:h}),g.data=L))}Mx(m,t)})}function wl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=fl(e,n),o!=null&&r.unshift(wl(e,o,s)),o=fl(e,t),o!=null&&r.push(wl(e,o,s))),e=e.return}return r}function qo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function j0(e,t,n,r,s){for(var o=t._reactName,l=[];n!==null&&n!==r;){var u=n,d=u.alternate,h=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&h!==null&&(u=h,s?(d=fl(n,o),d!=null&&l.unshift(wl(n,d,u))):s||(d=fl(n,o),d!=null&&l.push(wl(n,d,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var bI=/\r\n?/g,SI=/\u0000|\uFFFD/g;function U0(e){return(typeof e=="string"?e:""+e).replace(bI,`
`).replace(SI,"")}function $c(e,t,n){if(t=U0(t),U0(e)!==t&&n)throw Error(Y(425))}function Gu(){}var Np=null,Mp=null;function Lp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dp=typeof setTimeout=="function"?setTimeout:void 0,xI=typeof clearTimeout=="function"?clearTimeout:void 0,$0=typeof Promise=="function"?Promise:void 0,CI=typeof queueMicrotask=="function"?queueMicrotask:typeof $0<"u"?function(e){return $0.resolve(null).then(e).catch(EI)}:Dp;function EI(e){setTimeout(function(){throw e})}function Sh(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),gl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);gl(t)}function _s(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function F0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qi=Math.random().toString(36).slice(2),vr="__reactFiber$"+Qi,bl="__reactProps$"+Qi,Vr="__reactContainer$"+Qi,jp="__reactEvents$"+Qi,TI="__reactListeners$"+Qi,RI="__reactHandles$"+Qi;function eo(e){var t=e[vr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vr]||n[vr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=F0(e);e!==null;){if(n=e[vr])return n;e=F0(e)}return t}e=n,n=e.parentNode}return null}function Vl(e){return e=e[vr]||e[Vr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function Ad(e){return e[bl]||null}var Up=[],ii=-1;function Fs(e){return{current:e}}function Fe(e){0>ii||(e.current=Up[ii],Up[ii]=null,ii--)}function De(e,t){ii++,Up[ii]=e.current,e.current=t}var Ls={},Tt=Fs(Ls),Xt=Fs(!1),yo=Ls;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ls;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Yt(e){return e=e.childContextTypes,e!=null}function qu(){Fe(Xt),Fe(Tt)}function B0(e,t,n){if(Tt.current!==Ls)throw Error(Y(168));De(Tt,t),De(Xt,n)}function Dx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Y(108,uP(e)||"Unknown",s));return Ke({},n,r)}function Ku(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ls,yo=Tt.current,De(Tt,e),De(Xt,Xt.current),!0}function z0(e,t,n){var r=e.stateNode;if(!r)throw Error(Y(169));n?(e=Dx(e,t,yo),r.__reactInternalMemoizedMergedChildContext=e,Fe(Xt),Fe(Tt),De(Tt,e)):Fe(Xt),De(Xt,n)}var Ur=null,Pd=!1,xh=!1;function jx(e){Ur===null?Ur=[e]:Ur.push(e)}function kI(e){Pd=!0,jx(e)}function Bs(){if(!xh&&Ur!==null){xh=!0;var e=0,t=Ie;try{var n=Ur;for(Ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ur=null,Pd=!1}catch(s){throw Ur!==null&&(Ur=Ur.slice(e+1)),lx(gm,Bs),s}finally{Ie=t,xh=!1}}return null}var ai=[],li=0,Qu=null,Ju=0,Sn=[],xn=0,vo=null,Fr=1,Br="";function Xs(e,t){ai[li++]=Ju,ai[li++]=Qu,Qu=e,Ju=t}function Ux(e,t,n){Sn[xn++]=Fr,Sn[xn++]=Br,Sn[xn++]=vo,vo=e;var r=Fr;e=Br;var s=32-qn(r)-1;r&=~(1<<s),n+=1;var o=32-qn(t)+s;if(30<o){var l=s-s%5;o=(r&(1<<l)-1).toString(32),r>>=l,s-=l,Fr=1<<32-qn(t)+s|n<<s|r,Br=o+e}else Fr=1<<o|n<<s|r,Br=e}function Em(e){e.return!==null&&(Xs(e,1),Ux(e,1,0))}function Tm(e){for(;e===Qu;)Qu=ai[--li],ai[li]=null,Ju=ai[--li],ai[li]=null;for(;e===vo;)vo=Sn[--xn],Sn[xn]=null,Br=Sn[--xn],Sn[xn]=null,Fr=Sn[--xn],Sn[xn]=null}var dn=null,un=null,He=!1,Gn=null;function $x(e,t){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function H0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dn=e,un=_s(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dn=e,un=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vo!==null?{id:Fr,overflow:Br}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,dn=e,un=null,!0):!1;default:return!1}}function $p(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fp(e){if(He){var t=un;if(t){var n=t;if(!H0(e,t)){if($p(e))throw Error(Y(418));t=_s(n.nextSibling);var r=dn;t&&H0(e,t)?$x(r,n):(e.flags=e.flags&-4097|2,He=!1,dn=e)}}else{if($p(e))throw Error(Y(418));e.flags=e.flags&-4097|2,He=!1,dn=e}}}function W0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dn=e}function Fc(e){if(e!==dn)return!1;if(!He)return W0(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Lp(e.type,e.memoizedProps)),t&&(t=un)){if($p(e))throw Fx(),Error(Y(418));for(;t;)$x(e,t),t=_s(t.nextSibling)}if(W0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){un=_s(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}un=null}}else un=dn?_s(e.stateNode.nextSibling):null;return!0}function Fx(){for(var e=un;e;)e=_s(e.nextSibling)}function Ii(){un=dn=null,He=!1}function Rm(e){Gn===null?Gn=[e]:Gn.push(e)}var _I=Jr.ReactCurrentBatchConfig;function Ia(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var u=s.refs;l===null?delete u[o]:u[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,e))}return e}function Bc(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function V0(e){var t=e._init;return t(e._payload)}function Bx(e){function t(T,E){if(e){var k=T.deletions;k===null?(T.deletions=[E],T.flags|=16):k.push(E)}}function n(T,E){if(!e)return null;for(;E!==null;)t(T,E),E=E.sibling;return null}function r(T,E){for(T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function s(T,E){return T=Is(T,E),T.index=0,T.sibling=null,T}function o(T,E,k){return T.index=k,e?(k=T.alternate,k!==null?(k=k.index,k<E?(T.flags|=2,E):k):(T.flags|=2,E)):(T.flags|=1048576,E)}function l(T){return e&&T.alternate===null&&(T.flags|=2),T}function u(T,E,k,C){return E===null||E.tag!==6?(E=Oh(k,T.mode,C),E.return=T,E):(E=s(E,k),E.return=T,E)}function d(T,E,k,C){var I=k.type;return I===ti?g(T,E,k.props.children,C,k.key):E!==null&&(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===us&&V0(I)===E.type)?(C=s(E,k.props),C.ref=Ia(T,E,k),C.return=T,C):(C=xu(k.type,k.key,k.props,null,T.mode,C),C.ref=Ia(T,E,k),C.return=T,C)}function h(T,E,k,C){return E===null||E.tag!==4||E.stateNode.containerInfo!==k.containerInfo||E.stateNode.implementation!==k.implementation?(E=Ah(k,T.mode,C),E.return=T,E):(E=s(E,k.children||[]),E.return=T,E)}function g(T,E,k,C,I){return E===null||E.tag!==7?(E=ho(k,T.mode,C,I),E.return=T,E):(E=s(E,k),E.return=T,E)}function m(T,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Oh(""+E,T.mode,k),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ac:return k=xu(E.type,E.key,E.props,null,T.mode,k),k.ref=Ia(T,null,E),k.return=T,k;case ei:return E=Ah(E,T.mode,k),E.return=T,E;case us:var C=E._init;return m(T,C(E._payload),k)}if(Ba(E)||ka(E))return E=ho(E,T.mode,k,null),E.return=T,E;Bc(T,E)}return null}function S(T,E,k,C){var I=E!==null?E.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return I!==null?null:u(T,E,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ac:return k.key===I?d(T,E,k,C):null;case ei:return k.key===I?h(T,E,k,C):null;case us:return I=k._init,S(T,E,I(k._payload),C)}if(Ba(k)||ka(k))return I!==null?null:g(T,E,k,C,null);Bc(T,k)}return null}function b(T,E,k,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return T=T.get(k)||null,u(E,T,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ac:return T=T.get(C.key===null?k:C.key)||null,d(E,T,C,I);case ei:return T=T.get(C.key===null?k:C.key)||null,h(E,T,C,I);case us:var M=C._init;return b(T,E,k,M(C._payload),I)}if(Ba(C)||ka(C))return T=T.get(k)||null,g(E,T,C,I,null);Bc(E,C)}return null}function R(T,E,k,C){for(var I=null,M=null,L=E,W=E=0,K=null;L!==null&&W<k.length;W++){L.index>W?(K=L,L=null):K=L.sibling;var H=S(T,L,k[W],C);if(H===null){L===null&&(L=K);break}e&&L&&H.alternate===null&&t(T,L),E=o(H,E,W),M===null?I=H:M.sibling=H,M=H,L=K}if(W===k.length)return n(T,L),He&&Xs(T,W),I;if(L===null){for(;W<k.length;W++)L=m(T,k[W],C),L!==null&&(E=o(L,E,W),M===null?I=L:M.sibling=L,M=L);return He&&Xs(T,W),I}for(L=r(T,L);W<k.length;W++)K=b(L,T,W,k[W],C),K!==null&&(e&&K.alternate!==null&&L.delete(K.key===null?W:K.key),E=o(K,E,W),M===null?I=K:M.sibling=K,M=K);return e&&L.forEach(function(y){return t(T,y)}),He&&Xs(T,W),I}function x(T,E,k,C){var I=ka(k);if(typeof I!="function")throw Error(Y(150));if(k=I.call(k),k==null)throw Error(Y(151));for(var M=I=null,L=E,W=E=0,K=null,H=k.next();L!==null&&!H.done;W++,H=k.next()){L.index>W?(K=L,L=null):K=L.sibling;var y=S(T,L,H.value,C);if(y===null){L===null&&(L=K);break}e&&L&&y.alternate===null&&t(T,L),E=o(y,E,W),M===null?I=y:M.sibling=y,M=y,L=K}if(H.done)return n(T,L),He&&Xs(T,W),I;if(L===null){for(;!H.done;W++,H=k.next())H=m(T,H.value,C),H!==null&&(E=o(H,E,W),M===null?I=H:M.sibling=H,M=H);return He&&Xs(T,W),I}for(L=r(T,L);!H.done;W++,H=k.next())H=b(L,T,W,H.value,C),H!==null&&(e&&H.alternate!==null&&L.delete(H.key===null?W:H.key),E=o(H,E,W),M===null?I=H:M.sibling=H,M=H);return e&&L.forEach(function(V){return t(T,V)}),He&&Xs(T,W),I}function _(T,E,k,C){if(typeof k=="object"&&k!==null&&k.type===ti&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Ac:e:{for(var I=k.key,M=E;M!==null;){if(M.key===I){if(I=k.type,I===ti){if(M.tag===7){n(T,M.sibling),E=s(M,k.props.children),E.return=T,T=E;break e}}else if(M.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===us&&V0(I)===M.type){n(T,M.sibling),E=s(M,k.props),E.ref=Ia(T,M,k),E.return=T,T=E;break e}n(T,M);break}else t(T,M);M=M.sibling}k.type===ti?(E=ho(k.props.children,T.mode,C,k.key),E.return=T,T=E):(C=xu(k.type,k.key,k.props,null,T.mode,C),C.ref=Ia(T,E,k),C.return=T,T=C)}return l(T);case ei:e:{for(M=k.key;E!==null;){if(E.key===M)if(E.tag===4&&E.stateNode.containerInfo===k.containerInfo&&E.stateNode.implementation===k.implementation){n(T,E.sibling),E=s(E,k.children||[]),E.return=T,T=E;break e}else{n(T,E);break}else t(T,E);E=E.sibling}E=Ah(k,T.mode,C),E.return=T,T=E}return l(T);case us:return M=k._init,_(T,E,M(k._payload),C)}if(Ba(k))return R(T,E,k,C);if(ka(k))return x(T,E,k,C);Bc(T,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,E!==null&&E.tag===6?(n(T,E.sibling),E=s(E,k),E.return=T,T=E):(n(T,E),E=Oh(k,T.mode,C),E.return=T,T=E),l(T)):n(T,E)}return _}var Ni=Bx(!0),zx=Bx(!1),Xu=Fs(null),Yu=null,ci=null,km=null;function _m(){km=ci=Yu=null}function Om(e){var t=Xu.current;Fe(Xu),e._currentValue=t}function Bp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yi(e,t){Yu=e,km=ci=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qt=!0),e.firstContext=null)}function Tn(e){var t=e._currentValue;if(km!==e)if(e={context:e,memoizedValue:t,next:null},ci===null){if(Yu===null)throw Error(Y(308));ci=e,Yu.dependencies={lanes:0,firstContext:e}}else ci=ci.next=e;return t}var to=null;function Am(e){to===null?to=[e]:to.push(e)}function Hx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Am(t)):(n.next=s.next,s.next=n),t.interleaved=n,Gr(e,r)}function Gr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ds=!1;function Pm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Gr(e,n)}return s=r.interleaved,s===null?(t.next=t,Am(r)):(t.next=s.next,s.next=t),r.interleaved=t,Gr(e,n)}function mu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mm(e,n)}}function G0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zu(e,t,n,r){var s=e.updateQueue;ds=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var d=u,h=d.next;d.next=null,l===null?o=h:l.next=h,l=d;var g=e.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==l&&(u===null?g.firstBaseUpdate=h:u.next=h,g.lastBaseUpdate=d))}if(o!==null){var m=s.baseState;l=0,g=h=d=null,u=o;do{var S=u.lane,b=u.eventTime;if((r&S)===S){g!==null&&(g=g.next={eventTime:b,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var R=e,x=u;switch(S=t,b=n,x.tag){case 1:if(R=x.payload,typeof R=="function"){m=R.call(b,m,S);break e}m=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=x.payload,S=typeof R=="function"?R.call(b,m,S):R,S==null)break e;m=Ke({},m,S);break e;case 2:ds=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,S=s.effects,S===null?s.effects=[u]:S.push(u))}else b={eventTime:b,lane:S,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(h=g=b,d=m):g=g.next=b,l|=S;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;S=u,u=S.next,S.next=null,s.lastBaseUpdate=S,s.shared.pending=null}}while(!0);if(g===null&&(d=m),s.baseState=d,s.firstBaseUpdate=h,s.lastBaseUpdate=g,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);bo|=l,e.lanes=l,e.memoizedState=m}}function q0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var Gl={},xr=Fs(Gl),Sl=Fs(Gl),xl=Fs(Gl);function no(e){if(e===Gl)throw Error(Y(174));return e}function Im(e,t){switch(De(xl,t),De(Sl,e),De(xr,Gl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sp(t,e)}Fe(xr),De(xr,t)}function Mi(){Fe(xr),Fe(Sl),Fe(xl)}function Vx(e){no(xl.current);var t=no(xr.current),n=Sp(t,e.type);t!==n&&(De(Sl,e),De(xr,n))}function Nm(e){Sl.current===e&&(Fe(xr),Fe(Sl))}var Ve=Fs(0);function ed(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ch=[];function Mm(){for(var e=0;e<Ch.length;e++)Ch[e]._workInProgressVersionPrimary=null;Ch.length=0}var yu=Jr.ReactCurrentDispatcher,Eh=Jr.ReactCurrentBatchConfig,wo=0,Ge=null,at=null,ht=null,td=!1,tl=!1,Cl=0,OI=0;function St(){throw Error(Y(321))}function Lm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function Dm(e,t,n,r,s,o){if(wo=o,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yu.current=e===null||e.memoizedState===null?NI:MI,e=n(r,s),tl){o=0;do{if(tl=!1,Cl=0,25<=o)throw Error(Y(301));o+=1,ht=at=null,t.updateQueue=null,yu.current=LI,e=n(r,s)}while(tl)}if(yu.current=nd,t=at!==null&&at.next!==null,wo=0,ht=at=Ge=null,td=!1,t)throw Error(Y(300));return e}function jm(){var e=Cl!==0;return Cl=0,e}function hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ge.memoizedState=ht=e:ht=ht.next=e,ht}function Rn(){if(at===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=ht===null?Ge.memoizedState:ht.next;if(t!==null)ht=t,at=e;else{if(e===null)throw Error(Y(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ht===null?Ge.memoizedState=ht=e:ht=ht.next=e}return ht}function El(e,t){return typeof t=="function"?t(e):t}function Th(e){var t=Rn(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=at,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var u=l=null,d=null,h=o;do{var g=h.lane;if((wo&g)===g)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var m={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(u=d=m,l=r):d=d.next=m,Ge.lanes|=g,bo|=g}h=h.next}while(h!==null&&h!==o);d===null?l=r:d.next=u,Jn(r,t.memoizedState)||(Qt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ge.lanes|=o,bo|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rh(e){var t=Rn(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=e(o,l.action),l=l.next;while(l!==s);Jn(o,t.memoizedState)||(Qt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Gx(){}function qx(e,t){var n=Ge,r=Rn(),s=t(),o=!Jn(r.memoizedState,s);if(o&&(r.memoizedState=s,Qt=!0),r=r.queue,Um(Jx.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,Tl(9,Qx.bind(null,n,r,s,t),void 0,null),gt===null)throw Error(Y(349));wo&30||Kx(n,t,s)}return s}function Kx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qx(e,t,n,r){t.value=n,t.getSnapshot=r,Xx(t)&&Yx(e)}function Jx(e,t,n){return n(function(){Xx(t)&&Yx(e)})}function Xx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch{return!0}}function Yx(e){var t=Gr(e,1);t!==null&&Kn(t,e,1,-1)}function K0(e){var t=hr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:e},t.queue=e,e=e.dispatch=II.bind(null,Ge,e),[t.memoizedState,e]}function Tl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zx(){return Rn().memoizedState}function vu(e,t,n,r){var s=hr();Ge.flags|=e,s.memoizedState=Tl(1|t,n,void 0,r===void 0?null:r)}function Id(e,t,n,r){var s=Rn();r=r===void 0?null:r;var o=void 0;if(at!==null){var l=at.memoizedState;if(o=l.destroy,r!==null&&Lm(r,l.deps)){s.memoizedState=Tl(t,n,o,r);return}}Ge.flags|=e,s.memoizedState=Tl(1|t,n,o,r)}function Q0(e,t){return vu(8390656,8,e,t)}function Um(e,t){return Id(2048,8,e,t)}function e1(e,t){return Id(4,2,e,t)}function t1(e,t){return Id(4,4,e,t)}function n1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function r1(e,t,n){return n=n!=null?n.concat([e]):null,Id(4,4,n1.bind(null,t,e),n)}function $m(){}function s1(e,t){var n=Rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function o1(e,t){var n=Rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function i1(e,t,n){return wo&21?(Jn(n,t)||(n=dx(),Ge.lanes|=n,bo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qt=!0),e.memoizedState=n)}function AI(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var r=Eh.transition;Eh.transition={};try{e(!1),t()}finally{Ie=n,Eh.transition=r}}function a1(){return Rn().memoizedState}function PI(e,t,n){var r=Ps(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},l1(e))c1(t,n);else if(n=Hx(e,t,n,r),n!==null){var s=jt();Kn(n,e,r,s),u1(n,t,r)}}function II(e,t,n){var r=Ps(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(l1(e))c1(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,u=o(l,n);if(s.hasEagerState=!0,s.eagerState=u,Jn(u,l)){var d=t.interleaved;d===null?(s.next=s,Am(t)):(s.next=d.next,d.next=s),t.interleaved=s;return}}catch{}finally{}n=Hx(e,t,s,r),n!==null&&(s=jt(),Kn(n,e,r,s),u1(n,t,r))}}function l1(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function c1(e,t){tl=td=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function u1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mm(e,n)}}var nd={readContext:Tn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},NI={readContext:Tn,useCallback:function(e,t){return hr().memoizedState=[e,t===void 0?null:t],e},useContext:Tn,useEffect:Q0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vu(4194308,4,n1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vu(4194308,4,e,t)},useInsertionEffect:function(e,t){return vu(4,2,e,t)},useMemo:function(e,t){var n=hr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=hr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=PI.bind(null,Ge,e),[r.memoizedState,e]},useRef:function(e){var t=hr();return e={current:e},t.memoizedState=e},useState:K0,useDebugValue:$m,useDeferredValue:function(e){return hr().memoizedState=e},useTransition:function(){var e=K0(!1),t=e[0];return e=AI.bind(null,e[1]),hr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ge,s=hr();if(He){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),gt===null)throw Error(Y(349));wo&30||Kx(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Q0(Jx.bind(null,r,o,e),[e]),r.flags|=2048,Tl(9,Qx.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=hr(),t=gt.identifierPrefix;if(He){var n=Br,r=Fr;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Cl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=OI++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},MI={readContext:Tn,useCallback:s1,useContext:Tn,useEffect:Um,useImperativeHandle:r1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:o1,useReducer:Th,useRef:Zx,useState:function(){return Th(El)},useDebugValue:$m,useDeferredValue:function(e){var t=Rn();return i1(t,at.memoizedState,e)},useTransition:function(){var e=Th(El)[0],t=Rn().memoizedState;return[e,t]},useMutableSource:Gx,useSyncExternalStore:qx,useId:a1,unstable_isNewReconciler:!1},LI={readContext:Tn,useCallback:s1,useContext:Tn,useEffect:Um,useImperativeHandle:r1,useInsertionEffect:e1,useLayoutEffect:t1,useMemo:o1,useReducer:Rh,useRef:Zx,useState:function(){return Rh(El)},useDebugValue:$m,useDeferredValue:function(e){var t=Rn();return at===null?t.memoizedState=e:i1(t,at.memoizedState,e)},useTransition:function(){var e=Rh(El)[0],t=Rn().memoizedState;return[e,t]},useMutableSource:Gx,useSyncExternalStore:qx,useId:a1,unstable_isNewReconciler:!1};function Bn(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function zp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Nd={isMounted:function(e){return(e=e._reactInternals)?Ro(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jt(),s=Ps(e),o=zr(r,s);o.payload=t,n!=null&&(o.callback=n),t=Os(e,o,s),t!==null&&(Kn(t,e,s,r),mu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jt(),s=Ps(e),o=zr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Os(e,o,s),t!==null&&(Kn(t,e,s,r),mu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jt(),r=Ps(e),s=zr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Os(e,s,r),t!==null&&(Kn(t,e,r,n),mu(t,e,r))}};function J0(e,t,n,r,s,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!yl(n,r)||!yl(s,o):!0}function d1(e,t,n){var r=!1,s=Ls,o=t.contextType;return typeof o=="object"&&o!==null?o=Tn(o):(s=Yt(t)?yo:Tt.current,r=t.contextTypes,o=(r=r!=null)?Pi(e,s):Ls),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function X0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Nd.enqueueReplaceState(t,t.state,null)}function Hp(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Pm(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Tn(o):(o=Yt(t)?yo:Tt.current,s.context=Pi(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(zp(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Nd.enqueueReplaceState(s,s.state,null),Zu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Li(e,t){try{var n="",r=t;do n+=cP(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function kh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var DI=typeof WeakMap=="function"?WeakMap:Map;function f1(e,t,n){n=zr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sd||(sd=!0,eg=r),Wp(e,t)},n}function h1(e,t,n){n=zr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Wp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Wp(e,t),typeof r!="function"&&(As===null?As=new Set([this]):As.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Y0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new DI;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=JI.bind(null,e,t,n),t.then(e,e))}function Z0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ew(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zr(-1,1),t.tag=2,Os(n,t,1))),n.lanes|=1),e)}var jI=Jr.ReactCurrentOwner,Qt=!1;function Mt(e,t,n,r){t.child=e===null?zx(t,null,n,r):Ni(t,e.child,n,r)}function tw(e,t,n,r,s){n=n.render;var o=t.ref;return yi(t,s),r=Dm(e,t,n,r,o,s),n=jm(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qr(e,t,s)):(He&&n&&Em(t),t.flags|=1,Mt(e,t,r,s),t.child)}function nw(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!qm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,p1(e,t,o,r,s)):(e=xu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:yl,n(l,r)&&e.ref===t.ref)return qr(e,t,s)}return t.flags|=1,e=Is(o,r),e.ref=t.ref,e.return=t,t.child=e}function p1(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(yl(o,r)&&e.ref===t.ref)if(Qt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Qt=!0);else return t.lanes=e.lanes,qr(e,t,s)}return Vp(e,t,n,r,s)}function g1(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(di,an),an|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(di,an),an|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,De(di,an),an|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,De(di,an),an|=r;return Mt(e,t,s,n),t.child}function m1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vp(e,t,n,r,s){var o=Yt(n)?yo:Tt.current;return o=Pi(t,o),yi(t,s),n=Dm(e,t,n,r,o,s),r=jm(),e!==null&&!Qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qr(e,t,s)):(He&&r&&Em(t),t.flags|=1,Mt(e,t,n,s),t.child)}function rw(e,t,n,r,s){if(Yt(n)){var o=!0;Ku(t)}else o=!1;if(yi(t,s),t.stateNode===null)wu(e,t),d1(t,n,r),Hp(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var d=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=Tn(h):(h=Yt(n)?yo:Tt.current,h=Pi(t,h));var g=n.getDerivedStateFromProps,m=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||d!==h)&&X0(t,l,r,h),ds=!1;var S=t.memoizedState;l.state=S,Zu(t,r,l,s),d=t.memoizedState,u!==r||S!==d||Xt.current||ds?(typeof g=="function"&&(zp(t,n,g,r),d=t.memoizedState),(u=ds||J0(t,n,u,r,S,d,h))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),l.props=r,l.state=d,l.context=h,r=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Wx(e,t),u=t.memoizedProps,h=t.type===t.elementType?u:Bn(t.type,u),l.props=h,m=t.pendingProps,S=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=Tn(d):(d=Yt(n)?yo:Tt.current,d=Pi(t,d));var b=n.getDerivedStateFromProps;(g=typeof b=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||S!==d)&&X0(t,l,r,d),ds=!1,S=t.memoizedState,l.state=S,Zu(t,r,l,s);var R=t.memoizedState;u!==m||S!==R||Xt.current||ds?(typeof b=="function"&&(zp(t,n,b,r),R=t.memoizedState),(h=ds||J0(t,n,h,r,S,R,d)||!1)?(g||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,R,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,R,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=R),l.props=r,l.state=R,l.context=d,r=h):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),r=!1)}return Gp(e,t,n,r,o,s)}function Gp(e,t,n,r,s,o){m1(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&z0(t,n,!1),qr(e,t,o);r=t.stateNode,jI.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Ni(t,e.child,null,o),t.child=Ni(t,null,u,o)):Mt(e,t,u,o),t.memoizedState=r.state,s&&z0(t,n,!0),t.child}function y1(e){var t=e.stateNode;t.pendingContext?B0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&B0(e,t.context,!1),Im(e,t.containerInfo)}function sw(e,t,n,r,s){return Ii(),Rm(s),t.flags|=256,Mt(e,t,n,r),t.child}var qp={dehydrated:null,treeContext:null,retryLane:0};function Kp(e){return{baseLanes:e,cachePool:null,transitions:null}}function v1(e,t,n){var r=t.pendingProps,s=Ve.current,o=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(s&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),De(Ve,s&1),e===null)return Fp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Dd(l,r,0,null),e=ho(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Kp(n),t.memoizedState=qp,e):Fm(t,l));if(s=e.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return UI(e,t,l,r,u,s,n);if(o){o=r.fallback,l=t.mode,s=e.child,u=s.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=Is(s,d),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?o=Is(u,o):(o=ho(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?Kp(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=qp,r}return o=e.child,e=o.sibling,r=Is(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fm(e,t){return t=Dd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zc(e,t,n,r){return r!==null&&Rm(r),Ni(t,e.child,null,n),e=Fm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function UI(e,t,n,r,s,o,l){if(n)return t.flags&256?(t.flags&=-257,r=kh(Error(Y(422))),zc(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Dd({mode:"visible",children:r.children},s,0,null),o=ho(o,s,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ni(t,e.child,null,l),t.child.memoizedState=Kp(l),t.memoizedState=qp,o);if(!(t.mode&1))return zc(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(Y(419)),r=kh(o,r,void 0),zc(e,t,l,r)}if(u=(l&e.childLanes)!==0,Qt||u){if(r=gt,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Gr(e,s),Kn(r,e,s,-1))}return Gm(),r=kh(Error(Y(421))),zc(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=XI.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,un=_s(s.nextSibling),dn=t,He=!0,Gn=null,e!==null&&(Sn[xn++]=Fr,Sn[xn++]=Br,Sn[xn++]=vo,Fr=e.id,Br=e.overflow,vo=t),t=Fm(t,r.children),t.flags|=4096,t)}function ow(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bp(e.return,t,n)}function _h(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function w1(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Mt(e,t,r.children,n),r=Ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ow(e,n,t);else if(e.tag===19)ow(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(Ve,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ed(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),_h(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ed(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}_h(t,!0,n,null,o);break;case"together":_h(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=Is(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Is(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $I(e,t,n){switch(t.tag){case 3:y1(t),Ii();break;case 5:Vx(t);break;case 1:Yt(t.type)&&Ku(t);break;case 4:Im(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;De(Xu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(De(Ve,Ve.current&1),t.flags|=128,null):n&t.child.childLanes?v1(e,t,n):(De(Ve,Ve.current&1),e=qr(e,t,n),e!==null?e.sibling:null);De(Ve,Ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return w1(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),De(Ve,Ve.current),r)break;return null;case 22:case 23:return t.lanes=0,g1(e,t,n)}return qr(e,t,n)}var b1,Qp,S1,x1;b1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qp=function(){};S1=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,no(xr.current);var o=null;switch(n){case"input":s=yp(e,s),r=yp(e,r),o=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),o=[];break;case"textarea":s=bp(e,s),r=bp(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gu)}xp(n,r);var l;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var u=s[h];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ul.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var d=r[h];if(u=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&d!==u&&(d!=null||u!=null))if(h==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(o||(o=[]),o.push(h,n)),n=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(o=o||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ul.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&Ue("scroll",e),o||u===d||(o=[])):(o=o||[]).push(h,d))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};x1=function(e,t,n,r){n!==r&&(t.flags|=4)};function Na(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function FI(e,t,n){var r=t.pendingProps;switch(Tm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(t),null;case 1:return Yt(t.type)&&qu(),xt(t),null;case 3:return r=t.stateNode,Mi(),Fe(Xt),Fe(Tt),Mm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gn!==null&&(rg(Gn),Gn=null))),Qp(e,t),xt(t),null;case 5:Nm(t);var s=no(xl.current);if(n=t.type,e!==null&&t.stateNode!=null)S1(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Y(166));return xt(t),null}if(e=no(xr.current),Fc(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[vr]=t,r[bl]=o,e=(t.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(s=0;s<Ha.length;s++)Ue(Ha[s],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":p0(r,o),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ue("invalid",r);break;case"textarea":m0(r,o),Ue("invalid",r)}xp(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&$c(r.textContent,u,e),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&$c(r.textContent,u,e),s=["children",""+u]):ul.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Ue("scroll",r)}switch(n){case"input":Pc(r),g0(r,o,!0);break;case"textarea":Pc(r),y0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Gu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=JS(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[vr]=t,e[bl]=r,b1(e,t,!1,!1),t.stateNode=e;e:{switch(l=Cp(n,r),n){case"dialog":Ue("cancel",e),Ue("close",e),s=r;break;case"iframe":case"object":case"embed":Ue("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ha.length;s++)Ue(Ha[s],e);s=r;break;case"source":Ue("error",e),s=r;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),s=r;break;case"details":Ue("toggle",e),s=r;break;case"input":p0(e,r),s=yp(e,r),Ue("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),Ue("invalid",e);break;case"textarea":m0(e,r),s=bp(e,r),Ue("invalid",e);break;default:s=r}xp(n,s),u=s;for(o in u)if(u.hasOwnProperty(o)){var d=u[o];o==="style"?ZS(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&XS(e,d)):o==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&dl(e,d):typeof d=="number"&&dl(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ul.hasOwnProperty(o)?d!=null&&o==="onScroll"&&Ue("scroll",e):d!=null&&um(e,o,d,l))}switch(n){case"input":Pc(e),g0(e,r,!1);break;case"textarea":Pc(e),y0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ms(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?hi(e,!!r.multiple,o,!1):r.defaultValue!=null&&hi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Gu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xt(t),null;case 6:if(e&&t.stateNode!=null)x1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Y(166));if(n=no(xl.current),no(xr.current),Fc(t)){if(r=t.stateNode,n=t.memoizedProps,r[vr]=t,(o=r.nodeValue!==n)&&(e=dn,e!==null))switch(e.tag){case 3:$c(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$c(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vr]=t,t.stateNode=r}return xt(t),null;case 13:if(Fe(Ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&un!==null&&t.mode&1&&!(t.flags&128))Fx(),Ii(),t.flags|=98560,o=!1;else if(o=Fc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Y(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Y(317));o[vr]=t}else Ii(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xt(t),o=!1}else Gn!==null&&(rg(Gn),Gn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ve.current&1?lt===0&&(lt=3):Gm())),t.updateQueue!==null&&(t.flags|=4),xt(t),null);case 4:return Mi(),Qp(e,t),e===null&&vl(t.stateNode.containerInfo),xt(t),null;case 10:return Om(t.type._context),xt(t),null;case 17:return Yt(t.type)&&qu(),xt(t),null;case 19:if(Fe(Ve),o=t.memoizedState,o===null)return xt(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)Na(o,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ed(e),l!==null){for(t.flags|=128,Na(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(Ve,Ve.current&1|2),t.child}e=e.sibling}o.tail!==null&&et()>Di&&(t.flags|=128,r=!0,Na(o,!1),t.lanes=4194304)}else{if(!r)if(e=ed(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Na(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!He)return xt(t),null}else 2*et()-o.renderingStartTime>Di&&n!==1073741824&&(t.flags|=128,r=!0,Na(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=et(),t.sibling=null,n=Ve.current,De(Ve,r?n&1|2:n&1),t):(xt(t),null);case 22:case 23:return Vm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?an&1073741824&&(xt(t),t.subtreeFlags&6&&(t.flags|=8192)):xt(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function BI(e,t){switch(Tm(t),t.tag){case 1:return Yt(t.type)&&qu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mi(),Fe(Xt),Fe(Tt),Mm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nm(t),null;case 13:if(Fe(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));Ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(Ve),null;case 4:return Mi(),null;case 10:return Om(t.type._context),null;case 22:case 23:return Vm(),null;case 24:return null;default:return null}}var Hc=!1,Ct=!1,zI=typeof WeakSet=="function"?WeakSet:Set,ie=null;function ui(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(e,t,r)}else n.current=null}function Jp(e,t,n){try{n()}catch(r){Je(e,t,r)}}var iw=!1;function HI(e,t){if(Np=Hu,e=kx(),Cm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,u=-1,d=-1,h=0,g=0,m=e,S=null;t:for(;;){for(var b;m!==n||s!==0&&m.nodeType!==3||(u=l+s),m!==o||r!==0&&m.nodeType!==3||(d=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(b=m.firstChild)!==null;)S=m,m=b;for(;;){if(m===e)break t;if(S===n&&++h===s&&(u=l),S===o&&++g===r&&(d=l),(b=m.nextSibling)!==null)break;m=S,S=m.parentNode}m=b}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mp={focusedElem:e,selectionRange:n},Hu=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var R=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var x=R.memoizedProps,_=R.memoizedState,T=t.stateNode,E=T.getSnapshotBeforeUpdate(t.elementType===t.type?x:Bn(t.type,x),_);T.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(C){Je(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return R=iw,iw=!1,R}function nl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Jp(t,n,o)}s=s.next}while(s!==r)}}function Md(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function C1(e){var t=e.alternate;t!==null&&(e.alternate=null,C1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vr],delete t[bl],delete t[jp],delete t[TI],delete t[RI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function E1(e){return e.tag===5||e.tag===3||e.tag===4}function aw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||E1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gu));else if(r!==4&&(e=e.child,e!==null))for(Yp(e,t,n),e=e.sibling;e!==null;)Yp(e,t,n),e=e.sibling}function Zp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zp(e,t,n),e=e.sibling;e!==null;)Zp(e,t,n),e=e.sibling}var mt=null,Vn=!1;function ss(e,t,n){for(n=n.child;n!==null;)T1(e,t,n),n=n.sibling}function T1(e,t,n){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Rd,n)}catch{}switch(n.tag){case 5:Ct||ui(n,t);case 6:var r=mt,s=Vn;mt=null,ss(e,t,n),mt=r,Vn=s,mt!==null&&(Vn?(e=mt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(Vn?(e=mt,n=n.stateNode,e.nodeType===8?Sh(e.parentNode,n):e.nodeType===1&&Sh(e,n),gl(e)):Sh(mt,n.stateNode));break;case 4:r=mt,s=Vn,mt=n.stateNode.containerInfo,Vn=!0,ss(e,t,n),mt=r,Vn=s;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Jp(n,t,l),s=s.next}while(s!==r)}ss(e,t,n);break;case 1:if(!Ct&&(ui(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Je(n,t,u)}ss(e,t,n);break;case 21:ss(e,t,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,ss(e,t,n),Ct=r):ss(e,t,n);break;default:ss(e,t,n)}}function lw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zI),t.forEach(function(r){var s=YI.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function jn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:mt=u.stateNode,Vn=!1;break e;case 3:mt=u.stateNode.containerInfo,Vn=!0;break e;case 4:mt=u.stateNode.containerInfo,Vn=!0;break e}u=u.return}if(mt===null)throw Error(Y(160));T1(o,l,s),mt=null,Vn=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(h){Je(s,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)R1(t,e),t=t.sibling}function R1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jn(t,e),cr(e),r&4){try{nl(3,e,e.return),Md(3,e)}catch(x){Je(e,e.return,x)}try{nl(5,e,e.return)}catch(x){Je(e,e.return,x)}}break;case 1:jn(t,e),cr(e),r&512&&n!==null&&ui(n,n.return);break;case 5:if(jn(t,e),cr(e),r&512&&n!==null&&ui(n,n.return),e.flags&32){var s=e.stateNode;try{dl(s,"")}catch(x){Je(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&KS(s,o),Cp(u,l);var h=Cp(u,o);for(l=0;l<d.length;l+=2){var g=d[l],m=d[l+1];g==="style"?ZS(s,m):g==="dangerouslySetInnerHTML"?XS(s,m):g==="children"?dl(s,m):um(s,g,m,h)}switch(u){case"input":vp(s,o);break;case"textarea":QS(s,o);break;case"select":var S=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?hi(s,!!o.multiple,b,!1):S!==!!o.multiple&&(o.defaultValue!=null?hi(s,!!o.multiple,o.defaultValue,!0):hi(s,!!o.multiple,o.multiple?[]:"",!1))}s[bl]=o}catch(x){Je(e,e.return,x)}}break;case 6:if(jn(t,e),cr(e),r&4){if(e.stateNode===null)throw Error(Y(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(x){Je(e,e.return,x)}}break;case 3:if(jn(t,e),cr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gl(t.containerInfo)}catch(x){Je(e,e.return,x)}break;case 4:jn(t,e),cr(e);break;case 13:jn(t,e),cr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Hm=et())),r&4&&lw(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Ct=(h=Ct)||g,jn(t,e),Ct=h):jn(t,e),cr(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!g&&e.mode&1)for(ie=e,g=e.child;g!==null;){for(m=ie=g;ie!==null;){switch(S=ie,b=S.child,S.tag){case 0:case 11:case 14:case 15:nl(4,S,S.return);break;case 1:ui(S,S.return);var R=S.stateNode;if(typeof R.componentWillUnmount=="function"){r=S,n=S.return;try{t=r,R.props=t.memoizedProps,R.state=t.memoizedState,R.componentWillUnmount()}catch(x){Je(r,n,x)}}break;case 5:ui(S,S.return);break;case 22:if(S.memoizedState!==null){uw(m);continue}}b!==null?(b.return=S,ie=b):uw(m)}g=g.sibling}e:for(g=null,m=e;;){if(m.tag===5){if(g===null){g=m;try{s=m.stateNode,h?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=m.stateNode,d=m.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=YS("display",l))}catch(x){Je(e,e.return,x)}}}else if(m.tag===6){if(g===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(x){Je(e,e.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:jn(t,e),cr(e),r&4&&lw(e);break;case 21:break;default:jn(t,e),cr(e)}}function cr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(E1(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(dl(s,""),r.flags&=-33);var o=aw(e);Zp(e,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,u=aw(e);Yp(e,u,l);break;default:throw Error(Y(161))}}catch(d){Je(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function WI(e,t,n){ie=e,k1(e)}function k1(e,t,n){for(var r=(e.mode&1)!==0;ie!==null;){var s=ie,o=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Hc;if(!l){var u=s.alternate,d=u!==null&&u.memoizedState!==null||Ct;u=Hc;var h=Ct;if(Hc=l,(Ct=d)&&!h)for(ie=s;ie!==null;)l=ie,d=l.child,l.tag===22&&l.memoizedState!==null?dw(s):d!==null?(d.return=l,ie=d):dw(s);for(;o!==null;)ie=o,k1(o),o=o.sibling;ie=s,Hc=u,Ct=h}cw(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ie=o):cw(e)}}function cw(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||Md(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Bn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&q0(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}q0(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var m=g.dehydrated;m!==null&&gl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Ct||t.flags&512&&Xp(t)}catch(S){Je(t,t.return,S)}}if(t===e){ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,ie=n;break}ie=t.return}}function uw(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ie=n;break}ie=t.return}}function dw(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Md(4,t)}catch(d){Je(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(d){Je(t,s,d)}}var o=t.return;try{Xp(t)}catch(d){Je(t,o,d)}break;case 5:var l=t.return;try{Xp(t)}catch(d){Je(t,l,d)}}}catch(d){Je(t,t.return,d)}if(t===e){ie=null;break}var u=t.sibling;if(u!==null){u.return=t.return,ie=u;break}ie=t.return}}var VI=Math.ceil,rd=Jr.ReactCurrentDispatcher,Bm=Jr.ReactCurrentOwner,En=Jr.ReactCurrentBatchConfig,Te=0,gt=null,st=null,yt=0,an=0,di=Fs(0),lt=0,Rl=null,bo=0,Ld=0,zm=0,rl=null,Kt=null,Hm=0,Di=1/0,Dr=null,sd=!1,eg=null,As=null,Wc=!1,Cs=null,od=0,sl=0,tg=null,bu=-1,Su=0;function jt(){return Te&6?et():bu!==-1?bu:bu=et()}function Ps(e){return e.mode&1?Te&2&&yt!==0?yt&-yt:_I.transition!==null?(Su===0&&(Su=dx()),Su):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:vx(e.type)),e):1}function Kn(e,t,n,r){if(50<sl)throw sl=0,tg=null,Error(Y(185));Hl(e,n,r),(!(Te&2)||e!==gt)&&(e===gt&&(!(Te&2)&&(Ld|=n),lt===4&&hs(e,yt)),Zt(e,r),n===1&&Te===0&&!(t.mode&1)&&(Di=et()+500,Pd&&Bs()))}function Zt(e,t){var n=e.callbackNode;_P(e,t);var r=zu(e,e===gt?yt:0);if(r===0)n!==null&&b0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&b0(n),t===1)e.tag===0?kI(fw.bind(null,e)):jx(fw.bind(null,e)),CI(function(){!(Te&6)&&Bs()}),n=null;else{switch(fx(r)){case 1:n=gm;break;case 4:n=cx;break;case 16:n=Bu;break;case 536870912:n=ux;break;default:n=Bu}n=L1(n,_1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _1(e,t){if(bu=-1,Su=0,Te&6)throw Error(Y(327));var n=e.callbackNode;if(vi()&&e.callbackNode!==n)return null;var r=zu(e,e===gt?yt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=id(e,r);else{t=r;var s=Te;Te|=2;var o=A1();(gt!==e||yt!==t)&&(Dr=null,Di=et()+500,fo(e,t));do try{KI();break}catch(u){O1(e,u)}while(!0);_m(),rd.current=o,Te=s,st!==null?t=0:(gt=null,yt=0,t=lt)}if(t!==0){if(t===2&&(s=_p(e),s!==0&&(r=s,t=ng(e,s))),t===1)throw n=Rl,fo(e,0),hs(e,r),Zt(e,et()),n;if(t===6)hs(e,r);else{if(s=e.current.alternate,!(r&30)&&!GI(s)&&(t=id(e,r),t===2&&(o=_p(e),o!==0&&(r=o,t=ng(e,o))),t===1))throw n=Rl,fo(e,0),hs(e,r),Zt(e,et()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Y(345));case 2:Ys(e,Kt,Dr);break;case 3:if(hs(e,r),(r&130023424)===r&&(t=Hm+500-et(),10<t)){if(zu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){jt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Dp(Ys.bind(null,e,Kt,Dr),t);break}Ys(e,Kt,Dr);break;case 4:if(hs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-qn(r);o=1<<l,l=t[l],l>s&&(s=l),r&=~o}if(r=s,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VI(r/1960))-r,10<r){e.timeoutHandle=Dp(Ys.bind(null,e,Kt,Dr),r);break}Ys(e,Kt,Dr);break;case 5:Ys(e,Kt,Dr);break;default:throw Error(Y(329))}}}return Zt(e,et()),e.callbackNode===n?_1.bind(null,e):null}function ng(e,t){var n=rl;return e.current.memoizedState.isDehydrated&&(fo(e,t).flags|=256),e=id(e,t),e!==2&&(t=Kt,Kt=n,t!==null&&rg(t)),e}function rg(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function GI(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Jn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hs(e,t){for(t&=~zm,t&=~Ld,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qn(t),r=1<<n;e[n]=-1,t&=~r}}function fw(e){if(Te&6)throw Error(Y(327));vi();var t=zu(e,0);if(!(t&1))return Zt(e,et()),null;var n=id(e,t);if(e.tag!==0&&n===2){var r=_p(e);r!==0&&(t=r,n=ng(e,r))}if(n===1)throw n=Rl,fo(e,0),hs(e,t),Zt(e,et()),n;if(n===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ys(e,Kt,Dr),Zt(e,et()),null}function Wm(e,t){var n=Te;Te|=1;try{return e(t)}finally{Te=n,Te===0&&(Di=et()+500,Pd&&Bs())}}function So(e){Cs!==null&&Cs.tag===0&&!(Te&6)&&vi();var t=Te;Te|=1;var n=En.transition,r=Ie;try{if(En.transition=null,Ie=1,e)return e()}finally{Ie=r,En.transition=n,Te=t,!(Te&6)&&Bs()}}function Vm(){an=di.current,Fe(di)}function fo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xI(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(Tm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qu();break;case 3:Mi(),Fe(Xt),Fe(Tt),Mm();break;case 5:Nm(r);break;case 4:Mi();break;case 13:Fe(Ve);break;case 19:Fe(Ve);break;case 10:Om(r.type._context);break;case 22:case 23:Vm()}n=n.return}if(gt=e,st=e=Is(e.current,null),yt=an=t,lt=0,Rl=null,zm=Ld=bo=0,Kt=rl=null,to!==null){for(t=0;t<to.length;t++)if(n=to[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,r.next=l}n.pending=r}to=null}return e}function O1(e,t){do{var n=st;try{if(_m(),yu.current=nd,td){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}td=!1}if(wo=0,ht=at=Ge=null,tl=!1,Cl=0,Bm.current=null,n===null||n.return===null){lt=1,Rl=t,st=null;break}e:{var o=e,l=n.return,u=n,d=t;if(t=yt,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,g=u,m=g.tag;if(!(g.mode&1)&&(m===0||m===11||m===15)){var S=g.alternate;S?(g.updateQueue=S.updateQueue,g.memoizedState=S.memoizedState,g.lanes=S.lanes):(g.updateQueue=null,g.memoizedState=null)}var b=Z0(l);if(b!==null){b.flags&=-257,ew(b,l,u,o,t),b.mode&1&&Y0(o,h,t),t=b,d=h;var R=t.updateQueue;if(R===null){var x=new Set;x.add(d),t.updateQueue=x}else R.add(d);break e}else{if(!(t&1)){Y0(o,h,t),Gm();break e}d=Error(Y(426))}}else if(He&&u.mode&1){var _=Z0(l);if(_!==null){!(_.flags&65536)&&(_.flags|=256),ew(_,l,u,o,t),Rm(Li(d,u));break e}}o=d=Li(d,u),lt!==4&&(lt=2),rl===null?rl=[o]:rl.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var T=f1(o,d,t);G0(o,T);break e;case 1:u=d;var E=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(As===null||!As.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=h1(o,u,t);G0(o,C);break e}}o=o.return}while(o!==null)}I1(n)}catch(I){t=I,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function A1(){var e=rd.current;return rd.current=nd,e===null?nd:e}function Gm(){(lt===0||lt===3||lt===2)&&(lt=4),gt===null||!(bo&268435455)&&!(Ld&268435455)||hs(gt,yt)}function id(e,t){var n=Te;Te|=2;var r=A1();(gt!==e||yt!==t)&&(Dr=null,fo(e,t));do try{qI();break}catch(s){O1(e,s)}while(!0);if(_m(),Te=n,rd.current=r,st!==null)throw Error(Y(261));return gt=null,yt=0,lt}function qI(){for(;st!==null;)P1(st)}function KI(){for(;st!==null&&!wP();)P1(st)}function P1(e){var t=M1(e.alternate,e,an);e.memoizedProps=e.pendingProps,t===null?I1(e):st=t,Bm.current=null}function I1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=BI(n,t),n!==null){n.flags&=32767,st=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,st=null;return}}else if(n=FI(n,t,an),n!==null){st=n;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);lt===0&&(lt=5)}function Ys(e,t,n){var r=Ie,s=En.transition;try{En.transition=null,Ie=1,QI(e,t,n,r)}finally{En.transition=s,Ie=r}return null}function QI(e,t,n,r){do vi();while(Cs!==null);if(Te&6)throw Error(Y(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(OP(e,o),e===gt&&(st=gt=null,yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wc||(Wc=!0,L1(Bu,function(){return vi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=En.transition,En.transition=null;var l=Ie;Ie=1;var u=Te;Te|=4,Bm.current=null,HI(e,n),R1(n,e),gI(Mp),Hu=!!Np,Mp=Np=null,e.current=n,WI(n),bP(),Te=u,Ie=l,En.transition=o}else e.current=n;if(Wc&&(Wc=!1,Cs=e,od=s),o=e.pendingLanes,o===0&&(As=null),CP(n.stateNode),Zt(e,et()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sd)throw sd=!1,e=eg,eg=null,e;return od&1&&e.tag!==0&&vi(),o=e.pendingLanes,o&1?e===tg?sl++:(sl=0,tg=e):sl=0,Bs(),null}function vi(){if(Cs!==null){var e=fx(od),t=En.transition,n=Ie;try{if(En.transition=null,Ie=16>e?16:e,Cs===null)var r=!1;else{if(e=Cs,Cs=null,od=0,Te&6)throw Error(Y(331));var s=Te;for(Te|=4,ie=e.current;ie!==null;){var o=ie,l=o.child;if(ie.flags&16){var u=o.deletions;if(u!==null){for(var d=0;d<u.length;d++){var h=u[d];for(ie=h;ie!==null;){var g=ie;switch(g.tag){case 0:case 11:case 15:nl(8,g,o)}var m=g.child;if(m!==null)m.return=g,ie=m;else for(;ie!==null;){g=ie;var S=g.sibling,b=g.return;if(C1(g),g===h){ie=null;break}if(S!==null){S.return=b,ie=S;break}ie=b}}}var R=o.alternate;if(R!==null){var x=R.child;if(x!==null){R.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}ie=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,ie=l;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var T=o.sibling;if(T!==null){T.return=o.return,ie=T;break e}ie=o.return}}var E=e.current;for(ie=E;ie!==null;){l=ie;var k=l.child;if(l.subtreeFlags&2064&&k!==null)k.return=l,ie=k;else e:for(l=E;ie!==null;){if(u=ie,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Md(9,u)}}catch(I){Je(u,u.return,I)}if(u===l){ie=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,ie=C;break e}ie=u.return}}if(Te=s,Bs(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Rd,e)}catch{}r=!0}return r}finally{Ie=n,En.transition=t}}return!1}function hw(e,t,n){t=Li(n,t),t=f1(e,t,1),e=Os(e,t,1),t=jt(),e!==null&&(Hl(e,1,t),Zt(e,t))}function Je(e,t,n){if(e.tag===3)hw(e,e,n);else for(;t!==null;){if(t.tag===3){hw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(As===null||!As.has(r))){e=Li(n,e),e=h1(t,e,1),t=Os(t,e,1),e=jt(),t!==null&&(Hl(t,1,e),Zt(t,e));break}}t=t.return}}function JI(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=jt(),e.pingedLanes|=e.suspendedLanes&n,gt===e&&(yt&n)===n&&(lt===4||lt===3&&(yt&130023424)===yt&&500>et()-Hm?fo(e,0):zm|=n),Zt(e,t)}function N1(e,t){t===0&&(e.mode&1?(t=Mc,Mc<<=1,!(Mc&130023424)&&(Mc=4194304)):t=1);var n=jt();e=Gr(e,t),e!==null&&(Hl(e,t,n),Zt(e,n))}function XI(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),N1(e,n)}function YI(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(t),N1(e,n)}var M1;M1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)Qt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qt=!1,$I(e,t,n);Qt=!!(e.flags&131072)}else Qt=!1,He&&t.flags&1048576&&Ux(t,Ju,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;wu(e,t),e=t.pendingProps;var s=Pi(t,Tt.current);yi(t,n),s=Dm(null,t,r,e,s,n);var o=jm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yt(r)?(o=!0,Ku(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pm(t),s.updater=Nd,t.stateNode=s,s._reactInternals=t,Hp(t,r,e,n),t=Gp(null,t,r,!0,o,n)):(t.tag=0,He&&o&&Em(t),Mt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(wu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=eN(r),e=Bn(r,e),s){case 0:t=Vp(null,t,r,e,n);break e;case 1:t=rw(null,t,r,e,n);break e;case 11:t=tw(null,t,r,e,n);break e;case 14:t=nw(null,t,r,Bn(r.type,e),n);break e}throw Error(Y(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bn(r,s),Vp(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bn(r,s),rw(e,t,r,s,n);case 3:e:{if(y1(t),e===null)throw Error(Y(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Wx(e,t),Zu(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Li(Error(Y(423)),t),t=sw(e,t,r,n,s);break e}else if(r!==s){s=Li(Error(Y(424)),t),t=sw(e,t,r,n,s);break e}else for(un=_s(t.stateNode.containerInfo.firstChild),dn=t,He=!0,Gn=null,n=zx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ii(),r===s){t=qr(e,t,n);break e}Mt(e,t,r,n)}t=t.child}return t;case 5:return Vx(t),e===null&&Fp(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,l=s.children,Lp(r,s)?l=null:o!==null&&Lp(r,o)&&(t.flags|=32),m1(e,t),Mt(e,t,l,n),t.child;case 6:return e===null&&Fp(t),null;case 13:return v1(e,t,n);case 4:return Im(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ni(t,null,r,n):Mt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bn(r,s),tw(e,t,r,s,n);case 7:return Mt(e,t,t.pendingProps,n),t.child;case 8:return Mt(e,t,t.pendingProps.children,n),t.child;case 12:return Mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,l=s.value,De(Xu,r._currentValue),r._currentValue=l,o!==null)if(Jn(o.value,l)){if(o.children===s.children&&!Xt.current){t=qr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){l=o.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(o.tag===1){d=zr(-1,n&-n),d.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?d.next=d:(d.next=g.next,g.next=d),h.pending=d}}o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),Bp(o.return,n,t),u.lanes|=n;break}d=d.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(Y(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Bp(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Mt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,yi(t,n),s=Tn(s),r=r(s),t.flags|=1,Mt(e,t,r,n),t.child;case 14:return r=t.type,s=Bn(r,t.pendingProps),s=Bn(r.type,s),nw(e,t,r,s,n);case 15:return p1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Bn(r,s),wu(e,t),t.tag=1,Yt(r)?(e=!0,Ku(t)):e=!1,yi(t,n),d1(t,r,s),Hp(t,r,s,n),Gp(null,t,r,!0,e,n);case 19:return w1(e,t,n);case 22:return g1(e,t,n)}throw Error(Y(156,t.tag))};function L1(e,t){return lx(e,t)}function ZI(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,n,r){return new ZI(e,t,n,r)}function qm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function eN(e){if(typeof e=="function")return qm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fm)return 11;if(e===hm)return 14}return 2}function Is(e,t){var n=e.alternate;return n===null?(n=Cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xu(e,t,n,r,s,o){var l=2;if(r=e,typeof e=="function")qm(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case ti:return ho(n.children,s,o,t);case dm:l=8,s|=8;break;case hp:return e=Cn(12,n,t,s|2),e.elementType=hp,e.lanes=o,e;case pp:return e=Cn(13,n,t,s),e.elementType=pp,e.lanes=o,e;case gp:return e=Cn(19,n,t,s),e.elementType=gp,e.lanes=o,e;case VS:return Dd(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case HS:l=10;break e;case WS:l=9;break e;case fm:l=11;break e;case hm:l=14;break e;case us:l=16,r=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Cn(l,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function ho(e,t,n,r){return e=Cn(7,e,r,t),e.lanes=n,e}function Dd(e,t,n,r){return e=Cn(22,e,r,t),e.elementType=VS,e.lanes=n,e.stateNode={isHidden:!1},e}function Oh(e,t,n){return e=Cn(6,e,null,t),e.lanes=n,e}function Ah(e,t,n){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tN(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uh(0),this.expirationTimes=uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Km(e,t,n,r,s,o,l,u,d){return e=new tN(e,t,n,u,d),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Cn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pm(o),e}function nN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ei,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function D1(e){if(!e)return Ls;e=e._reactInternals;e:{if(Ro(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var n=e.type;if(Yt(n))return Dx(e,n,t)}return t}function j1(e,t,n,r,s,o,l,u,d){return e=Km(n,r,!0,e,s,o,l,u,d),e.context=D1(null),n=e.current,r=jt(),s=Ps(n),o=zr(r,s),o.callback=t??null,Os(n,o,s),e.current.lanes=s,Hl(e,s,r),Zt(e,r),e}function jd(e,t,n,r){var s=t.current,o=jt(),l=Ps(s);return n=D1(n),t.context===null?t.context=n:t.pendingContext=n,t=zr(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Os(s,t,l),e!==null&&(Kn(e,s,l,o),mu(e,s,l)),l}function ad(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qm(e,t){pw(e,t),(e=e.alternate)&&pw(e,t)}function rN(){return null}var U1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jm(e){this._internalRoot=e}Ud.prototype.render=Jm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));jd(e,t,null,null)};Ud.prototype.unmount=Jm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;So(function(){jd(null,e,null,null)}),t[Vr]=null}};function Ud(e){this._internalRoot=e}Ud.prototype.unstable_scheduleHydration=function(e){if(e){var t=gx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fs.length&&t!==0&&t<fs[n].priority;n++);fs.splice(n,0,e),n===0&&yx(e)}};function Xm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gw(){}function sN(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var h=ad(l);o.call(h)}}var l=j1(t,r,e,0,null,!1,!1,"",gw);return e._reactRootContainer=l,e[Vr]=l.current,vl(e.nodeType===8?e.parentNode:e),So(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var h=ad(d);u.call(h)}}var d=Km(e,0,!1,null,null,!1,!1,"",gw);return e._reactRootContainer=d,e[Vr]=d.current,vl(e.nodeType===8?e.parentNode:e),So(function(){jd(t,d,n,r)}),d}function Fd(e,t,n,r,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var u=s;s=function(){var d=ad(l);u.call(d)}}jd(t,l,e,s)}else l=sN(n,t,e,s,r);return ad(l)}hx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=za(t.pendingLanes);n!==0&&(mm(t,n|1),Zt(t,et()),!(Te&6)&&(Di=et()+500,Bs()))}break;case 13:So(function(){var r=Gr(e,1);if(r!==null){var s=jt();Kn(r,e,1,s)}}),Qm(e,1)}};ym=function(e){if(e.tag===13){var t=Gr(e,134217728);if(t!==null){var n=jt();Kn(t,e,134217728,n)}Qm(e,134217728)}};px=function(e){if(e.tag===13){var t=Ps(e),n=Gr(e,t);if(n!==null){var r=jt();Kn(n,e,t,r)}Qm(e,t)}};gx=function(){return Ie};mx=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}};Tp=function(e,t,n){switch(t){case"input":if(vp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ad(r);if(!s)throw Error(Y(90));qS(r),vp(r,s)}}}break;case"textarea":QS(e,n);break;case"select":t=n.value,t!=null&&hi(e,!!n.multiple,t,!1)}};nx=Wm;rx=So;var oN={usingClientEntryPoint:!1,Events:[Vl,oi,Ad,ex,tx,Wm]},Ma={findFiberByHostInstance:eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iN={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ix(e),e===null?null:e.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||rN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Rd=Vc.inject(iN),Sr=Vc}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oN;pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xm(t))throw Error(Y(200));return nN(e,t,null,n)};pn.createRoot=function(e,t){if(!Xm(e))throw Error(Y(299));var n=!1,r="",s=U1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Km(e,1,!1,null,null,n,!1,r,s),e[Vr]=t.current,vl(e.nodeType===8?e.parentNode:e),new Jm(t)};pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=ix(t),e=e===null?null:e.stateNode,e};pn.flushSync=function(e){return So(e)};pn.hydrate=function(e,t,n){if(!$d(t))throw Error(Y(200));return Fd(null,e,t,!0,n)};pn.hydrateRoot=function(e,t,n){if(!Xm(e))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",l=U1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=j1(t,null,e,1,n??null,s,!1,o,l),e[Vr]=t.current,vl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ud(t)};pn.render=function(e,t,n){if(!$d(t))throw Error(Y(200));return Fd(null,e,t,!1,n)};pn.unmountComponentAtNode=function(e){if(!$d(e))throw Error(Y(40));return e._reactRootContainer?(So(function(){Fd(null,null,e,!1,function(){e._reactRootContainer=null,e[Vr]=null})}),!0):!1};pn.unstable_batchedUpdates=Wm;pn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$d(n))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Fd(e,t,n,!1,r)};pn.version="18.3.1-next-f1338f8080-20240426";function $1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($1)}catch(e){console.error(e)}}$1(),$S.exports=pn;var ql=$S.exports;const F1=rm(ql);var B1,mw=ql;B1=mw.createRoot,mw.hydrateRoot;const aN="modulepreload",lN=function(e){return"/"+e},yw={},mn=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(d=>{if(d=lN(d),d in yw)return;yw[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":aN,h||(m.as="script"),m.crossOrigin="",m.href=d,u&&m.setAttribute("nonce",u),document.head.appendChild(m),h)return new Promise((S,b)=>{m.addEventListener("load",S),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},cN=1,uN=1e6;let Ph=0;function dN(){return Ph=(Ph+1)%Number.MAX_SAFE_INTEGER,Ph.toString()}const Ih=new Map,vw=e=>{if(Ih.has(e))return;const t=setTimeout(()=>{Ih.delete(e),ol({type:"REMOVE_TOAST",toastId:e})},uN);Ih.set(e,t)},fN=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,cN)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?vw(n):e.toasts.forEach(r=>{vw(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Cu=[];let Eu={toasts:[]};function ol(e){Eu=fN(Eu,e),Cu.forEach(t=>{t(Eu)})}function hN({...e}){const t=dN(),n=s=>ol({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>ol({type:"DISMISS_TOAST",toastId:t});return ol({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function z1(){const[e,t]=w.useState(Eu);return w.useEffect(()=>(Cu.push(t),()=>{const n=Cu.indexOf(t);n>-1&&Cu.splice(n,1)}),[e]),{...e,toast:hN,dismiss:n=>ol({type:"DISMISS_TOAST",toastId:n})}}function We(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function ww(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Kl(...e){return t=>{let n=!1;const r=e.map(s=>{const o=ww(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():ww(e[s],null)}}}}function Ut(...e){return w.useCallback(Kl(...e),e)}function pN(e,t){const n=w.createContext(t),r=o=>{const{children:l,...u}=o,d=w.useMemo(()=>u,Object.values(u));return A.jsx(n.Provider,{value:d,children:l})};r.displayName=e+"Provider";function s(o){const l=w.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Ql(e,t=[]){let n=[];function r(o,l){const u=w.createContext(l),d=n.length;n=[...n,l];const h=m=>{var T;const{scope:S,children:b,...R}=m,x=((T=S==null?void 0:S[e])==null?void 0:T[d])||u,_=w.useMemo(()=>R,Object.values(R));return A.jsx(x.Provider,{value:_,children:b})};h.displayName=o+"Provider";function g(m,S){var x;const b=((x=S==null?void 0:S[e])==null?void 0:x[d])||u,R=w.useContext(b);if(R)return R;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>w.createContext(l));return function(u){const d=(u==null?void 0:u[e])||o;return w.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,gN(s,...t)]}function gN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((u,{useScope:d,scopeName:h})=>{const m=d(o)[`__scope${h}`];return{...u,...m}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function bw(e){const t=mN(e),n=w.forwardRef((r,s)=>{const{children:o,...l}=r,u=w.Children.toArray(o),d=u.find(vN);if(d){const h=d.props.children,g=u.map(m=>m===d?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:m);return A.jsx(t,{...l,ref:s,children:w.isValidElement(h)?w.cloneElement(h,void 0,g):null})}return A.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function mN(e){const t=w.forwardRef((n,r)=>{const{children:s,...o}=n;if(w.isValidElement(s)){const l=bN(s),u=wN(o,s.props);return s.type!==w.Fragment&&(u.ref=r?Kl(r,l):l),w.cloneElement(s,u)}return w.Children.count(s)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yN=Symbol("radix.slottable");function vN(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yN}function wN(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function bN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function SN(e){const t=e+"CollectionProvider",[n,r]=Ql(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:_,children:T}=x,E=X.useRef(null),k=X.useRef(new Map).current;return A.jsx(s,{scope:_,itemMap:k,collectionRef:E,children:T})};l.displayName=t;const u=e+"CollectionSlot",d=bw(u),h=X.forwardRef((x,_)=>{const{scope:T,children:E}=x,k=o(u,T),C=Ut(_,k.collectionRef);return A.jsx(d,{ref:C,children:E})});h.displayName=u;const g=e+"CollectionItemSlot",m="data-radix-collection-item",S=bw(g),b=X.forwardRef((x,_)=>{const{scope:T,children:E,...k}=x,C=X.useRef(null),I=Ut(_,C),M=o(g,T);return X.useEffect(()=>(M.itemMap.set(C,{ref:C,...k}),()=>void M.itemMap.delete(C))),A.jsx(S,{[m]:"",ref:I,children:E})});b.displayName=g;function R(x){const _=o(e+"CollectionConsumer",x);return X.useCallback(()=>{const E=_.collectionRef.current;if(!E)return[];const k=Array.from(E.querySelectorAll(`[${m}]`));return Array.from(_.itemMap.values()).sort((M,L)=>k.indexOf(M.ref.current)-k.indexOf(L.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:l,Slot:h,ItemSlot:b},R,r]}function xN(e){const t=CN(e),n=w.forwardRef((r,s)=>{const{children:o,...l}=r,u=w.Children.toArray(o),d=u.find(TN);if(d){const h=d.props.children,g=u.map(m=>m===d?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:m);return A.jsx(t,{...l,ref:s,children:w.isValidElement(h)?w.cloneElement(h,void 0,g):null})}return A.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function CN(e){const t=w.forwardRef((n,r)=>{const{children:s,...o}=n;if(w.isValidElement(s)){const l=kN(s),u=RN(o,s.props);return s.type!==w.Fragment&&(u.ref=r?Kl(r,l):l),w.cloneElement(s,u)}return w.Children.count(s)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var EN=Symbol("radix.slottable");function TN(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===EN}function RN(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function kN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _N=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ot=_N.reduce((e,t)=>{const n=xN(`Primitive.${t}`),r=w.forwardRef((s,o)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function H1(e,t){e&&ql.flushSync(()=>e.dispatchEvent(t))}function Xn(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function ON(e,t=globalThis==null?void 0:globalThis.document){const n=Xn(e);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var AN="DismissableLayer",sg="dismissableLayer.update",PN="dismissableLayer.pointerDownOutside",IN="dismissableLayer.focusOutside",Sw,W1=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bd=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...d}=e,h=w.useContext(W1),[g,m]=w.useState(null),S=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=w.useState({}),R=Ut(t,L=>m(L)),x=Array.from(h.layers),[_]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),T=x.indexOf(_),E=g?x.indexOf(g):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,C=E>=T,I=MN(L=>{const W=L.target,K=[...h.branches].some(H=>H.contains(W));!C||K||(s==null||s(L),l==null||l(L),L.defaultPrevented||u==null||u())},S),M=LN(L=>{const W=L.target;[...h.branches].some(H=>H.contains(W))||(o==null||o(L),l==null||l(L),L.defaultPrevented||u==null||u())},S);return ON(L=>{E===h.layers.size-1&&(r==null||r(L),!L.defaultPrevented&&u&&(L.preventDefault(),u()))},S),w.useEffect(()=>{if(g)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Sw=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),xw(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=Sw)}},[g,S,n,h]),w.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),xw())},[g,h]),w.useEffect(()=>{const L=()=>b({});return document.addEventListener(sg,L),()=>document.removeEventListener(sg,L)},[]),A.jsx(ot.div,{...d,ref:R,style:{pointerEvents:k?C?"auto":"none":void 0,...e.style},onFocusCapture:We(e.onFocusCapture,M.onFocusCapture),onBlurCapture:We(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:We(e.onPointerDownCapture,I.onPointerDownCapture)})});Bd.displayName=AN;var NN="DismissableLayerBranch",V1=w.forwardRef((e,t)=>{const n=w.useContext(W1),r=w.useRef(null),s=Ut(t,r);return w.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),A.jsx(ot.div,{...e,ref:s})});V1.displayName=NN;function MN(e,t=globalThis==null?void 0:globalThis.document){const n=Xn(e),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let d=function(){G1(PN,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function LN(e,t=globalThis==null?void 0:globalThis.document){const n=Xn(e),r=w.useRef(!1);return w.useEffect(()=>{const s=o=>{o.target&&!r.current&&G1(IN,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xw(){const e=new CustomEvent(sg);document.dispatchEvent(e)}function G1(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?H1(s,o):s.dispatchEvent(o)}var DN=Bd,jN=V1,kn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},UN="Portal",Ym=w.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[s,o]=w.useState(!1);kn(()=>o(!0),[]);const l=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?F1.createPortal(A.jsx(ot.div,{...r,ref:t}),l):null});Ym.displayName=UN;function $N(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var Ji=e=>{const{present:t,children:n}=e,r=FN(t),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),o=Ut(r.ref,BN(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:o}):null};Ji.displayName="Presence";function FN(e){const[t,n]=w.useState(),r=w.useRef(null),s=w.useRef(e),o=w.useRef("none"),l=e?"mounted":"unmounted",[u,d]=$N(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const h=Gc(r.current);o.current=u==="mounted"?h:"none"},[u]),kn(()=>{const h=r.current,g=s.current;if(g!==e){const S=o.current,b=Gc(h);e?d("MOUNT"):b==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(g&&S!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),kn(()=>{if(t){let h;const g=t.ownerDocument.defaultView??window,m=b=>{const x=Gc(r.current).includes(CSS.escape(b.animationName));if(b.target===t&&x&&(d("ANIMATION_END"),!s.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",h=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},S=b=>{b.target===t&&(o.current=Gc(r.current))};return t.addEventListener("animationstart",S),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{g.clearTimeout(h),t.removeEventListener("animationstart",S),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:w.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Gc(e){return(e==null?void 0:e.animationName)||"none"}function BN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var zN=Td[" useInsertionEffect ".trim().toString()]||kn;function Zm({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,l]=HN({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:s;{const g=w.useRef(e!==void 0);w.useEffect(()=>{const m=g.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const h=w.useCallback(g=>{var m;if(u){const S=WN(g)?g(e):g;S!==e&&((m=l.current)==null||m.call(l,S))}else o(g)},[u,e,o,l]);return[d,h]}function HN({defaultProp:e,onChange:t}){const[n,r]=w.useState(e),s=w.useRef(n),o=w.useRef(t);return zN(()=>{o.current=t},[t]),w.useEffect(()=>{var l;s.current!==n&&((l=o.current)==null||l.call(o,n),s.current=n)},[n,s]),[n,r,o]}function WN(e){return typeof e=="function"}var VN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),GN="VisuallyHidden",zd=w.forwardRef((e,t)=>A.jsx(ot.span,{...e,ref:t,style:{...VN,...e.style}}));zd.displayName=GN;var qN=zd,ey="ToastProvider",[ty,KN,QN]=SN("Toast"),[q1]=Ql("Toast",[QN]),[JN,Hd]=q1(ey),K1=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:l}=e,[u,d]=w.useState(null),[h,g]=w.useState(0),m=w.useRef(!1),S=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ey}\`. Expected non-empty \`string\`.`),A.jsx(ty.Provider,{scope:t,children:A.jsx(JN,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:h,viewport:u,onViewportChange:d,onToastAdd:w.useCallback(()=>g(b=>b+1),[]),onToastRemove:w.useCallback(()=>g(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:S,children:l})})};K1.displayName=ey;var Q1="ToastViewport",XN=["F8"],og="toast.viewportPause",ig="toast.viewportResume",J1=w.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=XN,label:s="Notifications ({hotkey})",...o}=e,l=Hd(Q1,n),u=KN(n),d=w.useRef(null),h=w.useRef(null),g=w.useRef(null),m=w.useRef(null),S=Ut(t,m,l.onViewportChange),b=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=l.toastCount>0;w.useEffect(()=>{const _=T=>{var k;r.length!==0&&r.every(C=>T[C]||T.code===C)&&((k=m.current)==null||k.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),w.useEffect(()=>{const _=d.current,T=m.current;if(R&&_&&T){const E=()=>{if(!l.isClosePausedRef.current){const M=new CustomEvent(og);T.dispatchEvent(M),l.isClosePausedRef.current=!0}},k=()=>{if(l.isClosePausedRef.current){const M=new CustomEvent(ig);T.dispatchEvent(M),l.isClosePausedRef.current=!1}},C=M=>{!_.contains(M.relatedTarget)&&k()},I=()=>{_.contains(document.activeElement)||k()};return _.addEventListener("focusin",E),_.addEventListener("focusout",C),_.addEventListener("pointermove",E),_.addEventListener("pointerleave",I),window.addEventListener("blur",E),window.addEventListener("focus",k),()=>{_.removeEventListener("focusin",E),_.removeEventListener("focusout",C),_.removeEventListener("pointermove",E),_.removeEventListener("pointerleave",I),window.removeEventListener("blur",E),window.removeEventListener("focus",k)}}},[R,l.isClosePausedRef]);const x=w.useCallback(({tabbingDirection:_})=>{const E=u().map(k=>{const C=k.ref.current,I=[C,...uM(C)];return _==="forwards"?I:I.reverse()});return(_==="forwards"?E.reverse():E).flat()},[u]);return w.useEffect(()=>{const _=m.current;if(_){const T=E=>{var I,M,L;const k=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!k){const W=document.activeElement,K=E.shiftKey;if(E.target===_&&K){(I=h.current)==null||I.focus();return}const V=x({tabbingDirection:K?"backwards":"forwards"}),Z=V.findIndex(N=>N===W);Nh(V.slice(Z+1))?E.preventDefault():K?(M=h.current)==null||M.focus():(L=g.current)==null||L.focus()}};return _.addEventListener("keydown",T),()=>_.removeEventListener("keydown",T)}},[u,x]),A.jsxs(jN,{ref:d,role:"region","aria-label":s.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&A.jsx(ag,{ref:h,onFocusFromOutsideViewport:()=>{const _=x({tabbingDirection:"forwards"});Nh(_)}}),A.jsx(ty.Slot,{scope:n,children:A.jsx(ot.ol,{tabIndex:-1,...o,ref:S})}),R&&A.jsx(ag,{ref:g,onFocusFromOutsideViewport:()=>{const _=x({tabbingDirection:"backwards"});Nh(_)}})]})});J1.displayName=Q1;var X1="ToastFocusProxy",ag=w.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=Hd(X1,n);return A.jsx(zd,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:l=>{var h;const u=l.relatedTarget;!((h=o.viewport)!=null&&h.contains(u))&&r()}})});ag.displayName=X1;var Jl="Toast",YN="toast.swipeStart",ZN="toast.swipeMove",eM="toast.swipeCancel",tM="toast.swipeEnd",Y1=w.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...l}=e,[u,d]=Zm({prop:r,defaultProp:s??!0,onChange:o,caller:Jl});return A.jsx(Ji,{present:n||u,children:A.jsx(sM,{open:u,...l,ref:t,onClose:()=>d(!1),onPause:Xn(e.onPause),onResume:Xn(e.onResume),onSwipeStart:We(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:We(e.onSwipeMove,h=>{const{x:g,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:We(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:We(e.onSwipeEnd,h=>{const{x:g,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});Y1.displayName=Jl;var[nM,rM]=q1(Jl,{onClose(){}}),sM=w.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:l,onEscapeKeyDown:u,onPause:d,onResume:h,onSwipeStart:g,onSwipeMove:m,onSwipeCancel:S,onSwipeEnd:b,...R}=e,x=Hd(Jl,n),[_,T]=w.useState(null),E=Ut(t,N=>T(N)),k=w.useRef(null),C=w.useRef(null),I=s||x.duration,M=w.useRef(0),L=w.useRef(I),W=w.useRef(0),{onToastAdd:K,onToastRemove:H}=x,y=Xn(()=>{var oe;(_==null?void 0:_.contains(document.activeElement))&&((oe=x.viewport)==null||oe.focus()),l()}),V=w.useCallback(N=>{!N||N===1/0||(window.clearTimeout(W.current),M.current=new Date().getTime(),W.current=window.setTimeout(y,N))},[y]);w.useEffect(()=>{const N=x.viewport;if(N){const oe=()=>{V(L.current),h==null||h()},z=()=>{const $=new Date().getTime()-M.current;L.current=L.current-$,window.clearTimeout(W.current),d==null||d()};return N.addEventListener(og,z),N.addEventListener(ig,oe),()=>{N.removeEventListener(og,z),N.removeEventListener(ig,oe)}}},[x.viewport,I,d,h,V]),w.useEffect(()=>{o&&!x.isClosePausedRef.current&&V(I)},[o,I,x.isClosePausedRef,V]),w.useEffect(()=>(K(),()=>H()),[K,H]);const Z=w.useMemo(()=>_?oC(_):null,[_]);return x.viewport?A.jsxs(A.Fragment,{children:[Z&&A.jsx(oM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:Z}),A.jsx(nM,{scope:n,onClose:y,children:ql.createPortal(A.jsx(ty.ItemSlot,{scope:n,children:A.jsx(DN,{asChild:!0,onEscapeKeyDown:We(u,()=>{x.isFocusedToastEscapeKeyDownRef.current||y(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:A.jsx(ot.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...R,ref:E,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:We(e.onKeyDown,N=>{N.key==="Escape"&&(u==null||u(N.nativeEvent),N.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,y()))}),onPointerDown:We(e.onPointerDown,N=>{N.button===0&&(k.current={x:N.clientX,y:N.clientY})}),onPointerMove:We(e.onPointerMove,N=>{if(!k.current)return;const oe=N.clientX-k.current.x,z=N.clientY-k.current.y,$=!!C.current,D=["left","right"].includes(x.swipeDirection),B=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,ee=D?B(0,oe):0,ae=D?0:B(0,z),ne=N.pointerType==="touch"?10:2,fe={x:ee,y:ae},de={originalEvent:N,delta:fe};$?(C.current=fe,qc(ZN,m,de,{discrete:!1})):Cw(fe,x.swipeDirection,ne)?(C.current=fe,qc(YN,g,de,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs(oe)>ne||Math.abs(z)>ne)&&(k.current=null)}),onPointerUp:We(e.onPointerUp,N=>{const oe=C.current,z=N.target;if(z.hasPointerCapture(N.pointerId)&&z.releasePointerCapture(N.pointerId),C.current=null,k.current=null,oe){const $=N.currentTarget,D={originalEvent:N,delta:oe};Cw(oe,x.swipeDirection,x.swipeThreshold)?qc(tM,b,D,{discrete:!0}):qc(eM,S,D,{discrete:!0}),$.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),oM=e=>{const{__scopeToast:t,children:n,...r}=e,s=Hd(Jl,t),[o,l]=w.useState(!1),[u,d]=w.useState(!1);return lM(()=>l(!0)),w.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:A.jsx(Ym,{asChild:!0,children:A.jsx(zd,{...r,children:o&&A.jsxs(A.Fragment,{children:[s.label," ",n]})})})},iM="ToastTitle",Z1=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return A.jsx(ot.div,{...r,ref:t})});Z1.displayName=iM;var aM="ToastDescription",eC=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return A.jsx(ot.div,{...r,ref:t})});eC.displayName=aM;var tC="ToastAction",nC=w.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?A.jsx(sC,{altText:n,asChild:!0,children:A.jsx(ny,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${tC}\`. Expected non-empty \`string\`.`),null)});nC.displayName=tC;var rC="ToastClose",ny=w.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=rM(rC,n);return A.jsx(sC,{asChild:!0,children:A.jsx(ot.button,{type:"button",...r,ref:t,onClick:We(e.onClick,s.onClose)})})});ny.displayName=rC;var sC=w.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return A.jsx(ot.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function oC(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),cM(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...oC(r))}}),t}function qc(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?H1(s,o):s.dispatchEvent(o)}var Cw=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function lM(e=()=>{}){const t=Xn(e);kn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function cM(e){return e.nodeType===e.ELEMENT_NODE}function uM(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Nh(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var dM=K1,iC=J1,aC=Y1,lC=Z1,cC=eC,uC=nC,dC=ny;function fC(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=fC(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function hC(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=fC(e))&&(r&&(r+=" "),r+=t);return r}const Ew=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Tw=hC,Wd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Tw(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,l=Object.keys(s).map(h=>{const g=n==null?void 0:n[h],m=o==null?void 0:o[h];if(g===null)return null;const S=Ew(g)||Ew(m);return s[h][S]}),u=n&&Object.entries(n).reduce((h,g)=>{let[m,S]=g;return S===void 0||(h[m]=S),h},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((h,g)=>{let{class:m,className:S,...b}=g;return Object.entries(b).every(R=>{let[x,_]=R;return Array.isArray(_)?_.includes({...o,...u}[x]):{...o,...u}[x]===_})?[...h,m,S]:h},[]);return Tw(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pC=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...u},d)=>w.createElement("svg",{ref:d,...hM,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:pC("lucide",s),...u},[...l.map(([h,g])=>w.createElement(h,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=(e,t)=>{const n=w.forwardRef(({className:r,...s},o)=>w.createElement(pM,{ref:o,iconNode:t,className:pC(`lucide-${fM(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=yn("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=yn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=yn("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=yn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=yn("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=yn("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=yn("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=yn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=yn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=yn("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=yn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=yn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=yn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ry="-",kM=e=>{const t=OM(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const u=l.split(ry);return u[0]===""&&u.length!==1&&u.shift(),mC(u,t)||_M(l)},getConflictingClassGroupIds:(l,u)=>{const d=n[l]||[];return u&&r[l]?[...d,...r[l]]:d}}},mC=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?mC(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(ry);return(l=t.validators.find(({validator:u})=>u(o)))==null?void 0:l.classGroupId},Rw=/^\[(.+)\]$/,_M=e=>{if(Rw.test(e)){const t=Rw.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},OM=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return PM(Object.entries(e.classGroups),n).forEach(([o,l])=>{lg(l,r,o,t)}),r},lg=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:kw(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(AM(s)){lg(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,l])=>{lg(l,kw(t,o),n,r)})})},kw=(e,t)=>{let n=e;return t.split(ry).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},AM=e=>e.isThemeGetter,PM=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,u])=>[t+l,u])):o);return[n,s]}):e,IM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,l)=>{n.set(o,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set(o,l){n.has(o)?n.set(o,l):s(o,l)}}},yC="!",NM=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,l=u=>{const d=[];let h=0,g=0,m;for(let _=0;_<u.length;_++){let T=u[_];if(h===0){if(T===s&&(r||u.slice(_,_+o)===t)){d.push(u.slice(g,_)),g=_+o;continue}if(T==="/"){m=_;continue}}T==="["?h++:T==="]"&&h--}const S=d.length===0?u:u.substring(g),b=S.startsWith(yC),R=b?S.substring(1):S,x=m&&m>g?m-g:void 0;return{modifiers:d,hasImportantModifier:b,baseClassName:R,maybePostfixModifierPosition:x}};return n?u=>n({className:u,parseClassName:l}):l},MM=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},LM=e=>({cache:IM(e.cacheSize),parseClassName:NM(e),...kM(e)}),DM=/\s+/,jM=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],l=e.trim().split(DM);let u="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{modifiers:g,hasImportantModifier:m,baseClassName:S,maybePostfixModifierPosition:b}=n(h);let R=!!b,x=r(R?S.substring(0,b):S);if(!x){if(!R){u=h+(u.length>0?" "+u:u);continue}if(x=r(S),!x){u=h+(u.length>0?" "+u:u);continue}R=!1}const _=MM(g).join(":"),T=m?_+yC:_,E=T+x;if(o.includes(E))continue;o.push(E);const k=s(x,R);for(let C=0;C<k.length;++C){const I=k[C];o.push(T+I)}u=h+(u.length>0?" "+u:u)}return u};function UM(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=vC(t))&&(r&&(r+=" "),r+=n);return r}const vC=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=vC(e[r]))&&(n&&(n+=" "),n+=t);return n};function $M(e,...t){let n,r,s,o=l;function l(d){const h=t.reduce((g,m)=>m(g),e());return n=LM(h),r=n.cache.get,s=n.cache.set,o=u,u(d)}function u(d){const h=r(d);if(h)return h;const g=jM(d,n);return s(d,g),g}return function(){return o(UM.apply(null,arguments))}}const je=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},wC=/^\[(?:([a-z-]+):)?(.+)\]$/i,FM=/^\d+\/\d+$/,BM=new Set(["px","full","screen"]),zM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,VM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,GM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mr=e=>wi(e)||BM.has(e)||FM.test(e),os=e=>Xi(e,"length",e2),wi=e=>!!e&&!Number.isNaN(Number(e)),Mh=e=>Xi(e,"number",wi),La=e=>!!e&&Number.isInteger(Number(e)),qM=e=>e.endsWith("%")&&wi(e.slice(0,-1)),ve=e=>wC.test(e),is=e=>zM.test(e),KM=new Set(["length","size","percentage"]),QM=e=>Xi(e,KM,bC),JM=e=>Xi(e,"position",bC),XM=new Set(["image","url"]),YM=e=>Xi(e,XM,n2),ZM=e=>Xi(e,"",t2),Da=()=>!0,Xi=(e,t,n)=>{const r=wC.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},e2=e=>HM.test(e)&&!WM.test(e),bC=()=>!1,t2=e=>VM.test(e),n2=e=>GM.test(e),r2=()=>{const e=je("colors"),t=je("spacing"),n=je("blur"),r=je("brightness"),s=je("borderColor"),o=je("borderRadius"),l=je("borderSpacing"),u=je("borderWidth"),d=je("contrast"),h=je("grayscale"),g=je("hueRotate"),m=je("invert"),S=je("gap"),b=je("gradientColorStops"),R=je("gradientColorStopPositions"),x=je("inset"),_=je("margin"),T=je("opacity"),E=je("padding"),k=je("saturate"),C=je("scale"),I=je("sepia"),M=je("skew"),L=je("space"),W=je("translate"),K=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],y=()=>["auto",ve,t],V=()=>[ve,t],Z=()=>["",Mr,os],N=()=>["auto",wi,ve],oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",ve],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[wi,ve];return{cacheSize:500,separator:":",theme:{colors:[Da],spacing:[Mr,os],blur:["none","",is,ve],brightness:ae(),borderColor:[e],borderRadius:["none","","full",is,ve],borderSpacing:V(),borderWidth:Z(),contrast:ae(),grayscale:B(),hueRotate:ae(),invert:B(),gap:V(),gradientColorStops:[e],gradientColorStopPositions:[qM,os],inset:y(),margin:y(),opacity:ae(),padding:V(),saturate:ae(),scale:ae(),sepia:B(),skew:ae(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[is]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...oe(),ve]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:K()}],"overscroll-x":[{"overscroll-x":K()}],"overscroll-y":[{"overscroll-y":K()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",La,ve]}],basis:[{basis:y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",La,ve]}],"grid-cols":[{"grid-cols":[Da]}],"col-start-end":[{col:["auto",{span:["full",La,ve]},ve]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[Da]}],"row-start-end":[{row:["auto",{span:[La,ve]},ve]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[S]}],"gap-x":[{"gap-x":[S]}],"gap-y":[{"gap-y":[S]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,t]}],"min-w":[{"min-w":[ve,t,"min","max","fit"]}],"max-w":[{"max-w":[ve,t,"none","full","min","max","fit","prose",{screen:[is]},is]}],h:[{h:[ve,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,t,"auto","min","max","fit"]}],"font-size":[{text:["base",is,os]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mh]}],"font-family":[{font:[Da]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",wi,Mh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mr,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mr,os]}],"underline-offset":[{"underline-offset":["auto",Mr,ve]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...oe(),JM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",QM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},YM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Mr,ve]}],"outline-w":[{outline:[Mr,os]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[Mr,os]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",is,ZM]}],"shadow-color":[{shadow:[Da]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",is,ve]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[m]}],saturate:[{saturate:[k]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[La,ve]}],"translate-x":[{"translate-x":[W]}],"translate-y":[{"translate-y":[W]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Mr,os,Mh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},s2=$M(r2);function ye(...e){return s2(hC(e))}const o2=dM,SC=w.forwardRef(({className:e,...t},n)=>A.jsx(iC,{ref:n,className:ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));SC.displayName=iC.displayName;const i2=Wd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xC=w.forwardRef(({className:e,variant:t,...n},r)=>A.jsx(aC,{ref:r,className:ye(i2({variant:t}),e),...n}));xC.displayName=aC.displayName;const a2=w.forwardRef(({className:e,...t},n)=>A.jsx(uC,{ref:n,className:ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));a2.displayName=uC.displayName;const CC=w.forwardRef(({className:e,...t},n)=>A.jsx(dC,{ref:n,className:ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:A.jsx(gC,{className:"h-4 w-4"})}));CC.displayName=dC.displayName;const EC=w.forwardRef(({className:e,...t},n)=>A.jsx(lC,{ref:n,className:ye("text-sm font-semibold",e),...t}));EC.displayName=lC.displayName;const TC=w.forwardRef(({className:e,...t},n)=>A.jsx(cC,{ref:n,className:ye("text-sm opacity-90",e),...t}));TC.displayName=cC.displayName;function l2(){const{toasts:e}=z1();return A.jsxs(o2,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return A.jsxs(xC,{...o,children:[A.jsxs("div",{className:"grid gap-1",children:[n&&A.jsx(EC,{children:n}),r&&A.jsx(TC,{children:r})]}),s,A.jsx(CC,{})]},t)}),A.jsx(SC,{})]})}var _w=["light","dark"],c2="(prefers-color-scheme: dark)",u2=w.createContext(void 0),d2={setTheme:e=>{},themes:[]},f2=()=>{var e;return(e=w.useContext(u2))!=null?e:d2};w.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:l,attrs:u,nonce:d})=>{let h=o==="system",g=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(R=>`'${R}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=s?_w.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",S=(R,x=!1,_=!0)=>{let T=l?l[R]:R,E=x?R+"|| ''":`'${T}'`,k="";return s&&_&&!x&&_w.includes(R)&&(k+=`d.style.colorScheme = '${R}';`),n==="class"?x||T?k+=`c.add(${E})`:k+="null":T&&(k+=`d[s](n,${E})`),k},b=e?`!function(){${g}${S(e)}}()`:r?`!function(){try{${g}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${h})){var t='${c2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${S("dark")}}else{${S("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${S(l?"x[e]":"e",!0)}}${h?"":"else{"+S(o,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${g}var e=localStorage.getItem('${t}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${S(l?"x[e]":"e",!0)}}else{${S(o,!1,!1)};}${m}}catch(t){}}();`;return w.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:b}})});var h2=e=>{switch(e){case"success":return m2;case"info":return v2;case"warning":return y2;case"error":return w2;default:return null}},p2=Array(12).fill(0),g2=({visible:e,className:t})=>X.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},X.createElement("div",{className:"sonner-spinner"},p2.map((n,r)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),m2=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),y2=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),v2=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),w2=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),b2=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),S2=()=>{let[e,t]=X.useState(document.hidden);return X.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},cg=1,x2=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:cg++,o=this.toasts.find(u=>u.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:n}),{...u,...e,id:s,dismissible:l,title:n}):u):this.addToast({title:n,...r,dismissible:l,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,o,l=r.then(async d=>{if(o=["resolve",d],X.isValidElement(d))s=!1,this.create({id:n,type:"default",message:d});else if(E2(d)&&!d.ok){s=!1;let h=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,g=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:n,type:"error",message:h,description:g})}else if(t.success!==void 0){s=!1;let h=typeof t.success=="function"?await t.success(d):t.success,g=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"success",message:h,description:g})}}).catch(async d=>{if(o=["reject",d],t.error!==void 0){s=!1;let h=typeof t.error=="function"?await t.error(d):t.error,g=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"error",message:h,description:g})}}).finally(()=>{var d;s&&(this.dismiss(n),n=void 0),(d=t.finally)==null||d.call(t)}),u=()=>new Promise((d,h)=>l.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||cg++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},qt=new x2,C2=(e,t)=>{let n=(t==null?void 0:t.id)||cg++;return qt.addToast({title:e,...t,id:n}),n},E2=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",T2=C2,R2=()=>qt.toasts,k2=()=>qt.getActiveToasts();Object.assign(T2,{success:qt.success,info:qt.info,warning:qt.warning,error:qt.error,custom:qt.custom,message:qt.message,promise:qt.promise,dismiss:qt.dismiss,loading:qt.loading},{getHistory:R2,getToasts:k2});function _2(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}_2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Kc(e){return e.label!==void 0}var O2=3,A2="32px",P2="16px",Ow=4e3,I2=356,N2=14,M2=20,L2=200;function Un(...e){return e.filter(Boolean).join(" ")}function D2(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var j2=e=>{var t,n,r,s,o,l,u,d,h,g,m;let{invert:S,toast:b,unstyled:R,interacting:x,setHeights:_,visibleToasts:T,heights:E,index:k,toasts:C,expanded:I,removeToast:M,defaultRichColors:L,closeButton:W,style:K,cancelButtonStyle:H,actionButtonStyle:y,className:V="",descriptionClassName:Z="",duration:N,position:oe,gap:z,loadingIcon:$,expandByDefault:D,classNames:B,icons:ee,closeButtonAriaLabel:ae="Close toast",pauseWhenPageIsHidden:ne}=e,[fe,de]=X.useState(null),[Oe,ze]=X.useState(null),[be,kt]=X.useState(!1),[it,Bt]=X.useState(!1),[_t,Xe]=X.useState(!1),[In,Ws]=X.useState(!1),[Po,Vs]=X.useState(!1),[Gs,Nn]=X.useState(0),[Mn,Io]=X.useState(0),Ee=X.useRef(b.duration||N||Ow),ua=X.useRef(null),rr=X.useRef(null),No=k===0,gc=k+1<=T,Ot=b.type,Ye=b.dismissible!==!1,At=b.className||"",nn=b.descriptionClassName||"",es=X.useMemo(()=>E.findIndex(le=>le.toastId===b.id)||0,[E,b.id]),mc=X.useMemo(()=>{var le;return(le=b.closeButton)!=null?le:W},[b.closeButton,W]),da=X.useMemo(()=>b.duration||N||Ow,[b.duration,N]),Mo=X.useRef(0),sr=X.useRef(0),Lo=X.useRef(0),Pr=X.useRef(null),[yc,Do]=oe.split("-"),fa=X.useMemo(()=>E.reduce((le,Ae,Me)=>Me>=es?le:le+Ae.height,0),[E,es]),qs=S2(),ut=b.invert||S,jo=Ot==="loading";sr.current=X.useMemo(()=>es*z+fa,[es,fa]),X.useEffect(()=>{Ee.current=da},[da]),X.useEffect(()=>{kt(!0)},[]),X.useEffect(()=>{let le=rr.current;if(le){let Ae=le.getBoundingClientRect().height;return Io(Ae),_(Me=>[{toastId:b.id,height:Ae,position:b.position},...Me]),()=>_(Me=>Me.filter(zt=>zt.toastId!==b.id))}},[_,b.id]),X.useLayoutEffect(()=>{if(!be)return;let le=rr.current,Ae=le.style.height;le.style.height="auto";let Me=le.getBoundingClientRect().height;le.style.height=Ae,Io(Me),_(zt=>zt.find(Ht=>Ht.toastId===b.id)?zt.map(Ht=>Ht.toastId===b.id?{...Ht,height:Me}:Ht):[{toastId:b.id,height:Me,position:b.position},...zt])},[be,b.title,b.description,_,b.id]);let Ln=X.useCallback(()=>{Bt(!0),Nn(sr.current),_(le=>le.filter(Ae=>Ae.toastId!==b.id)),setTimeout(()=>{M(b)},L2)},[b,M,_,sr]);X.useEffect(()=>{if(b.promise&&Ot==="loading"||b.duration===1/0||b.type==="loading")return;let le;return I||x||ne&&qs?(()=>{if(Lo.current<Mo.current){let Ae=new Date().getTime()-Mo.current;Ee.current=Ee.current-Ae}Lo.current=new Date().getTime()})():Ee.current!==1/0&&(Mo.current=new Date().getTime(),le=setTimeout(()=>{var Ae;(Ae=b.onAutoClose)==null||Ae.call(b,b),Ln()},Ee.current)),()=>clearTimeout(le)},[I,x,b,Ot,ne,qs,Ln]),X.useEffect(()=>{b.delete&&Ln()},[Ln,b.delete]);function Rf(){var le,Ae,Me;return ee!=null&&ee.loading?X.createElement("div",{className:Un(B==null?void 0:B.loader,(le=b==null?void 0:b.classNames)==null?void 0:le.loader,"sonner-loader"),"data-visible":Ot==="loading"},ee.loading):$?X.createElement("div",{className:Un(B==null?void 0:B.loader,(Ae=b==null?void 0:b.classNames)==null?void 0:Ae.loader,"sonner-loader"),"data-visible":Ot==="loading"},$):X.createElement(g2,{className:Un(B==null?void 0:B.loader,(Me=b==null?void 0:b.classNames)==null?void 0:Me.loader),visible:Ot==="loading"})}return X.createElement("li",{tabIndex:0,ref:rr,className:Un(V,At,B==null?void 0:B.toast,(t=b==null?void 0:b.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[Ot],(n=b==null?void 0:b.classNames)==null?void 0:n[Ot]),"data-sonner-toast":"","data-rich-colors":(r=b.richColors)!=null?r:L,"data-styled":!(b.jsx||b.unstyled||R),"data-mounted":be,"data-promise":!!b.promise,"data-swiped":Po,"data-removed":it,"data-visible":gc,"data-y-position":yc,"data-x-position":Do,"data-index":k,"data-front":No,"data-swiping":_t,"data-dismissible":Ye,"data-type":Ot,"data-invert":ut,"data-swipe-out":In,"data-swipe-direction":Oe,"data-expanded":!!(I||D&&be),style:{"--index":k,"--toasts-before":k,"--z-index":C.length-k,"--offset":`${it?Gs:sr.current}px`,"--initial-height":D?"auto":`${Mn}px`,...K,...b.style},onDragEnd:()=>{Xe(!1),de(null),Pr.current=null},onPointerDown:le=>{jo||!Ye||(ua.current=new Date,Nn(sr.current),le.target.setPointerCapture(le.pointerId),le.target.tagName!=="BUTTON"&&(Xe(!0),Pr.current={x:le.clientX,y:le.clientY}))},onPointerUp:()=>{var le,Ae,Me,zt;if(In||!Ye)return;Pr.current=null;let Ht=Number(((le=rr.current)==null?void 0:le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Dn=Number(((Ae=rr.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),or=new Date().getTime()-((Me=ua.current)==null?void 0:Me.getTime()),Wt=fe==="x"?Ht:Dn,ir=Math.abs(Wt)/or;if(Math.abs(Wt)>=M2||ir>.11){Nn(sr.current),(zt=b.onDismiss)==null||zt.call(b,b),ze(fe==="x"?Ht>0?"right":"left":Dn>0?"down":"up"),Ln(),Ws(!0),Vs(!1);return}Xe(!1),de(null)},onPointerMove:le=>{var Ae,Me,zt,Ht;if(!Pr.current||!Ye||((Ae=window.getSelection())==null?void 0:Ae.toString().length)>0)return;let Dn=le.clientY-Pr.current.y,or=le.clientX-Pr.current.x,Wt=(Me=e.swipeDirections)!=null?Me:D2(oe);!fe&&(Math.abs(or)>1||Math.abs(Dn)>1)&&de(Math.abs(or)>Math.abs(Dn)?"x":"y");let ir={x:0,y:0};fe==="y"?(Wt.includes("top")||Wt.includes("bottom"))&&(Wt.includes("top")&&Dn<0||Wt.includes("bottom")&&Dn>0)&&(ir.y=Dn):fe==="x"&&(Wt.includes("left")||Wt.includes("right"))&&(Wt.includes("left")&&or<0||Wt.includes("right")&&or>0)&&(ir.x=or),(Math.abs(ir.x)>0||Math.abs(ir.y)>0)&&Vs(!0),(zt=rr.current)==null||zt.style.setProperty("--swipe-amount-x",`${ir.x}px`),(Ht=rr.current)==null||Ht.style.setProperty("--swipe-amount-y",`${ir.y}px`)}},mc&&!b.jsx?X.createElement("button",{"aria-label":ae,"data-disabled":jo,"data-close-button":!0,onClick:jo||!Ye?()=>{}:()=>{var le;Ln(),(le=b.onDismiss)==null||le.call(b,b)},className:Un(B==null?void 0:B.closeButton,(s=b==null?void 0:b.classNames)==null?void 0:s.closeButton)},(o=ee==null?void 0:ee.close)!=null?o:b2):null,b.jsx||w.isValidElement(b.title)?b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title:X.createElement(X.Fragment,null,Ot||b.icon||b.promise?X.createElement("div",{"data-icon":"",className:Un(B==null?void 0:B.icon,(l=b==null?void 0:b.classNames)==null?void 0:l.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||Rf():null,b.type!=="loading"?b.icon||(ee==null?void 0:ee[Ot])||h2(Ot):null):null,X.createElement("div",{"data-content":"",className:Un(B==null?void 0:B.content,(u=b==null?void 0:b.classNames)==null?void 0:u.content)},X.createElement("div",{"data-title":"",className:Un(B==null?void 0:B.title,(d=b==null?void 0:b.classNames)==null?void 0:d.title)},typeof b.title=="function"?b.title():b.title),b.description?X.createElement("div",{"data-description":"",className:Un(Z,nn,B==null?void 0:B.description,(h=b==null?void 0:b.classNames)==null?void 0:h.description)},typeof b.description=="function"?b.description():b.description):null),w.isValidElement(b.cancel)?b.cancel:b.cancel&&Kc(b.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||H,onClick:le=>{var Ae,Me;Kc(b.cancel)&&Ye&&((Me=(Ae=b.cancel).onClick)==null||Me.call(Ae,le),Ln())},className:Un(B==null?void 0:B.cancelButton,(g=b==null?void 0:b.classNames)==null?void 0:g.cancelButton)},b.cancel.label):null,w.isValidElement(b.action)?b.action:b.action&&Kc(b.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||y,onClick:le=>{var Ae,Me;Kc(b.action)&&((Me=(Ae=b.action).onClick)==null||Me.call(Ae,le),!le.defaultPrevented&&Ln())},className:Un(B==null?void 0:B.actionButton,(m=b==null?void 0:b.classNames)==null?void 0:m.actionButton)},b.action.label):null))};function Aw(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function U2(e,t){let n={};return[e,t].forEach((r,s)=>{let o=s===1,l=o?"--mobile-offset":"--offset",u=o?P2:A2;function d(h){["top","right","bottom","left"].forEach(g=>{n[`${l}-${g}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${l}-${h}`]=u:n[`${l}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):d(u)}),n}var $2=w.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:l,className:u,offset:d,mobileOffset:h,theme:g="light",richColors:m,duration:S,style:b,visibleToasts:R=O2,toastOptions:x,dir:_=Aw(),gap:T=N2,loadingIcon:E,icons:k,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:I}=e,[M,L]=X.useState([]),W=X.useMemo(()=>Array.from(new Set([r].concat(M.filter(ne=>ne.position).map(ne=>ne.position)))),[M,r]),[K,H]=X.useState([]),[y,V]=X.useState(!1),[Z,N]=X.useState(!1),[oe,z]=X.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=X.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=X.useRef(null),ee=X.useRef(!1),ae=X.useCallback(ne=>{L(fe=>{var de;return(de=fe.find(Oe=>Oe.id===ne.id))!=null&&de.delete||qt.dismiss(ne.id),fe.filter(({id:Oe})=>Oe!==ne.id)})},[]);return X.useEffect(()=>qt.subscribe(ne=>{if(ne.dismiss){L(fe=>fe.map(de=>de.id===ne.id?{...de,delete:!0}:de));return}setTimeout(()=>{F1.flushSync(()=>{L(fe=>{let de=fe.findIndex(Oe=>Oe.id===ne.id);return de!==-1?[...fe.slice(0,de),{...fe[de],...ne},...fe.slice(de+1)]:[ne,...fe]})})})}),[]),X.useEffect(()=>{if(g!=="system"){z(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window>"u")return;let ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:fe})=>{z(fe?"dark":"light")})}catch{ne.addListener(({matches:de})=>{try{z(de?"dark":"light")}catch(Oe){console.error(Oe)}})}},[g]),X.useEffect(()=>{M.length<=1&&V(!1)},[M]),X.useEffect(()=>{let ne=fe=>{var de,Oe;s.every(ze=>fe[ze]||fe.code===ze)&&(V(!0),(de=$.current)==null||de.focus()),fe.code==="Escape"&&(document.activeElement===$.current||(Oe=$.current)!=null&&Oe.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[s]),X.useEffect(()=>{if($.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,ee.current=!1)}},[$.current]),X.createElement("section",{ref:t,"aria-label":`${C} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},W.map((ne,fe)=>{var de;let[Oe,ze]=ne.split("-");return M.length?X.createElement("ol",{key:ne,dir:_==="auto"?Aw():_,tabIndex:-1,ref:$,className:u,"data-sonner-toaster":!0,"data-theme":oe,"data-y-position":Oe,"data-lifted":y&&M.length>1&&!o,"data-x-position":ze,style:{"--front-toast-height":`${((de=K[0])==null?void 0:de.height)||0}px`,"--width":`${I2}px`,"--gap":`${T}px`,...b,...U2(d,h)},onBlur:be=>{ee.current&&!be.currentTarget.contains(be.relatedTarget)&&(ee.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||ee.current||(ee.current=!0,B.current=be.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{Z||V(!1)},onDragEnd:()=>V(!1),onPointerDown:be=>{be.target instanceof HTMLElement&&be.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},M.filter(be=>!be.position&&fe===0||be.position===ne).map((be,kt)=>{var it,Bt;return X.createElement(j2,{key:be.id,icons:k,index:kt,toast:be,defaultRichColors:m,duration:(it=x==null?void 0:x.duration)!=null?it:S,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:R,closeButton:(Bt=x==null?void 0:x.closeButton)!=null?Bt:l,interacting:Z,position:ne,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:ae,toasts:M.filter(_t=>_t.position==be.position),heights:K.filter(_t=>_t.position==be.position),setHeights:H,expandByDefault:o,gap:T,loadingIcon:E,expanded:y,pauseWhenPageIsHidden:I,swipeDirections:e.swipeDirections})})):null}))});const F2=({...e})=>{const{theme:t="system"}=f2();return A.jsx($2,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var B2=Td[" useId ".trim().toString()]||(()=>{}),z2=0;function Tu(e){const[t,n]=w.useState(B2());return kn(()=>{n(r=>r??String(z2++))},[e]),e||(t?`radix-${t}`:"")}const H2=["top","right","bottom","left"],Ds=Math.min,cn=Math.max,ld=Math.round,Qc=Math.floor,Cr=e=>({x:e,y:e}),W2={left:"right",right:"left",bottom:"top",top:"bottom"},V2={start:"end",end:"start"};function ug(e,t,n){return cn(e,Ds(t,n))}function Kr(e,t){return typeof e=="function"?e(t):e}function Qr(e){return e.split("-")[0]}function Yi(e){return e.split("-")[1]}function sy(e){return e==="x"?"y":"x"}function oy(e){return e==="y"?"height":"width"}const G2=new Set(["top","bottom"]);function br(e){return G2.has(Qr(e))?"y":"x"}function iy(e){return sy(br(e))}function q2(e,t,n){n===void 0&&(n=!1);const r=Yi(e),s=iy(e),o=oy(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=cd(l)),[l,cd(l)]}function K2(e){const t=cd(e);return[dg(e),t,dg(t)]}function dg(e){return e.replace(/start|end/g,t=>V2[t])}const Pw=["left","right"],Iw=["right","left"],Q2=["top","bottom"],J2=["bottom","top"];function X2(e,t,n){switch(e){case"top":case"bottom":return n?t?Iw:Pw:t?Pw:Iw;case"left":case"right":return t?Q2:J2;default:return[]}}function Y2(e,t,n,r){const s=Yi(e);let o=X2(Qr(e),n==="start",r);return s&&(o=o.map(l=>l+"-"+s),t&&(o=o.concat(o.map(dg)))),o}function cd(e){return e.replace(/left|right|bottom|top/g,t=>W2[t])}function Z2(e){return{top:0,right:0,bottom:0,left:0,...e}}function RC(e){return typeof e!="number"?Z2(e):{top:e,right:e,bottom:e,left:e}}function ud(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Nw(e,t,n){let{reference:r,floating:s}=e;const o=br(t),l=iy(t),u=oy(l),d=Qr(t),h=o==="y",g=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,S=r[u]/2-s[u]/2;let b;switch(d){case"top":b={x:g,y:r.y-s.height};break;case"bottom":b={x:g,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:m};break;case"left":b={x:r.x-s.width,y:m};break;default:b={x:r.x,y:r.y}}switch(Yi(t)){case"start":b[l]-=S*(n&&h?-1:1);break;case"end":b[l]+=S*(n&&h?-1:1);break}return b}const eL=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,u=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:g,y:m}=Nw(h,r,d),S=r,b={},R=0;for(let x=0;x<u.length;x++){const{name:_,fn:T}=u[x],{x:E,y:k,data:C,reset:I}=await T({x:g,y:m,initialPlacement:r,placement:S,strategy:s,middlewareData:b,rects:h,platform:l,elements:{reference:e,floating:t}});g=E??g,m=k??m,b={...b,[_]:{...b[_],...C}},I&&R<=50&&(R++,typeof I=="object"&&(I.placement&&(S=I.placement),I.rects&&(h=I.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):I.rects),{x:g,y:m}=Nw(h,S,d)),x=-1)}return{x:g,y:m,placement:S,strategy:s,middlewareData:b}};async function kl(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:l,elements:u,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:S=!1,padding:b=0}=Kr(t,e),R=RC(b),_=u[S?m==="floating"?"reference":"floating":m],T=ud(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:g,strategy:d})),E=m==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),C=await(o.isElement==null?void 0:o.isElement(k))?await(o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},I=ud(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:E,offsetParent:k,strategy:d}):E);return{top:(T.top-I.top+R.top)/C.y,bottom:(I.bottom-T.bottom+R.bottom)/C.y,left:(T.left-I.left+R.left)/C.x,right:(I.right-T.right+R.right)/C.x}}const tL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:l,elements:u,middlewareData:d}=t,{element:h,padding:g=0}=Kr(e,t)||{};if(h==null)return{};const m=RC(g),S={x:n,y:r},b=iy(s),R=oy(b),x=await l.getDimensions(h),_=b==="y",T=_?"top":"left",E=_?"bottom":"right",k=_?"clientHeight":"clientWidth",C=o.reference[R]+o.reference[b]-S[b]-o.floating[R],I=S[b]-o.reference[b],M=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let L=M?M[k]:0;(!L||!await(l.isElement==null?void 0:l.isElement(M)))&&(L=u.floating[k]||o.floating[R]);const W=C/2-I/2,K=L/2-x[R]/2-1,H=Ds(m[T],K),y=Ds(m[E],K),V=H,Z=L-x[R]-y,N=L/2-x[R]/2+W,oe=ug(V,N,Z),z=!d.arrow&&Yi(s)!=null&&N!==oe&&o.reference[R]/2-(N<V?H:y)-x[R]/2<0,$=z?N<V?N-V:N-Z:0;return{[b]:S[b]+$,data:{[b]:oe,centerOffset:N-oe-$,...z&&{alignmentOffset:$}},reset:z}}}),nL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:l,initialPlacement:u,platform:d,elements:h}=t,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:S,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:x=!0,..._}=Kr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const T=Qr(s),E=br(u),k=Qr(u)===u,C=await(d.isRTL==null?void 0:d.isRTL(h.floating)),I=S||(k||!x?[cd(u)]:K2(u)),M=R!=="none";!S&&M&&I.push(...Y2(u,x,R,C));const L=[u,...I],W=await kl(t,_),K=[];let H=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&K.push(W[T]),m){const N=q2(s,l,C);K.push(W[N[0]],W[N[1]])}if(H=[...H,{placement:s,overflows:K}],!K.every(N=>N<=0)){var y,V;const N=(((y=o.flip)==null?void 0:y.index)||0)+1,oe=L[N];if(oe&&(!(m==="alignment"?E!==br(oe):!1)||H.every(D=>br(D.placement)===E?D.overflows[0]>0:!0)))return{data:{index:N,overflows:H},reset:{placement:oe}};let z=(V=H.filter($=>$.overflows[0]<=0).sort(($,D)=>$.overflows[1]-D.overflows[1])[0])==null?void 0:V.placement;if(!z)switch(b){case"bestFit":{var Z;const $=(Z=H.filter(D=>{if(M){const B=br(D.placement);return B===E||B==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(B=>B>0).reduce((B,ee)=>B+ee,0)]).sort((D,B)=>D[1]-B[1])[0])==null?void 0:Z[0];$&&(z=$);break}case"initialPlacement":z=u;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function Mw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Lw(e){return H2.some(t=>e[t]>=0)}const rL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Kr(e,t);switch(r){case"referenceHidden":{const o=await kl(t,{...s,elementContext:"reference"}),l=Mw(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Lw(l)}}}case"escaped":{const o=await kl(t,{...s,altBoundary:!0}),l=Mw(o,n.floating);return{data:{escapedOffsets:l,escaped:Lw(l)}}}default:return{}}}}},kC=new Set(["left","top"]);async function sL(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Qr(n),u=Yi(n),d=br(n)==="y",h=kC.has(l)?-1:1,g=o&&d?-1:1,m=Kr(t,e);let{mainAxis:S,crossAxis:b,alignmentAxis:R}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof R=="number"&&(b=u==="end"?R*-1:R),d?{x:b*g,y:S*h}:{x:S*h,y:b*g}}const oL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:l,middlewareData:u}=t,d=await sL(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:l}}}}},iL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:_=>{let{x:T,y:E}=_;return{x:T,y:E}}},...d}=Kr(e,t),h={x:n,y:r},g=await kl(t,d),m=br(Qr(s)),S=sy(m);let b=h[S],R=h[m];if(o){const _=S==="y"?"top":"left",T=S==="y"?"bottom":"right",E=b+g[_],k=b-g[T];b=ug(E,b,k)}if(l){const _=m==="y"?"top":"left",T=m==="y"?"bottom":"right",E=R+g[_],k=R-g[T];R=ug(E,R,k)}const x=u.fn({...t,[S]:b,[m]:R});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[S]:o,[m]:l}}}}}},aL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=Kr(e,t),g={x:n,y:r},m=br(s),S=sy(m);let b=g[S],R=g[m];const x=Kr(u,t),_=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const k=S==="y"?"height":"width",C=o.reference[S]-o.floating[k]+_.mainAxis,I=o.reference[S]+o.reference[k]-_.mainAxis;b<C?b=C:b>I&&(b=I)}if(h){var T,E;const k=S==="y"?"width":"height",C=kC.has(Qr(s)),I=o.reference[m]-o.floating[k]+(C&&((T=l.offset)==null?void 0:T[m])||0)+(C?0:_.crossAxis),M=o.reference[m]+o.reference[k]+(C?0:((E=l.offset)==null?void 0:E[m])||0)-(C?_.crossAxis:0);R<I?R=I:R>M&&(R=M)}return{[S]:b,[m]:R}}}},lL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:l,elements:u}=t,{apply:d=()=>{},...h}=Kr(e,t),g=await kl(t,h),m=Qr(s),S=Yi(s),b=br(s)==="y",{width:R,height:x}=o.floating;let _,T;m==="top"||m==="bottom"?(_=m,T=S===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(T=m,_=S==="end"?"top":"bottom");const E=x-g.top-g.bottom,k=R-g.left-g.right,C=Ds(x-g[_],E),I=Ds(R-g[T],k),M=!t.middlewareData.shift;let L=C,W=I;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(W=k),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(L=E),M&&!S){const H=cn(g.left,0),y=cn(g.right,0),V=cn(g.top,0),Z=cn(g.bottom,0);b?W=R-2*(H!==0||y!==0?H+y:cn(g.left,g.right)):L=x-2*(V!==0||Z!==0?V+Z:cn(g.top,g.bottom))}await d({...t,availableWidth:W,availableHeight:L});const K=await l.getDimensions(u.floating);return R!==K.width||x!==K.height?{reset:{rects:!0}}:{}}}};function Vd(){return typeof window<"u"}function Zi(e){return _C(e)?(e.nodeName||"").toLowerCase():"#document"}function fn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Or(e){var t;return(t=(_C(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _C(e){return Vd()?e instanceof Node||e instanceof fn(e).Node:!1}function Yn(e){return Vd()?e instanceof Element||e instanceof fn(e).Element:!1}function Rr(e){return Vd()?e instanceof HTMLElement||e instanceof fn(e).HTMLElement:!1}function Dw(e){return!Vd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fn(e).ShadowRoot}const cL=new Set(["inline","contents"]);function Xl(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Zn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!cL.has(s)}const uL=new Set(["table","td","th"]);function dL(e){return uL.has(Zi(e))}const fL=[":popover-open",":modal"];function Gd(e){return fL.some(t=>{try{return e.matches(t)}catch{return!1}})}const hL=["transform","translate","scale","rotate","perspective"],pL=["transform","translate","scale","rotate","perspective","filter"],gL=["paint","layout","strict","content"];function ay(e){const t=ly(),n=Yn(e)?Zn(e):e;return hL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||pL.some(r=>(n.willChange||"").includes(r))||gL.some(r=>(n.contain||"").includes(r))}function mL(e){let t=js(e);for(;Rr(t)&&!ji(t);){if(ay(t))return t;if(Gd(t))return null;t=js(t)}return null}function ly(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yL=new Set(["html","body","#document"]);function ji(e){return yL.has(Zi(e))}function Zn(e){return fn(e).getComputedStyle(e)}function qd(e){return Yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function js(e){if(Zi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Dw(e)&&e.host||Or(e);return Dw(t)?t.host:t}function OC(e){const t=js(e);return ji(t)?e.ownerDocument?e.ownerDocument.body:e.body:Rr(t)&&Xl(t)?t:OC(t)}function _l(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=OC(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),l=fn(s);if(o){const u=fg(l);return t.concat(l,l.visualViewport||[],Xl(s)?s:[],u&&n?_l(u):[])}return t.concat(s,_l(s,[],n))}function fg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function AC(e){const t=Zn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Rr(e),o=s?e.offsetWidth:n,l=s?e.offsetHeight:r,u=ld(n)!==o||ld(r)!==l;return u&&(n=o,r=l),{width:n,height:r,$:u}}function cy(e){return Yn(e)?e:e.contextElement}function bi(e){const t=cy(e);if(!Rr(t))return Cr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=AC(t);let l=(o?ld(n.width):n.width)/r,u=(o?ld(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const vL=Cr(0);function PC(e){const t=fn(e);return!ly()||!t.visualViewport?vL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==fn(e)?!1:t}function xo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=cy(e);let l=Cr(1);t&&(r?Yn(r)&&(l=bi(r)):l=bi(e));const u=wL(o,n,r)?PC(o):Cr(0);let d=(s.left+u.x)/l.x,h=(s.top+u.y)/l.y,g=s.width/l.x,m=s.height/l.y;if(o){const S=fn(o),b=r&&Yn(r)?fn(r):r;let R=S,x=fg(R);for(;x&&r&&b!==R;){const _=bi(x),T=x.getBoundingClientRect(),E=Zn(x),k=T.left+(x.clientLeft+parseFloat(E.paddingLeft))*_.x,C=T.top+(x.clientTop+parseFloat(E.paddingTop))*_.y;d*=_.x,h*=_.y,g*=_.x,m*=_.y,d+=k,h+=C,R=fn(x),x=fg(R)}}return ud({width:g,height:m,x:d,y:h})}function Kd(e,t){const n=qd(e).scrollLeft;return t?t.left+n:xo(Or(e)).left+n}function IC(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Kd(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function bL(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",l=Or(r),u=t?Gd(t.floating):!1;if(r===l||u&&o)return n;let d={scrollLeft:0,scrollTop:0},h=Cr(1);const g=Cr(0),m=Rr(r);if((m||!m&&!o)&&((Zi(r)!=="body"||Xl(l))&&(d=qd(r)),Rr(r))){const b=xo(r);h=bi(r),g.x=b.x+r.clientLeft,g.y=b.y+r.clientTop}const S=l&&!m&&!o?IC(l,d):Cr(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+g.x+S.x,y:n.y*h.y-d.scrollTop*h.y+g.y+S.y}}function SL(e){return Array.from(e.getClientRects())}function xL(e){const t=Or(e),n=qd(e),r=e.ownerDocument.body,s=cn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=cn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Kd(e);const u=-n.scrollTop;return Zn(r).direction==="rtl"&&(l+=cn(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:u}}const jw=25;function CL(e,t){const n=fn(e),r=Or(e),s=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,d=0;if(s){o=s.width,l=s.height;const g=ly();(!g||g&&t==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}const h=Kd(r);if(h<=0){const g=r.ownerDocument,m=g.body,S=getComputedStyle(m),b=g.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,R=Math.abs(r.clientWidth-m.clientWidth-b);R<=jw&&(o-=R)}else h<=jw&&(o+=h);return{width:o,height:l,x:u,y:d}}const EL=new Set(["absolute","fixed"]);function TL(e,t){const n=xo(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Rr(e)?bi(e):Cr(1),l=e.clientWidth*o.x,u=e.clientHeight*o.y,d=s*o.x,h=r*o.y;return{width:l,height:u,x:d,y:h}}function Uw(e,t,n){let r;if(t==="viewport")r=CL(e,n);else if(t==="document")r=xL(Or(e));else if(Yn(t))r=TL(t,n);else{const s=PC(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ud(r)}function NC(e,t){const n=js(e);return n===t||!Yn(n)||ji(n)?!1:Zn(n).position==="fixed"||NC(n,t)}function RL(e,t){const n=t.get(e);if(n)return n;let r=_l(e,[],!1).filter(u=>Yn(u)&&Zi(u)!=="body"),s=null;const o=Zn(e).position==="fixed";let l=o?js(e):e;for(;Yn(l)&&!ji(l);){const u=Zn(l),d=ay(l);!d&&u.position==="fixed"&&(s=null),(o?!d&&!s:!d&&u.position==="static"&&!!s&&EL.has(s.position)||Xl(l)&&!d&&NC(e,l))?r=r.filter(g=>g!==l):s=u,l=js(l)}return t.set(e,r),r}function kL(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const l=[...n==="clippingAncestors"?Gd(t)?[]:RL(t,this._c):[].concat(n),r],u=l[0],d=l.reduce((h,g)=>{const m=Uw(t,g,s);return h.top=cn(m.top,h.top),h.right=Ds(m.right,h.right),h.bottom=Ds(m.bottom,h.bottom),h.left=cn(m.left,h.left),h},Uw(t,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function _L(e){const{width:t,height:n}=AC(e);return{width:t,height:n}}function OL(e,t,n){const r=Rr(t),s=Or(t),o=n==="fixed",l=xo(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const d=Cr(0);function h(){d.x=Kd(s)}if(r||!r&&!o)if((Zi(t)!=="body"||Xl(s))&&(u=qd(t)),r){const b=xo(t,!0,o,t);d.x=b.x+t.clientLeft,d.y=b.y+t.clientTop}else s&&h();o&&!r&&s&&h();const g=s&&!r&&!o?IC(s,u):Cr(0),m=l.left+u.scrollLeft-d.x-g.x,S=l.top+u.scrollTop-d.y-g.y;return{x:m,y:S,width:l.width,height:l.height}}function Lh(e){return Zn(e).position==="static"}function $w(e,t){if(!Rr(e)||Zn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Or(e)===n&&(n=n.ownerDocument.body),n}function MC(e,t){const n=fn(e);if(Gd(e))return n;if(!Rr(e)){let s=js(e);for(;s&&!ji(s);){if(Yn(s)&&!Lh(s))return s;s=js(s)}return n}let r=$w(e,t);for(;r&&dL(r)&&Lh(r);)r=$w(r,t);return r&&ji(r)&&Lh(r)&&!ay(r)?n:r||mL(e)||n}const AL=async function(e){const t=this.getOffsetParent||MC,n=this.getDimensions,r=await n(e.floating);return{reference:OL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function PL(e){return Zn(e).direction==="rtl"}const IL={convertOffsetParentRelativeRectToViewportRelativeRect:bL,getDocumentElement:Or,getClippingRect:kL,getOffsetParent:MC,getElementRects:AL,getClientRects:SL,getDimensions:_L,getScale:bi,isElement:Yn,isRTL:PL};function LC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function NL(e,t){let n=null,r;const s=Or(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const h=e.getBoundingClientRect(),{left:g,top:m,width:S,height:b}=h;if(u||t(),!S||!b)return;const R=Qc(m),x=Qc(s.clientWidth-(g+S)),_=Qc(s.clientHeight-(m+b)),T=Qc(g),k={rootMargin:-R+"px "+-x+"px "+-_+"px "+-T+"px",threshold:cn(0,Ds(1,d))||1};let C=!0;function I(M){const L=M[0].intersectionRatio;if(L!==d){if(!C)return l();L?l(!1,L):r=setTimeout(()=>{l(!1,1e-7)},1e3)}L===1&&!LC(h,e.getBoundingClientRect())&&l(),C=!1}try{n=new IntersectionObserver(I,{...k,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,k)}n.observe(e)}return l(!0),o}function ML(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=cy(e),g=s||o?[...h?_l(h):[],..._l(t)]:[];g.forEach(T=>{s&&T.addEventListener("scroll",n,{passive:!0}),o&&T.addEventListener("resize",n)});const m=h&&u?NL(h,n):null;let S=-1,b=null;l&&(b=new ResizeObserver(T=>{let[E]=T;E&&E.target===h&&b&&(b.unobserve(t),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var k;(k=b)==null||k.observe(t)})),n()}),h&&!d&&b.observe(h),b.observe(t));let R,x=d?xo(e):null;d&&_();function _(){const T=xo(e);x&&!LC(x,T)&&n(),x=T,R=requestAnimationFrame(_)}return n(),()=>{var T;g.forEach(E=>{s&&E.removeEventListener("scroll",n),o&&E.removeEventListener("resize",n)}),m==null||m(),(T=b)==null||T.disconnect(),b=null,d&&cancelAnimationFrame(R)}}const LL=oL,DL=iL,jL=nL,UL=lL,$L=rL,Fw=tL,FL=aL,BL=(e,t,n)=>{const r=new Map,s={platform:IL,...n},o={...s.platform,_c:r};return eL(e,t,{...s,platform:o})};var zL=typeof document<"u",HL=function(){},Ru=zL?w.useLayoutEffect:HL;function dd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!dd(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!dd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function DC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Bw(e,t){const n=DC(e);return Math.round(t*n)/n}function Dh(e){const t=w.useRef(e);return Ru(()=>{t.current=e}),t}function WL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:h}=e,[g,m]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[S,b]=w.useState(r);dd(S,r)||b(r);const[R,x]=w.useState(null),[_,T]=w.useState(null),E=w.useCallback(D=>{D!==M.current&&(M.current=D,x(D))},[]),k=w.useCallback(D=>{D!==L.current&&(L.current=D,T(D))},[]),C=o||R,I=l||_,M=w.useRef(null),L=w.useRef(null),W=w.useRef(g),K=d!=null,H=Dh(d),y=Dh(s),V=Dh(h),Z=w.useCallback(()=>{if(!M.current||!L.current)return;const D={placement:t,strategy:n,middleware:S};y.current&&(D.platform=y.current),BL(M.current,L.current,D).then(B=>{const ee={...B,isPositioned:V.current!==!1};N.current&&!dd(W.current,ee)&&(W.current=ee,ql.flushSync(()=>{m(ee)}))})},[S,t,n,y,V]);Ru(()=>{h===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,m(D=>({...D,isPositioned:!1})))},[h]);const N=w.useRef(!1);Ru(()=>(N.current=!0,()=>{N.current=!1}),[]),Ru(()=>{if(C&&(M.current=C),I&&(L.current=I),C&&I){if(H.current)return H.current(C,I,Z);Z()}},[C,I,Z,H,K]);const oe=w.useMemo(()=>({reference:M,floating:L,setReference:E,setFloating:k}),[E,k]),z=w.useMemo(()=>({reference:C,floating:I}),[C,I]),$=w.useMemo(()=>{const D={position:n,left:0,top:0};if(!z.floating)return D;const B=Bw(z.floating,g.x),ee=Bw(z.floating,g.y);return u?{...D,transform:"translate("+B+"px, "+ee+"px)",...DC(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:ee}},[n,u,z.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:Z,refs:oe,elements:z,floatingStyles:$}),[g,Z,oe,z,$])}const VL=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Fw({element:r.current,padding:s}).fn(n):{}:r?Fw({element:r,padding:s}).fn(n):{}}}},GL=(e,t)=>({...LL(e),options:[e,t]}),qL=(e,t)=>({...DL(e),options:[e,t]}),KL=(e,t)=>({...FL(e),options:[e,t]}),QL=(e,t)=>({...jL(e),options:[e,t]}),JL=(e,t)=>({...UL(e),options:[e,t]}),XL=(e,t)=>({...$L(e),options:[e,t]}),YL=(e,t)=>({...VL(e),options:[e,t]});var ZL="Arrow",jC=w.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return A.jsx(ot.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:A.jsx("polygon",{points:"0,0 30,0 15,10"})})});jC.displayName=ZL;var e4=jC;function t4(e){const[t,n]=w.useState(void 0);return kn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,u;if("borderBoxSize"in o){const d=o.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,u=h.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var uy="Popper",[UC,$C]=Ql(uy),[n4,FC]=UC(uy),BC=e=>{const{__scopePopper:t,children:n}=e,[r,s]=w.useState(null);return A.jsx(n4,{scope:t,anchor:r,onAnchorChange:s,children:n})};BC.displayName=uy;var zC="PopperAnchor",HC=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=FC(zC,n),l=w.useRef(null),u=Ut(t,l),d=w.useRef(null);return w.useEffect(()=>{const h=d.current;d.current=(r==null?void 0:r.current)||l.current,h!==d.current&&o.onAnchorChange(d.current)}),r?null:A.jsx(ot.div,{...s,ref:u})});HC.displayName=zC;var dy="PopperContent",[r4,s4]=UC(dy),WC=w.forwardRef((e,t)=>{var be,kt,it,Bt,_t,Xe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:S=!1,updatePositionStrategy:b="optimized",onPlaced:R,...x}=e,_=FC(dy,n),[T,E]=w.useState(null),k=Ut(t,In=>E(In)),[C,I]=w.useState(null),M=t4(C),L=(M==null?void 0:M.width)??0,W=(M==null?void 0:M.height)??0,K=r+(o!=="center"?"-"+o:""),H=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},y=Array.isArray(h)?h:[h],V=y.length>0,Z={padding:H,boundary:y.filter(i4),altBoundary:V},{refs:N,floatingStyles:oe,placement:z,isPositioned:$,middlewareData:D}=WL({strategy:"fixed",placement:K,whileElementsMounted:(...In)=>ML(...In,{animationFrame:b==="always"}),elements:{reference:_.anchor},middleware:[GL({mainAxis:s+W,alignmentAxis:l}),d&&qL({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?KL():void 0,...Z}),d&&QL({...Z}),JL({...Z,apply:({elements:In,rects:Ws,availableWidth:Po,availableHeight:Vs})=>{const{width:Gs,height:Nn}=Ws.reference,Mn=In.floating.style;Mn.setProperty("--radix-popper-available-width",`${Po}px`),Mn.setProperty("--radix-popper-available-height",`${Vs}px`),Mn.setProperty("--radix-popper-anchor-width",`${Gs}px`),Mn.setProperty("--radix-popper-anchor-height",`${Nn}px`)}}),C&&YL({element:C,padding:u}),a4({arrowWidth:L,arrowHeight:W}),S&&XL({strategy:"referenceHidden",...Z})]}),[B,ee]=qC(z),ae=Xn(R);kn(()=>{$&&(ae==null||ae())},[$,ae]);const ne=(be=D.arrow)==null?void 0:be.x,fe=(kt=D.arrow)==null?void 0:kt.y,de=((it=D.arrow)==null?void 0:it.centerOffset)!==0,[Oe,ze]=w.useState();return kn(()=>{T&&ze(window.getComputedStyle(T).zIndex)},[T]),A.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:$?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(Bt=D.transformOrigin)==null?void 0:Bt.x,(_t=D.transformOrigin)==null?void 0:_t.y].join(" "),...((Xe=D.hide)==null?void 0:Xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:A.jsx(r4,{scope:n,placedSide:B,onArrowChange:I,arrowX:ne,arrowY:fe,shouldHideArrow:de,children:A.jsx(ot.div,{"data-side":B,"data-align":ee,...x,ref:k,style:{...x.style,animation:$?void 0:"none"}})})})});WC.displayName=dy;var VC="PopperArrow",o4={top:"bottom",right:"left",bottom:"top",left:"right"},GC=w.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=s4(VC,r),l=o4[o.placedSide];return A.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:A.jsx(e4,{...s,ref:n,style:{...s.style,display:"block"}})})});GC.displayName=VC;function i4(e){return e!==null}var a4=e=>({name:"transformOrigin",options:e,fn(t){var _,T,E;const{placement:n,rects:r,middlewareData:s}=t,l=((_=s.arrow)==null?void 0:_.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[h,g]=qC(n),m={start:"0%",center:"50%",end:"100%"}[g],S=(((T=s.arrow)==null?void 0:T.x)??0)+u/2,b=(((E=s.arrow)==null?void 0:E.y)??0)+d/2;let R="",x="";return h==="bottom"?(R=l?m:`${S}px`,x=`${-d}px`):h==="top"?(R=l?m:`${S}px`,x=`${r.floating.height+d}px`):h==="right"?(R=`${-d}px`,x=l?m:`${b}px`):h==="left"&&(R=`${r.floating.width+d}px`,x=l?m:`${b}px`),{data:{x:R,y:x}}}});function qC(e){const[t,n="center"]=e.split("-");return[t,n]}var l4=BC,c4=HC,u4=WC,d4=GC,f4=Symbol("radix.slottable");function h4(e){const t=({children:n})=>A.jsx(A.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=f4,t}var[Qd]=Ql("Tooltip",[$C]),Jd=$C(),KC="TooltipProvider",p4=700,hg="tooltip.open",[g4,fy]=Qd(KC),QC=e=>{const{__scopeTooltip:t,delayDuration:n=p4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,l=w.useRef(!0),u=w.useRef(!1),d=w.useRef(0);return w.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),A.jsx(g4,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:w.useCallback(h=>{u.current=h},[]),disableHoverableContent:s,children:o})};QC.displayName=KC;var Ol="Tooltip",[m4,Xd]=Qd(Ol),JC=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:l,delayDuration:u}=e,d=fy(Ol,e.__scopeTooltip),h=Jd(t),[g,m]=w.useState(null),S=Tu(),b=w.useRef(0),R=l??d.disableHoverableContent,x=u??d.delayDuration,_=w.useRef(!1),[T,E]=Zm({prop:r,defaultProp:s??!1,onChange:L=>{L?(d.onOpen(),document.dispatchEvent(new CustomEvent(hg))):d.onClose(),o==null||o(L)},caller:Ol}),k=w.useMemo(()=>T?_.current?"delayed-open":"instant-open":"closed",[T]),C=w.useCallback(()=>{window.clearTimeout(b.current),b.current=0,_.current=!1,E(!0)},[E]),I=w.useCallback(()=>{window.clearTimeout(b.current),b.current=0,E(!1)},[E]),M=w.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{_.current=!0,E(!0),b.current=0},x)},[x,E]);return w.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),A.jsx(l4,{...h,children:A.jsx(m4,{scope:t,contentId:S,open:T,stateAttribute:k,trigger:g,onTriggerChange:m,onTriggerEnter:w.useCallback(()=>{d.isOpenDelayedRef.current?M():C()},[d.isOpenDelayedRef,M,C]),onTriggerLeave:w.useCallback(()=>{R?I():(window.clearTimeout(b.current),b.current=0)},[I,R]),onOpen:C,onClose:I,disableHoverableContent:R,children:n})})};JC.displayName=Ol;var pg="TooltipTrigger",XC=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Xd(pg,n),o=fy(pg,n),l=Jd(n),u=w.useRef(null),d=Ut(t,u,s.onTriggerChange),h=w.useRef(!1),g=w.useRef(!1),m=w.useCallback(()=>h.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),A.jsx(c4,{asChild:!0,...l,children:A.jsx(ot.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:d,onPointerMove:We(e.onPointerMove,S=>{S.pointerType!=="touch"&&!g.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:We(e.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:We(e.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:We(e.onFocus,()=>{h.current||s.onOpen()}),onBlur:We(e.onBlur,s.onClose),onClick:We(e.onClick,s.onClose)})})});XC.displayName=pg;var y4="TooltipPortal",[J6,v4]=Qd(y4,{forceMount:void 0}),Ui="TooltipContent",YC=w.forwardRef((e,t)=>{const n=v4(Ui,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,l=Xd(Ui,e.__scopeTooltip);return A.jsx(Ji,{present:r||l.open,children:l.disableHoverableContent?A.jsx(ZC,{side:s,...o,ref:t}):A.jsx(w4,{side:s,...o,ref:t})})}),w4=w.forwardRef((e,t)=>{const n=Xd(Ui,e.__scopeTooltip),r=fy(Ui,e.__scopeTooltip),s=w.useRef(null),o=Ut(t,s),[l,u]=w.useState(null),{trigger:d,onClose:h}=n,g=s.current,{onPointerInTransitChange:m}=r,S=w.useCallback(()=>{u(null),m(!1)},[m]),b=w.useCallback((R,x)=>{const _=R.currentTarget,T={x:R.clientX,y:R.clientY},E=E4(T,_.getBoundingClientRect()),k=T4(T,E),C=R4(x.getBoundingClientRect()),I=_4([...k,...C]);u(I),m(!0)},[m]);return w.useEffect(()=>()=>S(),[S]),w.useEffect(()=>{if(d&&g){const R=_=>b(_,g),x=_=>b(_,d);return d.addEventListener("pointerleave",R),g.addEventListener("pointerleave",x),()=>{d.removeEventListener("pointerleave",R),g.removeEventListener("pointerleave",x)}}},[d,g,b,S]),w.useEffect(()=>{if(l){const R=x=>{const _=x.target,T={x:x.clientX,y:x.clientY},E=(d==null?void 0:d.contains(_))||(g==null?void 0:g.contains(_)),k=!k4(T,l);E?S():k&&(S(),h())};return document.addEventListener("pointermove",R),()=>document.removeEventListener("pointermove",R)}},[d,g,l,h,S]),A.jsx(ZC,{...e,ref:o})}),[b4,S4]=Qd(Ol,{isInside:!1}),x4=h4("TooltipContent"),ZC=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:l,...u}=e,d=Xd(Ui,n),h=Jd(n),{onClose:g}=d;return w.useEffect(()=>(document.addEventListener(hg,g),()=>document.removeEventListener(hg,g)),[g]),w.useEffect(()=>{if(d.trigger){const m=S=>{const b=S.target;b!=null&&b.contains(d.trigger)&&g()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,g]),A.jsx(Bd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:g,children:A.jsxs(u4,{"data-state":d.stateAttribute,...h,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[A.jsx(x4,{children:r}),A.jsx(b4,{scope:n,isInside:!0,children:A.jsx(qN,{id:d.contentId,role:"tooltip",children:s||r})})]})})});YC.displayName=Ui;var eE="TooltipArrow",C4=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Jd(n);return S4(eE,n).isInside?null:A.jsx(d4,{...s,...r,ref:t})});C4.displayName=eE;function E4(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function T4(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function R4(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function k4(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const u=t[o],d=t[l],h=u.x,g=u.y,m=d.x,S=d.y;g>r!=S>r&&n<(m-h)*(r-g)/(S-g)+h&&(s=!s)}return s}function _4(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),O4(t)}function O4(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var A4=QC,P4=JC,I4=XC,tE=YC;const nE=A4,N4=P4,M4=I4,rE=w.forwardRef(({className:e,sideOffset:t=4,...n},r)=>A.jsx(tE,{ref:r,sideOffset:t,className:ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));rE.displayName=tE.displayName;var Yd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},L4={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ms,nm,wS,D4=(wS=class{constructor(){Ce(this,ms,L4);Ce(this,nm,!1)}setTimeoutProvider(e){pe(this,ms,e)}setTimeout(e,t){return G(this,ms).setTimeout(e,t)}clearTimeout(e){G(this,ms).clearTimeout(e)}setInterval(e,t){return G(this,ms).setInterval(e,t)}clearInterval(e){G(this,ms).clearInterval(e)}},ms=new WeakMap,nm=new WeakMap,wS),gg=new D4;function j4(e){setTimeout(e,0)}var Zd=typeof window>"u"||"Deno"in globalThis;function zn(){}function U4(e,t){return typeof e=="function"?e(t):e}function $4(e){return typeof e=="number"&&e>=0&&e!==1/0}function F4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function mg(e,t){return typeof e=="function"?e(t):e}function B4(e,t){return typeof e=="function"?e(t):e}function zw(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==hy(l,t.options))return!1}else if(!Pl(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||s&&s!==t.state.fetchStatus||o&&!o(t))}function Hw(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Al(t.options.mutationKey)!==Al(o))return!1}else if(!Pl(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function hy(e,t){return((t==null?void 0:t.queryKeyHashFn)||Al)(e)}function Al(e){return JSON.stringify(e,(t,n)=>yg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Pl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Pl(e[n],t[n])):!1}var z4=Object.prototype.hasOwnProperty;function sE(e,t){if(e===t)return e;const n=Ww(e)&&Ww(t);if(!n&&!(yg(e)&&yg(t)))return t;const s=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,u=n?new Array(l):{};let d=0;for(let h=0;h<l;h++){const g=n?h:o[h],m=e[g],S=t[g];if(m===S){u[g]=m,(n?h<s:z4.call(e,g))&&d++;continue}if(m===null||S===null||typeof m!="object"||typeof S!="object"){u[g]=S;continue}const b=sE(m,S);u[g]=b,b===m&&d++}return s===l&&d===s?e:u}function Ww(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function yg(e){if(!Vw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Vw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Vw(e){return Object.prototype.toString.call(e)==="[object Object]"}function H4(e){return new Promise(t=>{gg.setTimeout(t,e)})}function W4(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?sE(e,t):t}function V4(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function G4(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var py=Symbol();function oE(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===py?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var oo,ys,xi,bS,q4=(bS=class extends Yd{constructor(){super();Ce(this,oo);Ce(this,ys);Ce(this,xi);pe(this,xi,t=>{if(!Zd&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){G(this,ys)||this.setEventListener(G(this,xi))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,ys))==null||t.call(this),pe(this,ys,void 0))}setEventListener(t){var n;pe(this,xi,t),(n=G(this,ys))==null||n.call(this),pe(this,ys,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){G(this,oo)!==t&&(pe(this,oo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof G(this,oo)=="boolean"?G(this,oo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},oo=new WeakMap,ys=new WeakMap,xi=new WeakMap,bS),iE=new q4;function K4(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var Q4=j4;function J4(){let e=[],t=0,n=u=>{u()},r=u=>{u()},s=Q4;const o=u=>{t?e.push(u):s(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&s(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var Lt=J4(),Ci,vs,Ei,SS,X4=(SS=class extends Yd{constructor(){super();Ce(this,Ci,!0);Ce(this,vs);Ce(this,Ei);pe(this,Ei,t=>{if(!Zd&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){G(this,vs)||this.setEventListener(G(this,Ei))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,vs))==null||t.call(this),pe(this,vs,void 0))}setEventListener(t){var n;pe(this,Ei,t),(n=G(this,vs))==null||n.call(this),pe(this,vs,t(this.setOnline.bind(this)))}setOnline(t){G(this,Ci)!==t&&(pe(this,Ci,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return G(this,Ci)}},Ci=new WeakMap,vs=new WeakMap,Ei=new WeakMap,SS),fd=new X4;function Y4(e){return Math.min(1e3*2**e,3e4)}function aE(e){return(e??"online")==="online"?fd.isOnline():!0}var vg=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function lE(e){let t=!1,n=0,r;const s=K4(),o=()=>s.status!=="pending",l=x=>{var _;if(!o()){const T=new vg(x);S(T),(_=e.onCancel)==null||_.call(e,T)}},u=()=>{t=!0},d=()=>{t=!1},h=()=>iE.isFocused()&&(e.networkMode==="always"||fd.isOnline())&&e.canRun(),g=()=>aE(e.networkMode)&&e.canRun(),m=x=>{o()||(r==null||r(),s.resolve(x))},S=x=>{o()||(r==null||r(),s.reject(x))},b=()=>new Promise(x=>{var _;r=T=>{(o()||h())&&x(T)},(_=e.onPause)==null||_.call(e)}).then(()=>{var x;r=void 0,o()||(x=e.onContinue)==null||x.call(e)}),R=()=>{if(o())return;let x;const _=n===0?e.initialPromise:void 0;try{x=_??e.fn()}catch(T){x=Promise.reject(T)}Promise.resolve(x).then(m).catch(T=>{var M;if(o())return;const E=e.retry??(Zd?0:3),k=e.retryDelay??Y4,C=typeof k=="function"?k(n,T):k,I=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,T);if(t||!I){S(T);return}n++,(M=e.onFail)==null||M.call(e,n,T),H4(C).then(()=>h()?void 0:b()).then(()=>{t?S(T):R()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(r==null||r(),s),cancelRetry:u,continueRetry:d,canStart:g,start:()=>(g()?R():b().then(R),s)}}var io,xS,cE=(xS=class{constructor(){Ce(this,io)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$4(this.gcTime)&&pe(this,io,gg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zd?1/0:5*60*1e3))}clearGcTimeout(){G(this,io)&&(gg.clearTimeout(G(this,io)),pe(this,io,void 0))}},io=new WeakMap,xS),ao,Ti,bn,lo,ft,$l,co,Hn,Lr,CS,Z4=(CS=class extends cE{constructor(t){super();Ce(this,Hn);Ce(this,ao);Ce(this,Ti);Ce(this,bn);Ce(this,lo);Ce(this,ft);Ce(this,$l);Ce(this,co);pe(this,co,!1),pe(this,$l,t.defaultOptions),this.setOptions(t.options),this.observers=[],pe(this,lo,t.client),pe(this,bn,G(this,lo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,pe(this,ao,qw(this.options)),this.state=t.state??G(this,ao),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=G(this,ft))==null?void 0:t.promise}setOptions(t){if(this.options={...G(this,$l),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=qw(this.options);n.data!==void 0&&(this.setState(Gw(n.data,n.dataUpdatedAt)),pe(this,ao,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,bn).remove(this)}setData(t,n){const r=W4(this.state.data,t,this.options);return bt(this,Hn,Lr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){bt(this,Hn,Lr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=G(this,ft))==null?void 0:r.promise;return(s=G(this,ft))==null||s.cancel(t),n?n.then(zn).catch(zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,ao))}isActive(){return this.observers.some(t=>B4(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===py||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>mg(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!F4(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=G(this,ft))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=G(this,ft))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),G(this,bn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(G(this,ft)&&(G(this,co)?G(this,ft).cancel({revert:!0}):G(this,ft).cancelRetry()),this.scheduleGc()),G(this,bn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||bt(this,Hn,Lr).call(this,{type:"invalidate"})}async fetch(t,n){var d,h,g,m,S,b,R,x,_,T,E,k;if(this.state.fetchStatus!=="idle"&&((d=G(this,ft))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(G(this,ft))return G(this,ft).continueRetry(),G(this,ft).promise}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(I=>I.options.queryFn);C&&this.setOptions(C.options)}const r=new AbortController,s=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(pe(this,co,!0),r.signal)})},o=()=>{const C=oE(this.options,n),M=(()=>{const L={client:G(this,lo),queryKey:this.queryKey,meta:this.meta};return s(L),L})();return pe(this,co,!1),this.options.persister?this.options.persister(C,M,this):C(M)},u=(()=>{const C={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:G(this,lo),state:this.state,fetchFn:o};return s(C),C})();(h=this.options.behavior)==null||h.onFetch(u,this),pe(this,Ti,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=u.fetchOptions)==null?void 0:g.meta))&&bt(this,Hn,Lr).call(this,{type:"fetch",meta:(m=u.fetchOptions)==null?void 0:m.meta}),pe(this,ft,lE({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,onCancel:C=>{C instanceof vg&&C.revert&&this.setState({...G(this,Ti),fetchStatus:"idle"}),r.abort()},onFail:(C,I)=>{bt(this,Hn,Lr).call(this,{type:"failed",failureCount:C,error:I})},onPause:()=>{bt(this,Hn,Lr).call(this,{type:"pause"})},onContinue:()=>{bt(this,Hn,Lr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const C=await G(this,ft).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(b=(S=G(this,bn).config).onSuccess)==null||b.call(S,C,this),(x=(R=G(this,bn).config).onSettled)==null||x.call(R,C,this.state.error,this),C}catch(C){if(C instanceof vg){if(C.silent)return G(this,ft).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw bt(this,Hn,Lr).call(this,{type:"error",error:C}),(T=(_=G(this,bn).config).onError)==null||T.call(_,C,this),(k=(E=G(this,bn).config).onSettled)==null||k.call(E,this.state.data,C,this),C}finally{this.scheduleGc()}}},ao=new WeakMap,Ti=new WeakMap,bn=new WeakMap,lo=new WeakMap,ft=new WeakMap,$l=new WeakMap,co=new WeakMap,Hn=new WeakSet,Lr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...eD(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...Gw(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return pe(this,Ti,t.manual?s:void 0),s;case"error":const o=t.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Lt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),G(this,bn).notify({query:this,type:"updated",action:t})})},CS);function eD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:aE(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Gw(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function qw(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Kw(e){return{onFetch:(t,n)=>{var g,m,S,b,R;const r=t.options,s=(S=(m=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:m.fetchMore)==null?void 0:S.direction,o=((b=t.state.data)==null?void 0:b.pages)||[],l=((R=t.state.data)==null?void 0:R.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let x=!1;const _=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},T=oE(t.options,t.fetchOptions),E=async(k,C,I)=>{if(x)return Promise.reject();if(C==null&&k.pages.length)return Promise.resolve(k);const L=(()=>{const y={client:t.client,queryKey:t.queryKey,pageParam:C,direction:I?"backward":"forward",meta:t.options.meta};return _(y),y})(),W=await T(L),{maxPages:K}=t.options,H=I?G4:V4;return{pages:H(k.pages,W,K),pageParams:H(k.pageParams,C,K)}};if(s&&o.length){const k=s==="backward",C=k?tD:Qw,I={pages:o,pageParams:l},M=C(r,I);u=await E(I,M,k)}else{const k=e??o.length;do{const C=d===0?l[0]??r.initialPageParam:Qw(r,u);if(d>0&&C==null)break;u=await E(u,C),d++}while(d<k)}return u};t.options.persister?t.fetchFn=()=>{var x,_;return(_=(x=t.options).persister)==null?void 0:_.call(x,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function Qw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function tD(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Fl,pr,Nt,uo,gr,as,ES,nD=(ES=class extends cE{constructor(t){super();Ce(this,gr);Ce(this,Fl);Ce(this,pr);Ce(this,Nt);Ce(this,uo);pe(this,Fl,t.client),this.mutationId=t.mutationId,pe(this,Nt,t.mutationCache),pe(this,pr,[]),this.state=t.state||rD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){G(this,pr).includes(t)||(G(this,pr).push(t),this.clearGcTimeout(),G(this,Nt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){pe(this,pr,G(this,pr).filter(n=>n!==t)),this.scheduleGc(),G(this,Nt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){G(this,pr).length||(this.state.status==="pending"?this.scheduleGc():G(this,Nt).remove(this))}continue(){var t;return((t=G(this,uo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,u,d,h,g,m,S,b,R,x,_,T,E,k,C,I,M,L,W,K;const n=()=>{bt(this,gr,as).call(this,{type:"continue"})},r={client:G(this,Fl),meta:this.options.meta,mutationKey:this.options.mutationKey};pe(this,uo,lE({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(H,y)=>{bt(this,gr,as).call(this,{type:"failed",failureCount:H,error:y})},onPause:()=>{bt(this,gr,as).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,Nt).canRun(this)}));const s=this.state.status==="pending",o=!G(this,uo).canStart();try{if(s)n();else{bt(this,gr,as).call(this,{type:"pending",variables:t,isPaused:o}),await((u=(l=G(this,Nt).config).onMutate)==null?void 0:u.call(l,t,this,r));const y=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,t,r));y!==this.state.context&&bt(this,gr,as).call(this,{type:"pending",context:y,variables:t,isPaused:o})}const H=await G(this,uo).start();return await((m=(g=G(this,Nt).config).onSuccess)==null?void 0:m.call(g,H,t,this.state.context,this,r)),await((b=(S=this.options).onSuccess)==null?void 0:b.call(S,H,t,this.state.context,r)),await((x=(R=G(this,Nt).config).onSettled)==null?void 0:x.call(R,H,null,this.state.variables,this.state.context,this,r)),await((T=(_=this.options).onSettled)==null?void 0:T.call(_,H,null,t,this.state.context,r)),bt(this,gr,as).call(this,{type:"success",data:H}),H}catch(H){try{throw await((k=(E=G(this,Nt).config).onError)==null?void 0:k.call(E,H,t,this.state.context,this,r)),await((I=(C=this.options).onError)==null?void 0:I.call(C,H,t,this.state.context,r)),await((L=(M=G(this,Nt).config).onSettled)==null?void 0:L.call(M,void 0,H,this.state.variables,this.state.context,this,r)),await((K=(W=this.options).onSettled)==null?void 0:K.call(W,void 0,H,t,this.state.context,r)),H}finally{bt(this,gr,as).call(this,{type:"error",error:H})}}finally{G(this,Nt).runNext(this)}}},Fl=new WeakMap,pr=new WeakMap,Nt=new WeakMap,uo=new WeakMap,gr=new WeakSet,as=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Lt.batch(()=>{G(this,pr).forEach(r=>{r.onMutationUpdate(t)}),G(this,Nt).notify({mutation:this,type:"updated",action:t})})},ES);function rD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $r,Wn,Bl,TS,sD=(TS=class extends Yd{constructor(t={}){super();Ce(this,$r);Ce(this,Wn);Ce(this,Bl);this.config=t,pe(this,$r,new Set),pe(this,Wn,new Map),pe(this,Bl,0)}build(t,n,r){const s=new nD({client:t,mutationCache:this,mutationId:++_c(this,Bl)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){G(this,$r).add(t);const n=Jc(t);if(typeof n=="string"){const r=G(this,Wn).get(n);r?r.push(t):G(this,Wn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(G(this,$r).delete(t)){const n=Jc(t);if(typeof n=="string"){const r=G(this,Wn).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&G(this,Wn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Jc(t);if(typeof n=="string"){const r=G(this,Wn).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Jc(t);if(typeof n=="string"){const s=(r=G(this,Wn).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Lt.batch(()=>{G(this,$r).forEach(t=>{this.notify({type:"removed",mutation:t})}),G(this,$r).clear(),G(this,Wn).clear()})}getAll(){return Array.from(G(this,$r))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Hw(n,r))}findAll(t={}){return this.getAll().filter(n=>Hw(t,n))}notify(t){Lt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Lt.batch(()=>Promise.all(t.map(n=>n.continue().catch(zn))))}},$r=new WeakMap,Wn=new WeakMap,Bl=new WeakMap,TS);function Jc(e){var t;return(t=e.options.scope)==null?void 0:t.id}var mr,RS,oD=(RS=class extends Yd{constructor(t={}){super();Ce(this,mr);this.config=t,pe(this,mr,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??hy(s,n);let l=this.get(o);return l||(l=new Z4({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){G(this,mr).has(t.queryHash)||(G(this,mr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=G(this,mr).get(t.queryHash);n&&(t.destroy(),n===t&&G(this,mr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Lt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return G(this,mr).get(t)}getAll(){return[...G(this,mr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>zw(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>zw(t,r)):n}notify(t){Lt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Lt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Lt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},mr=new WeakMap,RS),Qe,ws,bs,Ri,ki,Ss,_i,Oi,kS,iD=(kS=class{constructor(e={}){Ce(this,Qe);Ce(this,ws);Ce(this,bs);Ce(this,Ri);Ce(this,ki);Ce(this,Ss);Ce(this,_i);Ce(this,Oi);pe(this,Qe,e.queryCache||new oD),pe(this,ws,e.mutationCache||new sD),pe(this,bs,e.defaultOptions||{}),pe(this,Ri,new Map),pe(this,ki,new Map),pe(this,Ss,0)}mount(){_c(this,Ss)._++,G(this,Ss)===1&&(pe(this,_i,iE.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,Qe).onFocus())})),pe(this,Oi,fd.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,Qe).onOnline())})))}unmount(){var e,t;_c(this,Ss)._--,G(this,Ss)===0&&((e=G(this,_i))==null||e.call(this),pe(this,_i,void 0),(t=G(this,Oi))==null||t.call(this),pe(this,Oi,void 0))}isFetching(e){return G(this,Qe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return G(this,ws).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=G(this,Qe).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=G(this,Qe).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(mg(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return G(this,Qe).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=G(this,Qe).get(r.queryHash),o=s==null?void 0:s.state.data,l=U4(t,o);if(l!==void 0)return G(this,Qe).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return Lt.batch(()=>G(this,Qe).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=G(this,Qe).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=G(this,Qe);Lt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=G(this,Qe);return Lt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Lt.batch(()=>G(this,Qe).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(zn).catch(zn)}invalidateQueries(e,t={}){return Lt.batch(()=>(G(this,Qe).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Lt.batch(()=>G(this,Qe).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(zn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(zn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=G(this,Qe).build(this,t);return n.isStaleByTime(mg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(zn).catch(zn)}fetchInfiniteQuery(e){return e.behavior=Kw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(zn).catch(zn)}ensureInfiniteQueryData(e){return e.behavior=Kw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return fd.isOnline()?G(this,ws).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,Qe)}getMutationCache(){return G(this,ws)}getDefaultOptions(){return G(this,bs)}setDefaultOptions(e){pe(this,bs,e)}setQueryDefaults(e,t){G(this,Ri).set(Al(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...G(this,Ri).values()],n={};return t.forEach(r=>{Pl(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){G(this,ki).set(Al(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...G(this,ki).values()],n={};return t.forEach(r=>{Pl(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...G(this,bs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=hy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===py&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...G(this,bs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){G(this,Qe).clear(),G(this,ws).clear()}},Qe=new WeakMap,ws=new WeakMap,bs=new WeakMap,Ri=new WeakMap,ki=new WeakMap,Ss=new WeakMap,_i=new WeakMap,Oi=new WeakMap,kS),aD=w.createContext(void 0),lD=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),A.jsx(aD.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Il.apply(this,arguments)}var Es;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Es||(Es={}));const Jw="popstate";function cD(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:l,hash:u}=r.location;return wg("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:hd(s)}return dD(t,n,null,e)}function qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function uE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uD(){return Math.random().toString(36).substr(2,8)}function Xw(e,t){return{usr:e.state,key:e.key,idx:t}}function wg(e,t,n,r){return n===void 0&&(n=null),Il({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ea(t):t,{state:n,key:t&&t.key||r||uD()})}function hd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ea(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function dD(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u=Es.Pop,d=null,h=g();h==null&&(h=0,l.replaceState(Il({},l.state,{idx:h}),""));function g(){return(l.state||{idx:null}).idx}function m(){u=Es.Pop;let _=g(),T=_==null?null:_-h;h=_,d&&d({action:u,location:x.location,delta:T})}function S(_,T){u=Es.Push;let E=wg(x.location,_,T);h=g()+1;let k=Xw(E,h),C=x.createHref(E);try{l.pushState(k,"",C)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(C)}o&&d&&d({action:u,location:x.location,delta:1})}function b(_,T){u=Es.Replace;let E=wg(x.location,_,T);h=g();let k=Xw(E,h),C=x.createHref(E);l.replaceState(k,"",C),o&&d&&d({action:u,location:x.location,delta:0})}function R(_){let T=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof _=="string"?_:hd(_);return E=E.replace(/ $/,"%20"),qe(T,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,T)}let x={get action(){return u},get location(){return e(s,l)},listen(_){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Jw,m),d=_,()=>{s.removeEventListener(Jw,m),d=null}},createHref(_){return t(s,_)},createURL:R,encodeLocation(_){let T=R(_);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:S,replace:b,go(_){return l.go(_)}};return x}var Yw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yw||(Yw={}));function fD(e,t,n){return n===void 0&&(n="/"),hD(e,t,n)}function hD(e,t,n,r){let s=typeof t=="string"?ea(t):t,o=$i(s.pathname||"/",n);if(o==null)return null;let l=dE(e);pD(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=TD(o);u=CD(l[d],h)}return u}function dE(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(qe(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let h=Ns([r,d.relativePath]),g=n.concat(d);o.children&&o.children.length>0&&(qe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),dE(o.children,t,g,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:SD(h,o.index),routesMeta:g})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let d of fE(o.path))s(o,l,d)}),t}function fE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=fE(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function pD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:xD(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gD=/^:[\w-]+$/,mD=3,yD=2,vD=1,wD=10,bD=-2,Zw=e=>e==="*";function SD(e,t){let n=e.split("/"),r=n.length;return n.some(Zw)&&(r+=bD),t&&(r+=yD),n.filter(s=>!Zw(s)).reduce((s,o)=>s+(gD.test(o)?mD:o===""?vD:wD),r)}function xD(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function CD(e,t,n){let{routesMeta:r}=e,s={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,g=o==="/"?t:t.slice(o.length)||"/",m=bg({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},g),S=d.route;if(!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:Ns([o,m.pathname]),pathnameBase:OD(Ns([o,m.pathnameBase])),route:S}),m.pathnameBase!=="/"&&(o=Ns([o,m.pathnameBase]))}return l}function bg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ED(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,g,m)=>{let{paramName:S,isOptional:b}=g;if(S==="*"){let x=u[m]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const R=u[m];return b&&!R?h[S]=void 0:h[S]=(R||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function ED(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),uE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function TD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return uE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $i(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function RD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ea(e):e;return{pathname:n?n.startsWith("/")?n:kD(n,t):t,search:AD(r),hash:PD(s)}}function kD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function jh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _D(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gy(e,t){let n=_D(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function my(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=ea(e):(s=Il({},e),qe(!s.pathname||!s.pathname.includes("?"),jh("?","pathname","search",s)),qe(!s.pathname||!s.pathname.includes("#"),jh("#","pathname","hash",s)),qe(!s.search||!s.search.includes("#"),jh("#","search","hash",s)));let o=e===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let S=l.split("/");for(;S[0]==="..";)S.shift(),m-=1;s.pathname=S.join("/")}u=m>=0?t[m]:"/"}let d=RD(s,u),h=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||g)&&(d.pathname+="/"),d}const Ns=e=>e.join("/").replace(/\/\/+/g,"/"),OD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,PD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ID(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hE=["post","put","patch","delete"];new Set(hE);const ND=["get",...hE];new Set(ND);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nl.apply(this,arguments)}const ef=w.createContext(null),pE=w.createContext(null),Xr=w.createContext(null),tf=w.createContext(null),Yr=w.createContext({outlet:null,matches:[],isDataRoute:!1}),gE=w.createContext(null);function MD(e,t){let{relative:n}=t===void 0?{}:t;ta()||qe(!1);let{basename:r,navigator:s}=w.useContext(Xr),{hash:o,pathname:l,search:u}=nf(e,{relative:n}),d=l;return r!=="/"&&(d=l==="/"?r:Ns([r,l])),s.createHref({pathname:d,search:u,hash:o})}function ta(){return w.useContext(tf)!=null}function zs(){return ta()||qe(!1),w.useContext(tf).location}function mE(e){w.useContext(Xr).static||w.useLayoutEffect(e)}function yy(){let{isDataRoute:e}=w.useContext(Yr);return e?QD():LD()}function LD(){ta()||qe(!1);let e=w.useContext(ef),{basename:t,future:n,navigator:r}=w.useContext(Xr),{matches:s}=w.useContext(Yr),{pathname:o}=zs(),l=JSON.stringify(gy(s,n.v7_relativeSplatPath)),u=w.useRef(!1);return mE(()=>{u.current=!0}),w.useCallback(function(h,g){if(g===void 0&&(g={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let m=my(h,JSON.parse(l),o,g.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ns([t,m.pathname])),(g.replace?r.replace:r.push)(m,g.state,g)},[t,r,l,o,e])}const DD=w.createContext(null);function jD(e){let t=w.useContext(Yr).outlet;return t&&w.createElement(DD.Provider,{value:e},t)}function nf(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(Xr),{matches:s}=w.useContext(Yr),{pathname:o}=zs(),l=JSON.stringify(gy(s,r.v7_relativeSplatPath));return w.useMemo(()=>my(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function UD(e,t){return $D(e,t)}function $D(e,t,n,r){ta()||qe(!1);let{navigator:s}=w.useContext(Xr),{matches:o}=w.useContext(Yr),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=zs(),g;if(t){var m;let _=typeof t=="string"?ea(t):t;d==="/"||(m=_.pathname)!=null&&m.startsWith(d)||qe(!1),g=_}else g=h;let S=g.pathname||"/",b=S;if(d!=="/"){let _=d.replace(/^\//,"").split("/");b="/"+S.replace(/^\//,"").split("/").slice(_.length).join("/")}let R=fD(e,{pathname:b}),x=WD(R&&R.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:Ns([d,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:Ns([d,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return t&&x?w.createElement(tf.Provider,{value:{location:Nl({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Es.Pop}},x):x}function FD(){let e=KD(),t=ID(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,null)}const BD=w.createElement(FD,null);class zD extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Yr.Provider,{value:this.props.routeContext},w.createElement(gE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HD(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(ef);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Yr.Provider,{value:t},r)}function WD(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(s=n)==null?void 0:s.errors;if(u!=null){let g=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);g>=0||qe(!1),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let m=l[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=g),m.route.id){let{loaderData:S,errors:b}=n,R=m.route.loader&&S[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||R){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((g,m,S)=>{let b,R=!1,x=null,_=null;n&&(b=u&&m.route.id?u[m.route.id]:void 0,x=m.route.errorElement||BD,d&&(h<0&&S===0?(JD("route-fallback"),R=!0,_=null):h===S&&(R=!0,_=m.route.hydrateFallbackElement||null)));let T=t.concat(l.slice(0,S+1)),E=()=>{let k;return b?k=x:R?k=_:m.route.Component?k=w.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=g,w.createElement(HD,{match:m,routeContext:{outlet:g,matches:T,isDataRoute:n!=null},children:k})};return n&&(m.route.ErrorBoundary||m.route.errorElement||S===0)?w.createElement(zD,{location:n.location,revalidation:n.revalidation,component:x,error:b,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}var yE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yE||{}),vE=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vE||{});function VD(e){let t=w.useContext(ef);return t||qe(!1),t}function GD(e){let t=w.useContext(pE);return t||qe(!1),t}function qD(e){let t=w.useContext(Yr);return t||qe(!1),t}function wE(e){let t=qD(),n=t.matches[t.matches.length-1];return n.route.id||qe(!1),n.route.id}function KD(){var e;let t=w.useContext(gE),n=GD(),r=wE();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function QD(){let{router:e}=VD(yE.UseNavigateStable),t=wE(vE.UseNavigateStable),n=w.useRef(!1);return mE(()=>{n.current=!0}),w.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Nl({fromRouteId:t},o)))},[e,t])}const eb={};function JD(e,t,n){eb[e]||(eb[e]=!0)}function XD(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function YD(e){let{to:t,replace:n,state:r,relative:s}=e;ta()||qe(!1);let{future:o,static:l}=w.useContext(Xr),{matches:u}=w.useContext(Yr),{pathname:d}=zs(),h=yy(),g=my(t,gy(u,o.v7_relativeSplatPath),d,s==="path"),m=JSON.stringify(g);return w.useEffect(()=>h(JSON.parse(m),{replace:n,state:r,relative:s}),[h,m,s,n,r]),null}function ZD(e){return jD(e.context)}function It(e){qe(!1)}function ej(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Es.Pop,navigator:o,static:l=!1,future:u}=e;ta()&&qe(!1);let d=t.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:d,navigator:o,static:l,future:Nl({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);typeof r=="string"&&(r=ea(r));let{pathname:g="/",search:m="",hash:S="",state:b=null,key:R="default"}=r,x=w.useMemo(()=>{let _=$i(g,d);return _==null?null:{location:{pathname:_,search:m,hash:S,state:b,key:R},navigationType:s}},[d,g,m,S,b,R,s]);return x==null?null:w.createElement(Xr.Provider,{value:h},w.createElement(tf.Provider,{children:n,value:x}))}function tj(e){let{children:t,location:n}=e;return UD(Sg(t),n)}new Promise(()=>{});function Sg(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let o=[...t,s];if(r.type===w.Fragment){n.push.apply(n,Sg(r.props.children,o));return}r.type!==It&&qe(!1),!r.props.index||!r.props.children||qe(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Sg(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pd.apply(this,arguments)}function bE(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function nj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rj(e,t){return e.button===0&&(!t||t==="_self")&&!nj(e)}function xg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function sj(e,t){let n=xg(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}const oj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ij=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],aj="6";try{window.__reactRouterVersion=aj}catch{}const lj=w.createContext({isTransitioning:!1}),cj="startTransition",tb=Td[cj];function uj(e){let{basename:t,children:n,future:r,window:s}=e,o=w.useRef();o.current==null&&(o.current=cD({window:s,v5Compat:!0}));let l=o.current,[u,d]=w.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},g=w.useCallback(m=>{h&&tb?tb(()=>d(m)):d(m)},[d,h]);return w.useLayoutEffect(()=>l.listen(g),[l,g]),w.useEffect(()=>XD(r),[r]),w.createElement(ej,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const dj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hj=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:l,state:u,target:d,to:h,preventScrollReset:g,viewTransition:m}=t,S=bE(t,oj),{basename:b}=w.useContext(Xr),R,x=!1;if(typeof h=="string"&&fj.test(h)&&(R=h,dj))try{let k=new URL(window.location.href),C=h.startsWith("//")?new URL(k.protocol+h):new URL(h),I=$i(C.pathname,b);C.origin===k.origin&&I!=null?h=I+C.search+C.hash:x=!0}catch{}let _=MD(h,{relative:s}),T=mj(h,{replace:l,state:u,target:d,preventScrollReset:g,relative:s,viewTransition:m});function E(k){r&&r(k),k.defaultPrevented||T(k)}return w.createElement("a",pd({},S,{href:R||_,onClick:x||o?r:E,ref:n,target:d}))}),pj=w.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:o="",end:l=!1,style:u,to:d,viewTransition:h,children:g}=t,m=bE(t,ij),S=nf(d,{relative:m.relative}),b=zs(),R=w.useContext(pE),{navigator:x,basename:_}=w.useContext(Xr),T=R!=null&&yj(S)&&h===!0,E=x.encodeLocation?x.encodeLocation(S).pathname:S.pathname,k=b.pathname,C=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;s||(k=k.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&_&&(C=$i(C,_)||C);const I=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let M=k===E||!l&&k.startsWith(E)&&k.charAt(I)==="/",L=C!=null&&(C===E||!l&&C.startsWith(E)&&C.charAt(E.length)==="/"),W={isActive:M,isPending:L,isTransitioning:T},K=M?r:void 0,H;typeof o=="function"?H=o(W):H=[o,M?"active":null,L?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let y=typeof u=="function"?u(W):u;return w.createElement(hj,pd({},m,{"aria-current":K,className:H,ref:n,style:y,to:d,viewTransition:h}),typeof g=="function"?g(W):g)});var Cg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Cg||(Cg={}));var nb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nb||(nb={}));function gj(e){let t=w.useContext(ef);return t||qe(!1),t}function mj(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:l,viewTransition:u}=t===void 0?{}:t,d=yy(),h=zs(),g=nf(e,{relative:l});return w.useCallback(m=>{if(rj(m,n)){m.preventDefault();let S=r!==void 0?r:hd(h)===hd(g);d(e,{replace:S,state:s,preventScrollReset:o,relative:l,viewTransition:u})}},[h,d,g,r,s,n,e,o,l,u])}function X6(e){let t=w.useRef(xg(e)),n=w.useRef(!1),r=zs(),s=w.useMemo(()=>sj(r.search,n.current?null:t.current),[r.search]),o=yy(),l=w.useCallback((u,d)=>{const h=xg(typeof u=="function"?u(s):u);n.current=!0,o("?"+h,d)},[o,s]);return[s,l]}function yj(e,t){t===void 0&&(t={});let n=w.useContext(lj);n==null&&qe(!1);let{basename:r}=gj(Cg.useViewTransitionState),s=nf(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=$i(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=$i(n.nextLocation.pathname,r)||n.nextLocation.pathname;return bg(s.pathname,l)!=null||bg(s.pathname,o)!=null}function SE(e,t){return function(){return e.apply(t,arguments)}}const{toString:vj}=Object.prototype,{getPrototypeOf:vy}=Object,{iterator:rf,toStringTag:xE}=Symbol,sf=(e=>t=>{const n=vj.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),tr=e=>(e=e.toLowerCase(),t=>sf(t)===e),of=e=>t=>typeof t===e,{isArray:na}=Array,Fi=of("undefined");function Yl(e){return e!==null&&!Fi(e)&&e.constructor!==null&&!Fi(e.constructor)&&en(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const CE=tr("ArrayBuffer");function wj(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&CE(e.buffer),t}const bj=of("string"),en=of("function"),EE=of("number"),Zl=e=>e!==null&&typeof e=="object",Sj=e=>e===!0||e===!1,ku=e=>{if(sf(e)!=="object")return!1;const t=vy(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(xE in e)&&!(rf in e)},xj=e=>{if(!Zl(e)||Yl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Cj=tr("Date"),Ej=tr("File"),Tj=tr("Blob"),Rj=tr("FileList"),kj=e=>Zl(e)&&en(e.pipe),_j=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||en(e.append)&&((t=sf(e))==="formdata"||t==="object"&&en(e.toString)&&e.toString()==="[object FormData]"))},Oj=tr("URLSearchParams"),[Aj,Pj,Ij,Nj]=["ReadableStream","Request","Response","Headers"].map(tr),Mj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ec(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),na(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Yl(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),l=o.length;let u;for(r=0;r<l;r++)u=o[r],t.call(null,e[u],u,e)}}function TE(e,t){if(Yl(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const ro=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,RE=e=>!Fi(e)&&e!==ro;function Eg(){const{caseless:e,skipUndefined:t}=RE(this)&&this||{},n={},r=(s,o)=>{const l=e&&TE(n,o)||o;ku(n[l])&&ku(s)?n[l]=Eg(n[l],s):ku(s)?n[l]=Eg({},s):na(s)?n[l]=s.slice():(!t||!Fi(s))&&(n[l]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&ec(arguments[s],r);return n}const Lj=(e,t,n,{allOwnKeys:r}={})=>(ec(t,(s,o)=>{n&&en(s)?e[o]=SE(s,n):e[o]=s},{allOwnKeys:r}),e),Dj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),jj=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Uj=(e,t,n,r)=>{let s,o,l;const u={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)l=s[o],(!r||r(l,e,t))&&!u[l]&&(t[l]=e[l],u[l]=!0);e=n!==!1&&vy(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},$j=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Fj=e=>{if(!e)return null;if(na(e))return e;let t=e.length;if(!EE(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Bj=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&vy(Uint8Array)),zj=(e,t)=>{const r=(e&&e[rf]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},Hj=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Wj=tr("HTMLFormElement"),Vj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),rb=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Gj=tr("RegExp"),kE=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ec(n,(s,o)=>{let l;(l=t(s,o,e))!==!1&&(r[o]=l||s)}),Object.defineProperties(e,r)},qj=e=>{kE(e,(t,n)=>{if(en(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(en(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Kj=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return na(e)?r(e):r(String(e).split(t)),n},Qj=()=>{},Jj=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Xj(e){return!!(e&&en(e.append)&&e[xE]==="FormData"&&e[rf])}const Yj=e=>{const t=new Array(10),n=(r,s)=>{if(Zl(r)){if(t.indexOf(r)>=0)return;if(Yl(r))return r;if(!("toJSON"in r)){t[s]=r;const o=na(r)?[]:{};return ec(r,(l,u)=>{const d=n(l,s+1);!Fi(d)&&(o[u]=d)}),t[s]=void 0,o}}return r};return n(e,0)},Zj=tr("AsyncFunction"),eU=e=>e&&(Zl(e)||en(e))&&en(e.then)&&en(e.catch),_E=((e,t)=>e?setImmediate:t?((n,r)=>(ro.addEventListener("message",({source:s,data:o})=>{s===ro&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ro.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",en(ro.postMessage)),tU=typeof queueMicrotask<"u"?queueMicrotask.bind(ro):typeof process<"u"&&process.nextTick||_E,nU=e=>e!=null&&en(e[rf]),F={isArray:na,isArrayBuffer:CE,isBuffer:Yl,isFormData:_j,isArrayBufferView:wj,isString:bj,isNumber:EE,isBoolean:Sj,isObject:Zl,isPlainObject:ku,isEmptyObject:xj,isReadableStream:Aj,isRequest:Pj,isResponse:Ij,isHeaders:Nj,isUndefined:Fi,isDate:Cj,isFile:Ej,isBlob:Tj,isRegExp:Gj,isFunction:en,isStream:kj,isURLSearchParams:Oj,isTypedArray:Bj,isFileList:Rj,forEach:ec,merge:Eg,extend:Lj,trim:Mj,stripBOM:Dj,inherits:jj,toFlatObject:Uj,kindOf:sf,kindOfTest:tr,endsWith:$j,toArray:Fj,forEachEntry:zj,matchAll:Hj,isHTMLForm:Wj,hasOwnProperty:rb,hasOwnProp:rb,reduceDescriptors:kE,freezeMethods:qj,toObjectSet:Kj,toCamelCase:Vj,noop:Qj,toFiniteNumber:Jj,findKey:TE,global:ro,isContextDefined:RE,isSpecCompliantForm:Xj,toJSONObject:Yj,isAsyncFn:Zj,isThenable:eU,setImmediate:_E,asap:tU,isIterable:nU};function me(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}F.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const OE=me.prototype,AE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{AE[e]={value:e}});Object.defineProperties(me,AE);Object.defineProperty(OE,"isAxiosError",{value:!0});me.from=(e,t,n,r,s,o)=>{const l=Object.create(OE);F.toFlatObject(e,l,function(g){return g!==Error.prototype},h=>h!=="isAxiosError");const u=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return me.call(l,u,d,n,r,s),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",o&&Object.assign(l,o),l};const rU=null;function Tg(e){return F.isPlainObject(e)||F.isArray(e)}function PE(e){return F.endsWith(e,"[]")?e.slice(0,-2):e}function sb(e,t,n){return e?e.concat(t).map(function(s,o){return s=PE(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function sU(e){return F.isArray(e)&&!e.some(Tg)}const oU=F.toFlatObject(F,{},null,function(t){return/^is[A-Z]/.test(t)});function af(e,t,n){if(!F.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,_){return!F.isUndefined(_[x])});const r=n.metaTokens,s=n.visitor||g,o=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(t);if(!F.isFunction(s))throw new TypeError("visitor must be a function");function h(R){if(R===null)return"";if(F.isDate(R))return R.toISOString();if(F.isBoolean(R))return R.toString();if(!d&&F.isBlob(R))throw new me("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(R)||F.isTypedArray(R)?d&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function g(R,x,_){let T=R;if(R&&!_&&typeof R=="object"){if(F.endsWith(x,"{}"))x=r?x:x.slice(0,-2),R=JSON.stringify(R);else if(F.isArray(R)&&sU(R)||(F.isFileList(R)||F.endsWith(x,"[]"))&&(T=F.toArray(R)))return x=PE(x),T.forEach(function(k,C){!(F.isUndefined(k)||k===null)&&t.append(l===!0?sb([x],C,o):l===null?x:x+"[]",h(k))}),!1}return Tg(R)?!0:(t.append(sb(_,x,o),h(R)),!1)}const m=[],S=Object.assign(oU,{defaultVisitor:g,convertValue:h,isVisitable:Tg});function b(R,x){if(!F.isUndefined(R)){if(m.indexOf(R)!==-1)throw Error("Circular reference detected in "+x.join("."));m.push(R),F.forEach(R,function(T,E){(!(F.isUndefined(T)||T===null)&&s.call(t,T,F.isString(E)?E.trim():E,x,S))===!0&&b(T,x?x.concat(E):[E])}),m.pop()}}if(!F.isObject(e))throw new TypeError("data must be an object");return b(e),t}function ob(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function wy(e,t){this._pairs=[],e&&af(e,this,t)}const IE=wy.prototype;IE.append=function(t,n){this._pairs.push([t,n])};IE.toString=function(t){const n=t?function(r){return t.call(this,r,ob)}:ob;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function iU(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function NE(e,t,n){if(!t)return e;const r=n&&n.encode||iU;F.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=F.isURLSearchParams(t)?t.toString():new wy(t,n).toString(r),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class ib{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){F.forEach(this.handlers,function(r){r!==null&&t(r)})}}const ME={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aU=typeof URLSearchParams<"u"?URLSearchParams:wy,lU=typeof FormData<"u"?FormData:null,cU=typeof Blob<"u"?Blob:null,uU={isBrowser:!0,classes:{URLSearchParams:aU,FormData:lU,Blob:cU},protocols:["http","https","file","blob","url","data"]},by=typeof window<"u"&&typeof document<"u",Rg=typeof navigator=="object"&&navigator||void 0,dU=by&&(!Rg||["ReactNative","NativeScript","NS"].indexOf(Rg.product)<0),fU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hU=by&&window.location.href||"http://localhost",pU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:by,hasStandardBrowserEnv:dU,hasStandardBrowserWebWorkerEnv:fU,navigator:Rg,origin:hU},Symbol.toStringTag,{value:"Module"})),Et={...pU,...uU};function gU(e,t){return af(e,new Et.classes.URLSearchParams,{visitor:function(n,r,s,o){return Et.isNode&&F.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function mU(e){return F.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function yU(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function LE(e){function t(n,r,s,o){let l=n[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=n.length;return l=!l&&F.isArray(s)?s.length:l,d?(F.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!u):((!s[l]||!F.isObject(s[l]))&&(s[l]=[]),t(n,r,s[l],o)&&F.isArray(s[l])&&(s[l]=yU(s[l])),!u)}if(F.isFormData(e)&&F.isFunction(e.entries)){const n={};return F.forEachEntry(e,(r,s)=>{t(mU(r),s,n,0)}),n}return null}function vU(e,t,n){if(F.isString(e))try{return(t||JSON.parse)(e),F.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const tc={transitional:ME,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=F.isObject(t);if(o&&F.isHTMLForm(t)&&(t=new FormData(t)),F.isFormData(t))return s?JSON.stringify(LE(t)):t;if(F.isArrayBuffer(t)||F.isBuffer(t)||F.isStream(t)||F.isFile(t)||F.isBlob(t)||F.isReadableStream(t))return t;if(F.isArrayBufferView(t))return t.buffer;if(F.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return gU(t,this.formSerializer).toString();if((u=F.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return af(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),vU(t)):t}],transformResponse:[function(t){const n=this.transitional||tc.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(F.isResponse(t)||F.isReadableStream(t))return t;if(t&&F.isString(t)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?me.from(u,me.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Et.classes.FormData,Blob:Et.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],e=>{tc.headers[e]={}});const wU=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bU=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||t[n]&&wU[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ab=Symbol("internals");function ja(e){return e&&String(e).trim().toLowerCase()}function _u(e){return e===!1||e==null?e:F.isArray(e)?e.map(_u):String(e)}function SU(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const xU=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Uh(e,t,n,r,s){if(F.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!F.isString(t)){if(F.isString(r))return t.indexOf(r)!==-1;if(F.isRegExp(r))return r.test(t)}}function CU(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function EU(e,t){const n=F.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,l){return this[r].call(this,t,s,o,l)},configurable:!0})})}let tn=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(u,d,h){const g=ja(d);if(!g)throw new Error("header name must be a non-empty string");const m=F.findKey(s,g);(!m||s[m]===void 0||h===!0||h===void 0&&s[m]!==!1)&&(s[m||d]=_u(u))}const l=(u,d)=>F.forEach(u,(h,g)=>o(h,g,d));if(F.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(F.isString(t)&&(t=t.trim())&&!xU(t))l(bU(t),n);else if(F.isObject(t)&&F.isIterable(t)){let u={},d,h;for(const g of t){if(!F.isArray(g))throw TypeError("Object iterator must return a key-value pair");u[h=g[0]]=(d=u[h])?F.isArray(d)?[...d,g[1]]:[d,g[1]]:g[1]}l(u,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=ja(t),t){const r=F.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return SU(s);if(F.isFunction(n))return n.call(this,s,r);if(F.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ja(t),t){const r=F.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Uh(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(l){if(l=ja(l),l){const u=F.findKey(r,l);u&&(!n||Uh(r,r[u],u,n))&&(delete r[u],s=!0)}}return F.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||Uh(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return F.forEach(this,(s,o)=>{const l=F.findKey(r,o);if(l){n[l]=_u(s),delete n[o];return}const u=t?CU(o):String(o).trim();u!==o&&delete n[o],n[u]=_u(s),r[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return F.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&F.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[ab]=this[ab]={accessors:{}}).accessors,s=this.prototype;function o(l){const u=ja(l);r[u]||(EU(s,l),r[u]=!0)}return F.isArray(t)?t.forEach(o):o(t),this}};tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(tn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});F.freezeMethods(tn);function $h(e,t){const n=this||tc,r=t||n,s=tn.from(r.headers);let o=r.data;return F.forEach(e,function(u){o=u.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function DE(e){return!!(e&&e.__CANCEL__)}function ra(e,t,n){me.call(this,e??"canceled",me.ERR_CANCELED,t,n),this.name="CanceledError"}F.inherits(ra,me,{__CANCEL__:!0});function jE(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new me("Request failed with status code "+n.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function TU(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function RU(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,l;return t=t!==void 0?t:1e3,function(d){const h=Date.now(),g=r[o];l||(l=h),n[s]=d,r[s]=h;let m=o,S=0;for(;m!==s;)S+=n[m++],m=m%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),h-l<t)return;const b=g&&h-g;return b?Math.round(S*1e3/b):void 0}}function kU(e,t){let n=0,r=1e3/t,s,o;const l=(h,g=Date.now())=>{n=g,s=null,o&&(clearTimeout(o),o=null),e(...h)};return[(...h)=>{const g=Date.now(),m=g-n;m>=r?l(h,g):(s=h,o||(o=setTimeout(()=>{o=null,l(s)},r-m)))},()=>s&&l(s)]}const gd=(e,t,n=3)=>{let r=0;const s=RU(50,250);return kU(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-r,h=s(d),g=l<=u;r=l;const m={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&g?(u-l)/h:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(m)},n)},lb=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},cb=e=>(...t)=>F.asap(()=>e(...t)),_U=Et.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Et.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Et.origin),Et.navigator&&/(msie|trident)/i.test(Et.navigator.userAgent)):()=>!0,OU=Et.hasStandardBrowserEnv?{write(e,t,n,r,s,o,l){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];F.isNumber(n)&&u.push(`expires=${new Date(n).toUTCString()}`),F.isString(r)&&u.push(`path=${r}`),F.isString(s)&&u.push(`domain=${s}`),o===!0&&u.push("secure"),F.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function AU(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function PU(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function UE(e,t,n){let r=!AU(t);return e&&(r||n==!1)?PU(e,t):t}const ub=e=>e instanceof tn?{...e}:e;function Co(e,t){t=t||{};const n={};function r(h,g,m,S){return F.isPlainObject(h)&&F.isPlainObject(g)?F.merge.call({caseless:S},h,g):F.isPlainObject(g)?F.merge({},g):F.isArray(g)?g.slice():g}function s(h,g,m,S){if(F.isUndefined(g)){if(!F.isUndefined(h))return r(void 0,h,m,S)}else return r(h,g,m,S)}function o(h,g){if(!F.isUndefined(g))return r(void 0,g)}function l(h,g){if(F.isUndefined(g)){if(!F.isUndefined(h))return r(void 0,h)}else return r(void 0,g)}function u(h,g,m){if(m in t)return r(h,g);if(m in e)return r(void 0,h)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,g,m)=>s(ub(h),ub(g),m,!0)};return F.forEach(Object.keys({...e,...t}),function(g){const m=d[g]||s,S=m(e[g],t[g],g);F.isUndefined(S)&&m!==u||(n[g]=S)}),n}const $E=e=>{const t=Co({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:u}=t;if(t.headers=l=tn.from(l),t.url=NE(UE(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),F.isFormData(n)){if(Et.hasStandardBrowserEnv||Et.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(F.isFunction(n.getHeaders)){const d=n.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([g,m])=>{h.includes(g.toLowerCase())&&l.set(g,m)})}}if(Et.hasStandardBrowserEnv&&(r&&F.isFunction(r)&&(r=r(t)),r||r!==!1&&_U(t.url))){const d=s&&o&&OU.read(o);d&&l.set(s,d)}return t},IU=typeof XMLHttpRequest<"u",NU=IU&&function(e){return new Promise(function(n,r){const s=$E(e);let o=s.data;const l=tn.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=s,g,m,S,b,R;function x(){b&&b(),R&&R(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let _=new XMLHttpRequest;_.open(s.method.toUpperCase(),s.url,!0),_.timeout=s.timeout;function T(){if(!_)return;const k=tn.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),I={data:!u||u==="text"||u==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:k,config:e,request:_};jE(function(L){n(L),x()},function(L){r(L),x()},I),_=null}"onloadend"in _?_.onloadend=T:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(T)},_.onabort=function(){_&&(r(new me("Request aborted",me.ECONNABORTED,e,_)),_=null)},_.onerror=function(C){const I=C&&C.message?C.message:"Network Error",M=new me(I,me.ERR_NETWORK,e,_);M.event=C||null,r(M),_=null},_.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const I=s.transitional||ME;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),r(new me(C,I.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,e,_)),_=null},o===void 0&&l.setContentType(null),"setRequestHeader"in _&&F.forEach(l.toJSON(),function(C,I){_.setRequestHeader(I,C)}),F.isUndefined(s.withCredentials)||(_.withCredentials=!!s.withCredentials),u&&u!=="json"&&(_.responseType=s.responseType),h&&([S,R]=gd(h,!0),_.addEventListener("progress",S)),d&&_.upload&&([m,b]=gd(d),_.upload.addEventListener("progress",m),_.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(g=k=>{_&&(r(!k||k.type?new ra(null,e,_):k),_.abort(),_=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const E=TU(s.url);if(E&&Et.protocols.indexOf(E)===-1){r(new me("Unsupported protocol "+E+":",me.ERR_BAD_REQUEST,e));return}_.send(o||null)})},MU=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(h){if(!s){s=!0,u();const g=h instanceof Error?h:this.reason;r.abort(g instanceof me?g:new ra(g instanceof Error?g.message:g))}};let l=t&&setTimeout(()=>{l=null,o(new me(`timeout ${t} of ms exceeded`,me.ETIMEDOUT))},t);const u=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),e=null)};e.forEach(h=>h.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>F.asap(u),d}},LU=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},DU=async function*(e,t){for await(const n of jU(e))yield*LU(n,t)},jU=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},db=(e,t,n,r)=>{const s=DU(e,t);let o=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:g}=await s.next();if(h){u(),d.close();return}let m=g.byteLength;if(n){let S=o+=m;n(S)}d.enqueue(new Uint8Array(g))}catch(h){throw u(h),h}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},fb=64*1024,{isFunction:Xc}=F,UU=(({Request:e,Response:t})=>({Request:e,Response:t}))(F.global),{ReadableStream:hb,TextEncoder:pb}=F.global,gb=(e,...t)=>{try{return!!e(...t)}catch{return!1}},$U=e=>{e=F.merge.call({skipUndefined:!0},UU,e);const{fetch:t,Request:n,Response:r}=e,s=t?Xc(t):typeof fetch=="function",o=Xc(n),l=Xc(r);if(!s)return!1;const u=s&&Xc(hb),d=s&&(typeof pb=="function"?(R=>x=>R.encode(x))(new pb):async R=>new Uint8Array(await new n(R).arrayBuffer())),h=o&&u&&gb(()=>{let R=!1;const x=new n(Et.origin,{body:new hb,method:"POST",get duplex(){return R=!0,"half"}}).headers.has("Content-Type");return R&&!x}),g=l&&u&&gb(()=>F.isReadableStream(new r("").body)),m={stream:g&&(R=>R.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(R=>{!m[R]&&(m[R]=(x,_)=>{let T=x&&x[R];if(T)return T.call(x);throw new me(`Response type '${R}' is not supported`,me.ERR_NOT_SUPPORT,_)})});const S=async R=>{if(R==null)return 0;if(F.isBlob(R))return R.size;if(F.isSpecCompliantForm(R))return(await new n(Et.origin,{method:"POST",body:R}).arrayBuffer()).byteLength;if(F.isArrayBufferView(R)||F.isArrayBuffer(R))return R.byteLength;if(F.isURLSearchParams(R)&&(R=R+""),F.isString(R))return(await d(R)).byteLength},b=async(R,x)=>{const _=F.toFiniteNumber(R.getContentLength());return _??S(x)};return async R=>{let{url:x,method:_,data:T,signal:E,cancelToken:k,timeout:C,onDownloadProgress:I,onUploadProgress:M,responseType:L,headers:W,withCredentials:K="same-origin",fetchOptions:H}=$E(R),y=t||fetch;L=L?(L+"").toLowerCase():"text";let V=MU([E,k&&k.toAbortSignal()],C),Z=null;const N=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let oe;try{if(M&&h&&_!=="get"&&_!=="head"&&(oe=await b(W,T))!==0){let ae=new n(x,{method:"POST",body:T,duplex:"half"}),ne;if(F.isFormData(T)&&(ne=ae.headers.get("content-type"))&&W.setContentType(ne),ae.body){const[fe,de]=lb(oe,gd(cb(M)));T=db(ae.body,fb,fe,de)}}F.isString(K)||(K=K?"include":"omit");const z=o&&"credentials"in n.prototype,$={...H,signal:V,method:_.toUpperCase(),headers:W.normalize().toJSON(),body:T,duplex:"half",credentials:z?K:void 0};Z=o&&new n(x,$);let D=await(o?y(Z,H):y(x,$));const B=g&&(L==="stream"||L==="response");if(g&&(I||B&&N)){const ae={};["status","statusText","headers"].forEach(Oe=>{ae[Oe]=D[Oe]});const ne=F.toFiniteNumber(D.headers.get("content-length")),[fe,de]=I&&lb(ne,gd(cb(I),!0))||[];D=new r(db(D.body,fb,fe,()=>{de&&de(),N&&N()}),ae)}L=L||"text";let ee=await m[F.findKey(m,L)||"text"](D,R);return!B&&N&&N(),await new Promise((ae,ne)=>{jE(ae,ne,{data:ee,headers:tn.from(D.headers),status:D.status,statusText:D.statusText,config:R,request:Z})})}catch(z){throw N&&N(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new me("Network Error",me.ERR_NETWORK,R,Z),{cause:z.cause||z}):me.from(z,z&&z.code,R,Z)}}},FU=new Map,FE=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,o=[r,s,n];let l=o.length,u=l,d,h,g=FU;for(;u--;)d=o[u],h=g.get(d),h===void 0&&g.set(d,h=u?new Map:$U(t)),g=h;return h};FE();const Sy={http:rU,xhr:NU,fetch:{get:FE}};F.forEach(Sy,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const mb=e=>`- ${e}`,BU=e=>F.isFunction(e)||e===null||e===!1;function zU(e,t){e=F.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let l=0;l<n;l++){r=e[l];let u;if(s=r,!BU(r)&&(s=Sy[(u=String(r)).toLowerCase()],s===void 0))throw new me(`Unknown adapter '${u}'`);if(s&&(F.isFunction(s)||(s=s.get(t))))break;o[u||"#"+l]=s}if(!s){const l=Object.entries(o).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=n?l.length>1?`since :
`+l.map(mb).join(`
`):" "+mb(l[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s}const BE={getAdapter:zU,adapters:Sy};function Fh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ra(null,e)}function yb(e){return Fh(e),e.headers=tn.from(e.headers),e.data=$h.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),BE.getAdapter(e.adapter||tc.adapter,e)(e).then(function(r){return Fh(e),r.data=$h.call(e,e.transformResponse,r),r.headers=tn.from(r.headers),r},function(r){return DE(r)||(Fh(e),r&&r.response&&(r.response.data=$h.call(e,e.transformResponse,r.response),r.response.headers=tn.from(r.response.headers))),Promise.reject(r)})}const zE="1.13.2",lf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lf[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const vb={};lf.transitional=function(t,n,r){function s(o,l){return"[Axios v"+zE+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,u)=>{if(t===!1)throw new me(s(l," has been removed"+(n?" in "+n:"")),me.ERR_DEPRECATED);return n&&!vb[l]&&(vb[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,l,u):!0}};lf.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function HU(e,t,n){if(typeof e!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],l=t[o];if(l){const u=e[o],d=u===void 0||l(u,o,e);if(d!==!0)throw new me("option "+o+" must be "+d,me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new me("Unknown option "+o,me.ERR_BAD_OPTION)}}const Ou={assertOptions:HU,validators:lf},ur=Ou.validators;let po=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ib,response:new ib}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Co(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Ou.assertOptions(r,{silentJSONParsing:ur.transitional(ur.boolean),forcedJSONParsing:ur.transitional(ur.boolean),clarifyTimeoutError:ur.transitional(ur.boolean)},!1),s!=null&&(F.isFunction(s)?n.paramsSerializer={serialize:s}:Ou.assertOptions(s,{encode:ur.function,serialize:ur.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ou.assertOptions(n,{baseUrl:ur.spelling("baseURL"),withXsrfToken:ur.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&F.merge(o.common,o[n.method]);o&&F.forEach(["delete","get","head","post","put","patch","common"],R=>{delete o[R]}),n.headers=tn.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(d=d&&x.synchronous,u.unshift(x.fulfilled,x.rejected))});const h=[];this.interceptors.response.forEach(function(x){h.push(x.fulfilled,x.rejected)});let g,m=0,S;if(!d){const R=[yb.bind(this),void 0];for(R.unshift(...u),R.push(...h),S=R.length,g=Promise.resolve(n);m<S;)g=g.then(R[m++],R[m++]);return g}S=u.length;let b=n;for(;m<S;){const R=u[m++],x=u[m++];try{b=R(b)}catch(_){x.call(this,_);break}}try{g=yb.call(this,b)}catch(R){return Promise.reject(R)}for(m=0,S=h.length;m<S;)g=g.then(h[m++],h[m++]);return g}getUri(t){t=Co(this.defaults,t);const n=UE(t.baseURL,t.url,t.allowAbsoluteUrls);return NE(n,t.params,t.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(t){po.prototype[t]=function(n,r){return this.request(Co(r||{},{method:t,url:n,data:(r||{}).data}))}});F.forEach(["post","put","patch"],function(t){function n(r){return function(o,l,u){return this.request(Co(u||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}po.prototype[t]=n(),po.prototype[t+"Form"]=n(!0)});let WU=class HE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(u=>{r.subscribe(u),o=u}).then(s);return l.cancel=function(){r.unsubscribe(o)},l},t(function(o,l,u){r.reason||(r.reason=new ra(o,l,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new HE(function(s){t=s}),cancel:t}}};function VU(e){return function(n){return e.apply(null,n)}}function GU(e){return F.isObject(e)&&e.isAxiosError===!0}const kg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(kg).forEach(([e,t])=>{kg[t]=e});function WE(e){const t=new po(e),n=SE(po.prototype.request,t);return F.extend(n,po.prototype,t,{allOwnKeys:!0}),F.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return WE(Co(e,s))},n}const Be=WE(tc);Be.Axios=po;Be.CanceledError=ra;Be.CancelToken=WU;Be.isCancel=DE;Be.VERSION=zE;Be.toFormData=af;Be.AxiosError=me;Be.Cancel=Be.CanceledError;Be.all=function(t){return Promise.all(t)};Be.spread=VU;Be.isAxiosError=GU;Be.mergeConfig=Co;Be.AxiosHeaders=tn;Be.formToJSON=e=>LE(F.isHTMLForm(e)?new FormData(e):e);Be.getAdapter=BE.getAdapter;Be.HttpStatusCode=kg;Be.default=Be;const{Axios:ez,AxiosError:tz,CanceledError:nz,isCancel:rz,CancelToken:sz,VERSION:oz,all:iz,Cancel:az,isAxiosError:lz,spread:cz,toFormData:uz,AxiosHeaders:dz,HttpStatusCode:fz,formToJSON:hz,getAdapter:pz,mergeConfig:gz}=Be,VE="http://localhost:8081/api",Se=Be.create({baseURL:VE,headers:{"Content-Type":"application/json"}});Se.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Se.interceptors.response.use(e=>e,async e=>{var n,r,s,o,l;const t=e.config;if(((n=e.response)==null?void 0:n.status)===401&&!t._retry){t._retry=!0;try{const u=localStorage.getItem("refreshToken");if(!u)return console.warn("[axios] 401 with no refreshToken on",t==null?void 0:t.url,"response:",(r=e.response)==null?void 0:r.status,(s=e.response)==null?void 0:s.data),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userEmail"),window.location.href="/auth",Promise.reject(e);const d=await Be.post(`${VE}/auth/refresh`,{refreshToken:u}),{token:h,refreshToken:g}=d.data.data;return localStorage.setItem("accessToken",h),localStorage.setItem("refreshToken",g),t.headers.Authorization=`Bearer ${h}`,Se(t)}catch(u){return console.warn("[axios] token refresh failed for",t==null?void 0:t.url,"status:",(o=u.response)==null?void 0:o.status,"data:",(l=u.response)==null?void 0:l.data,"error:",u.message),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userEmail"),window.location.href="/auth",Promise.reject(u)}}return Promise.reject(e)});const xy="http://localhost:8081/api",qU=async e=>{var t;try{const n=await Be.post(`${xy}/auth/login`,e);console.log(" Login response received:",n.data);const r=n.data.data;return console.log(" JWT Response data:",r),console.log(" Agora RTM Token in response:",r.agoraRtmToken),r}catch(n){throw console.error(" Login API error:",((t=n.response)==null?void 0:t.data)||n.message),n}},KU=async e=>{await Be.post(`${xy}/auth/signup`,e)},Bh=async e=>(await Se.get("/users/me")).data.data,QU=async e=>(await Be.post(`${xy}/auth/refresh`,{refreshToken:e})).data.data,JU=async e=>{await Se.post("/auth/logout",{refreshToken:e})},GE=w.createContext(void 0),zh=e=>{if(!e)return null;const t=e.replace(/[^A-Za-z0-9]/g,"").toLowerCase();return t.length>0?t:null},XU=({children:e})=>{const[t,n]=w.useState(null),[r,s]=w.useState(localStorage.getItem("accessToken")),[o,l]=w.useState(localStorage.getItem("refreshToken")),[u,d]=w.useState(localStorage.getItem("agoraRtmToken")),[h,g]=w.useState(localStorage.getItem("agoraChatToken")),[m,S]=w.useState(localStorage.getItem("agoraUserAccount")),[b,R]=w.useState(localStorage.getItem("agoraRtcUid")),[x,_]=w.useState(localStorage.getItem("agoraChannelName")),[T,E]=w.useState(localStorage.getItem("agoraWildcard")==="true"),[k,C]=w.useState(!0);w.useEffect(()=>{(async()=>{if(console.log(" Auth initialization... Token:",!!r),console.log(" Current agoraRtmToken from localStorage:",u),console.log(" Current agoraChatToken from localStorage:",h),r)try{console.log(" Fetching user data with token...");const y=await Bh(r);console.log(" User data loaded:",y);const V=I(y);n(V),localStorage.setItem("userEmail",V.email);const Z=localStorage.getItem("agoraUserAccount")||zh(V.userId);Z&&(S(Z),localStorage.setItem("agoraUserAccount",Z)),localStorage.getItem("agoraChannelName")||(_("*"),localStorage.setItem("agoraChannelName","*")),console.log(" User mapped and stored:",V.email)}catch(y){if(console.error(" Failed to load user:",y),o)try{console.log(" Attempting token refresh...");const V=await QU(o);s(V.token),l(V.refreshToken),d(V.agoraRtmToken||null),g(V.agoraChatToken||null),console.log(" New agoraRtmToken from refresh:",V.agoraRtmToken),console.log(" New agoraChatToken from refresh:",V.agoraChatToken),localStorage.setItem("accessToken",V.token),localStorage.setItem("refreshToken",V.refreshToken),V.agoraRtmToken&&localStorage.setItem("agoraRtmToken",V.agoraRtmToken),V.agoraChatToken&&localStorage.setItem("agoraChatToken",V.agoraChatToken),V.agoraUserAccount?(S(V.agoraUserAccount),localStorage.setItem("agoraUserAccount",V.agoraUserAccount)):(S(null),localStorage.removeItem("agoraUserAccount")),V.agoraRtcUid?(R(V.agoraRtcUid),localStorage.setItem("agoraRtcUid",V.agoraRtcUid)):(R(null),localStorage.removeItem("agoraRtcUid")),V.agoraChannelName?(_(V.agoraChannelName),localStorage.setItem("agoraChannelName",V.agoraChannelName)):(_("*"),localStorage.setItem("agoraChannelName","*"));const Z=V.agoraWildcard??!1;E(Z),localStorage.setItem("agoraWildcard",String(Z));const N=await Bh(V.token);console.log(" User data loaded after refresh:",N);const oe=I(N);n(oe),localStorage.setItem("userEmail",oe.email);const z=V.agoraUserAccount||localStorage.getItem("agoraUserAccount")||zh(oe.userId);z?(S(z),localStorage.setItem("agoraUserAccount",z)):localStorage.removeItem("agoraUserAccount")}catch(V){console.error(" Token refresh failed:",V),W()}else W()}else console.log(" No token found, user not authenticated");console.log(" Auth initialization complete"),console.log(" Final agoraRtmToken state:",u),console.log(" Final agoraChatToken state:",h),C(!1)})()},[]);const I=H=>{const y=H.email||H.userEmail||"",V=H.id||parseInt(H.userId||"0");return{username:H.email||H.userEmail||"",id:V,userId:H.userId,name:`${H.firstName} ${H.lastName}`,email:y,firstName:H.firstName,lastName:H.lastName,avatar:H.avatarUrl,status:"online"}},M=async(H,y)=>{try{const Z=await qU({email:H,password:y});console.log(" Login successful, received tokens"),console.log(" JwtResponse full object:",Z),console.log(" agoraRtmToken field:",Z.agoraRtmToken),console.log(" agoraChatToken field:",Z.agoraChatToken),s(Z.token),l(Z.refreshToken),d(Z.agoraRtmToken||null),g(Z.agoraChatToken||null),localStorage.setItem("accessToken",Z.token),localStorage.setItem("refreshToken",Z.refreshToken),Z.agoraRtmToken?(localStorage.setItem("agoraRtmToken",Z.agoraRtmToken),console.log(" Agora RTM token stored:",Z.agoraRtmToken)):console.warn(" No Agora RTM token in response"),Z.agoraChatToken?(localStorage.setItem("agoraChatToken",Z.agoraChatToken),console.log(" Agora Chat token stored:",Z.agoraChatToken)):console.warn(" No Agora Chat token in response"),Z.agoraUserAccount?(S(Z.agoraUserAccount),localStorage.setItem("agoraUserAccount",Z.agoraUserAccount)):(S(null),localStorage.removeItem("agoraUserAccount")),Z.agoraRtcUid?(R(Z.agoraRtcUid),localStorage.setItem("agoraRtcUid",Z.agoraRtcUid)):(R(null),localStorage.removeItem("agoraRtcUid")),Z.agoraChannelName?(_(Z.agoraChannelName),localStorage.setItem("agoraChannelName",Z.agoraChannelName)):(_(null),localStorage.removeItem("agoraChannelName"));const N=Z.agoraWildcard??!1;E(N),localStorage.setItem("agoraWildcard",String(N)),console.log(" Fetching user data...");const oe=await Bh(Z.token);console.log(" User data received:",oe);const z=I(oe);if(n(z),localStorage.setItem("userEmail",z.email),!Z.agoraUserAccount){const $=zh(z.userId);$&&(S($),localStorage.setItem("agoraUserAccount",$))}if(!Z.agoraChannelName){const $="*";_($),localStorage.setItem("agoraChannelName",$)}console.log(" User set in context:",z.email)}catch(V){throw console.error(" Login failed:",V),V}},L=async(H,y,V,Z)=>{try{await KU({firstName:H,lastName:y,email:V,password:Z}),await M(V,Z)}catch(N){throw console.error("Signup failed:",N),N}},W=()=>{n(null),s(null),l(null),d(null),g(null),S(null),R(null),_(null),E(!1),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("agoraRtmToken"),localStorage.removeItem("agoraChatToken"),localStorage.removeItem("userEmail"),localStorage.removeItem("agoraUserAccount"),localStorage.removeItem("agoraRtcUid"),localStorage.removeItem("agoraChannelName"),localStorage.removeItem("agoraWildcard")},K=async()=>{try{o&&await JU(o)}catch(H){console.error("Logout failed:",H)}finally{W()}};return A.jsx(GE.Provider,{value:{user:t,token:r,refreshToken:o,agoraRtmToken:u,agoraChatToken:h,agoraUserAccount:m,agoraRtcUid:b,agoraChannelName:x,agoraWildcard:T,login:M,signup:L,logout:K,isAuthenticated:!!t&&!!r,isLoading:k},children:e})},cf=()=>{const e=w.useContext(GE);if(!e)throw new Error("useAuth must be used within AuthProvider");return e};var qE={exports:{}};/*@license Copyright 2015-2022 Ably Real-time Ltd (ably.com)

Ably JavaScript Library v2.14.0
https://github.com/ably/ably-js

Released under the Apache Licence v2.0*/(function(e,t){(function(n,r){e.exports=r()})(LA,()=>{var n={},r={exports:n},s=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,S=(i,a,c)=>a in i?s(i,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):i[a]=c,b=(i,a)=>{for(var c in a||(a={}))g.call(a,c)&&S(i,c,a[c]);if(h)for(var c of h(a))m.call(a,c)&&S(i,c,a[c]);return i},R=(i,a)=>o(i,u(a)),x=(i,a)=>{var c={};for(var f in i)g.call(i,f)&&a.indexOf(f)<0&&(c[f]=i[f]);if(i!=null&&h)for(var f of h(i))a.indexOf(f)<0&&m.call(i,f)&&(c[f]=i[f]);return c},_=(i,a)=>{for(var c in a)s(i,c,{get:a[c],enumerable:!0})},T=(i,a,c,f)=>{if(a&&typeof a=="object"||typeof a=="function")for(let p of d(a))!g.call(i,p)&&p!==c&&s(i,p,{get:()=>a[p],enumerable:!(f=l(a,p))||f.enumerable});return i},E=i=>T(s({},"__esModule",{value:!0}),i),k={};_(k,{ErrorInfo:()=>N,Realtime:()=>Kf,Rest:()=>zf,default:()=>AA,makeProtocolMessageFromDeserialized:()=>Mv,msgpack:()=>nh}),r.exports=E(k);var C=class{},I=typeof globalThis<"u"?globalThis:typeof window<"u"?window:self;function M(i,a){return`${i}`.padStart(a?3:2,"0")}function L(i){return C.Config.logTimestamps?function(a){const c=new Date;i(M(c.getHours())+":"+M(c.getMinutes())+":"+M(c.getSeconds())+"."+M(c.getMilliseconds(),1)+" "+a)}:function(a){i(a)}}var W=()=>{var i;let a,c;return typeof((i=I==null?void 0:I.console)==null?void 0:i.log)=="function"?(a=function(...f){console.log.apply(console,f)},c=console.warn?function(...f){console.warn.apply(console,f)}:a):a=c=function(){},[a,c].map(L)},K=class Wa{constructor(){this.deprecated=(a,c)=>{this.deprecationWarning(`${a} is deprecated and will be removed in a future version. ${c}`)},this.shouldLog=a=>a<=this.logLevel,this.setLog=(a,c)=>{a!==void 0&&(this.logLevel=a),c!==void 0&&(this.logHandler=this.logErrorHandler=c)},this.logLevel=Wa.defaultLogLevel,this.logHandler=Wa.defaultLogHandler,this.logErrorHandler=Wa.defaultLogErrorHandler}static initLogHandlers(){const[a,c]=W();this.defaultLogHandler=a,this.defaultLogErrorHandler=c,this.defaultLogger=new Wa}static logActionNoStrip(a,c,f,p){a.logAction(c,f,p)}logAction(a,c,f){this.shouldLog(a)&&(a===1?this.logErrorHandler:this.logHandler)("Ably: "+c+": "+f,a)}renamedClientOption(a,c){this.deprecationWarning(`The \`${a}\` client option has been renamed to \`${c}\`. Please update your code to use \`${c}\` instead. \`${a}\` will be removed in a future version.`)}renamedMethod(a,c,f){this.deprecationWarning(`\`${a}\`s \`${c}\` method has been renamed to \`${f}\`. Please update your code to use \`${f}\` instead. \`${c}\` will be removed in a future version.`)}deprecationWarning(a){this.shouldLog(1)&&this.logErrorHandler(`Ably: Deprecation warning - ${a}`,1)}};K.defaultLogLevel=1,K.LOG_NONE=0,K.LOG_ERROR=1,K.LOG_MAJOR=2,K.LOG_MINOR=3,K.LOG_MICRO=4,K.logAction=(i,a,c,f)=>{K.logActionNoStrip(i,a,c,f)};var H=K,y=H,V={};_(V,{Format:()=>Vs,allSame:()=>Po,allToLowerCase:()=>es,allToUpperCase:()=>mc,arrChooseN:()=>Ot,arrDeleteValue:()=>Bt,arrEquals:()=>fa,arrIntersect:()=>kt,arrIntersectOb:()=>it,arrPopRandomElement:()=>Gs,arrWithoutValue:()=>_t,cheapRandStr:()=>No,containsValue:()=>ze,copy:()=>D,createMissingPluginError:()=>qs,dataSizeBytes:()=>rr,decodeBody:()=>At,encodeBody:()=>nn,ensureArray:()=>B,forInOwnNonNullProperties:()=>Ws,getBackoffCoefficient:()=>da,getGlobalObject:()=>Lo,getJitterCoefficient:()=>Mo,getRetryTime:()=>sr,inherits:()=>Oe,inspectBody:()=>ua,inspectError:()=>Ee,intersect:()=>be,isEmpty:()=>ae,isErrorInfoOrPartialErrorInfo:()=>Io,isNil:()=>ne,isObject:()=>ee,keysArray:()=>Xe,matchDerivedChannel:()=>yc,mixin:()=>$,parseQueryString:()=>Mn,prototypicalClone:()=>de,randomString:()=>gc,shallowClone:()=>fe,shallowEquals:()=>Pr,throwMissingPluginError:()=>ut,toBase64:()=>Do,toQueryString:()=>Nn,valuesArray:()=>In,whenPromiseSettles:()=>Ye,withTimeoutAsync:()=>jo});function Z(i){let a="["+i.constructor.name;return i.message&&(a+=": "+i.message),i.statusCode&&(a+="; statusCode="+i.statusCode),i.code&&(a+="; code="+i.code),i.cause&&(a+="; cause="+Ee(i.cause)),i.href&&!(i.message&&i.message.indexOf("help.ably.io")>-1)&&(a+="; see "+i.href+" "),a+="]",a}var N=class _g extends Error{constructor(a,c,f,p){super(a),typeof Object.setPrototypeOf<"u"&&Object.setPrototypeOf(this,_g.prototype),this.code=c,this.statusCode=f,this.cause=p}toString(){return Z(this)}static fromValues(a){const{message:c,code:f,statusCode:p}=a;if(typeof c!="string"||typeof f!="number"||typeof p!="number")throw new Error("ErrorInfo.fromValues(): invalid values: "+C.Config.inspect(a));const v=Object.assign(new _g(c,f,p),a);return v.code&&!v.href&&(v.href="https://help.ably.io/error/"+v.code),v}},oe=class Og extends Error{constructor(a,c,f,p){super(a),typeof Object.setPrototypeOf<"u"&&Object.setPrototypeOf(this,Og.prototype),this.code=c,this.statusCode=f,this.cause=p}toString(){return Z(this)}static fromValues(a){const{message:c,code:f,statusCode:p}=a;if(typeof c!="string"||!ne(f)&&typeof f!="number"||!ne(p)&&typeof p!="number")throw new Error("PartialErrorInfo.fromValues(): invalid values: "+C.Config.inspect(a));const v=Object.assign(new Og(c,f,p),a);return v.code&&!v.href&&(v.href="https://help.ably.io/error/"+v.code),v}};function z(i){return Math.floor(Math.random()*i.length)}function $(i,...a){for(let c=0;c<a.length;c++){const f=a[c];if(!f)break;for(const p in f)Object.prototype.hasOwnProperty.call(f,p)&&(i[p]=f[p])}return i}function D(i){return $({},i)}function B(i){return ne(i)?[]:Array.isArray(i)?i:[i]}function ee(i){return Object.prototype.toString.call(i)=="[object Object]"}function ae(i){for(const a in i)return!1;return!0}function ne(i){return i==null}function fe(i){const a=new Object;for(const c in i)a[c]=i[c];return a}function de(i,a){class c{}c.prototype=i;const f=new c;return a&&$(f,a),f}var Oe=function(i,a){if(C.Config.inherits){C.Config.inherits(i,a);return}i.super_=a,i.prototype=de(a.prototype,{constructor:i})};function ze(i,a){for(const c in i)if(i[c]==a)return!0;return!1}function be(i,a){return Array.isArray(a)?kt(i,a):it(i,a)}function kt(i,a){const c=[];for(let f=0;f<i.length;f++){const p=i[f];a.indexOf(p)!=-1&&c.push(p)}return c}function it(i,a){const c=[];for(let f=0;f<i.length;f++){const p=i[f];p in a&&c.push(p)}return c}function Bt(i,a){const c=i.indexOf(a),f=c!=-1;return f&&i.splice(c,1),f}function _t(i,a){const c=i.slice();return Bt(c,a),c}function Xe(i,a){const c=[];for(const f in i)a&&!Object.prototype.hasOwnProperty.call(i,f)||c.push(f);return c}function In(i,a){const c=[];for(const f in i)a&&!Object.prototype.hasOwnProperty.call(i,f)||c.push(i[f]);return c}function Ws(i,a){for(const c in i)Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&a(c)}function Po(i,a){if(i.length===0)return!0;const c=i[0][a];return i.every(function(f){return f[a]===c})}var Vs=(i=>(i.msgpack="msgpack",i.json="json",i))(Vs||{});function Gs(i){return i.splice(z(i),1)[0]}function Nn(i){const a=[];if(i)for(const c in i)a.push(encodeURIComponent(c)+"="+encodeURIComponent(i[c]));return a.length?"?"+a.join("&"):""}function Mn(i){let a;const c=/([^?&=]+)=?([^&]*)/g,f={};for(;a=c.exec(i);)f[decodeURIComponent(a[1])]=decodeURIComponent(a[2]);return f}function Io(i){return typeof i=="object"&&i!==null&&(i instanceof N||i instanceof oe)}function Ee(i){var a,c;return i instanceof Error||((a=i==null?void 0:i.constructor)==null?void 0:a.name)==="ErrorInfo"||((c=i==null?void 0:i.constructor)==null?void 0:c.name)==="PartialErrorInfo"?i.toString():C.Config.inspect(i)}function ua(i){return C.BufferUtils.isBuffer(i)?i.toString():typeof i=="string"?i:C.Config.inspect(i)}function rr(i){if(C.BufferUtils.isBuffer(i))return C.BufferUtils.byteLength(i);if(typeof i=="string")return C.Config.stringByteSize(i);if(typeof i=="number")return 8;if(typeof i=="boolean")return 1;throw new Error(`Expected input of Utils.dataSizeBytes to be a string, a number, a boolean or a buffer, but was: ${typeof i}`)}function No(){return String(Math.random()).substr(2)}var gc=async i=>{const a=await C.Config.getRandomArrayBuffer(i);return C.BufferUtils.base64Encode(a)};function Ot(i,a){const c=Math.min(a,i.length),f=i.slice(),p=[];for(let v=0;v<c;v++)p.push(Gs(f));return p}function Ye(i,a){i.then(c=>{a==null||a(null,c)}).catch(c=>{a==null||a(c)})}function At(i,a,c){return c=="msgpack"?(a||ut("MsgPack"),a.decode(i)):JSON.parse(String(i))}function nn(i,a,c){return c=="msgpack"?(a||ut("MsgPack"),a.encode(i,!0)):JSON.stringify(i)}function es(i){return i.map(function(a){return a&&a.toLowerCase()})}function mc(i){return i.map(function(a){return a&&a.toUpperCase()})}function da(i){return Math.min((i+2)/3,2)}function Mo(){return 1-Math.random()*.2}function sr(i,a){return i*da(a)*Mo()}function Lo(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:self}function Pr(i,a){return Object.keys(i).every(c=>i[c]===a[c])&&Object.keys(a).every(c=>a[c]===i[c])}function yc(i){const a=/^(\[([^?]*)(?:(.*))\])?(.+)$/,c=i.match(a);if(!c||!c.length||c.length<5)throw new N("regex match failed",400,40010);if(c[2])throw new N(`cannot use a derived option with a ${c[2]} channel`,400,40010);return{qualifierParam:c[3]||"",channelName:c[4]}}function Do(i){const a=C.BufferUtils,c=a.utf8Encode(i);return a.base64Encode(c)}function fa(i,a){return i.length===a.length&&i.every(function(c,f){return c===a[f]})}function qs(i){return new N(`${i} plugin not provided`,40019,400)}function ut(i){throw qs(i)}async function jo(i,a=5e3,c="Timeout expired"){const f=new N(c,5e4,500);return Promise.race([i,new Promise((p,v)=>setTimeout(()=>v(f),a))])}var Ln="2.14.0",Rf="ably-js/"+Ln,le={ENDPOINT:"main",ENVIRONMENT:"",REST_HOST:"rest.ably.io",REALTIME_HOST:"realtime.ably.io",FALLBACK_HOSTS:["main.a.fallback.ably-realtime.com","main.b.fallback.ably-realtime.com","main.c.fallback.ably-realtime.com","main.d.fallback.ably-realtime.com","main.e.fallback.ably-realtime.com"],PORT:80,TLS_PORT:443,TIMEOUTS:{disconnectedRetryTimeout:15e3,suspendedRetryTimeout:3e4,httpRequestTimeout:1e4,httpMaxRetryDuration:15e3,channelRetryTimeout:15e3,fallbackRetryTimeout:6e5,connectionStateTtl:12e4,realtimeRequestTimeout:1e4,recvTimeout:9e4,webSocketConnectTimeout:1e4,webSocketSlowTimeout:4e3},httpMaxRetryCount:3,maxMessageSize:65536,version:Ln,protocolVersion:4,agent:Rf,getPort:Ae,getHttpScheme:Me,getPrimaryDomainFromEndpoint:Ht,getEndpointFallbackHosts:Dn,getFallbackHosts:Wt,getHosts:ir,checkHost:Ky,objectifyOptions:t_,normaliseOptions:r_,defaultGetHeaders:s_,defaultPostHeaders:o_};function Ae(i,a){return a||i.tls?i.tlsPort:i.port}function Me(i){return i.tls?"https://":"http://"}function zt(i){return i.includes(".")||i.includes("::")||i==="localhost"}function Ht(i){return zt(i)?i:i.startsWith("nonprod:")?`${i.replace("nonprod:","")}.realtime.ably-nonprod.net`:`${i}.realtime.ably.net`}function Dn(i){if(zt(i))return[];if(i.startsWith("nonprod:")){const a=i.replace("nonprod:","");return or(a,"ably-realtime-nonprod.com")}return or(i,"ably-realtime.com")}function or(i,a){return["a","b","c","d","e"].map(c=>`${i}.${c}.fallback.${a}`)}function Wt(i){const a=i.fallbackHosts,c=typeof i.httpMaxRetryCount<"u"?i.httpMaxRetryCount:le.httpMaxRetryCount;return a?Ot(a,c):[]}function ir(i){return[i.primaryDomain].concat(Wt(i))}function Ky(i){if(typeof i!="string")throw new N("host must be a string; was a "+typeof i,4e4,400);if(!i.length)throw new N("host must not be zero-length",4e4,400)}function e_(i){const a={};for(const c in le.TIMEOUTS)a[c]=i[c]||le.TIMEOUTS[c];return a}function kf(i){let a=le.agent;if(i.agents)for(var c in i.agents)a+=" "+c+"/"+i.agents[c];return a}function t_(i,a,c,f,p){if(i===void 0){const O=a?`${c} must be initialized with either a client options object, an Ably API key, or an Ably Token`:`${c} must be initialized with a client options object`;throw y.logAction(f,y.LOG_ERROR,`${c}()`,O),new Error(O)}let v;if(typeof i=="string")if(i.indexOf(":")==-1){if(!a){const O=`${c} cannot be initialized with just an Ably Token; you must provide a client options object with a \`plugins\` property. (Set this Ably Token as the objects \`token\` property.)`;throw y.logAction(f,y.LOG_ERROR,`${c}()`,O),new Error(O)}v={token:i}}else{if(!a){const O=`${c} cannot be initialized with just an Ably API key; you must provide a client options object with a \`plugins\` property. (Set this Ably API key as the objects \`key\` property.)`;throw y.logAction(f,y.LOG_ERROR,`${c}()`,O),new Error(O)}v={key:i}}else v=i;return p&&(v=R(b({},v),{plugins:b(b({},p),v.plugins)})),v}function n_(i){if(i.endpoint&&(i.environment||i.restHost||i.realtimeHost))throw new N("The `endpoint` option cannot be used in conjunction with the `environment`, `restHost`, or `realtimeHost` options.",40106,400);if(i.environment&&(i.restHost||i.realtimeHost))throw new N("The `environment` option cannot be used in conjunction with the `restHost`, or `realtimeHost` options.",40106,400)}function r_(i,a,c){const f=c??y.defaultLogger;i.environment&&f.deprecated("The `environment` client option","Use the `endpoint` client option instead."),i.restHost&&f.deprecated("The `restHost` client option","Use the `endpoint` client option instead."),i.realtimeHost&&f.deprecated("The `realtimeHost` client option","Use the `endpoint` client option instead."),n_(i),typeof i.recover=="function"&&i.closeOnUnload===!0&&(y.logAction(f,y.LOG_ERROR,"Defaults.normaliseOptions","closeOnUnload was true and a session recovery function was set - these are mutually exclusive, so unsetting the latter"),i.recover=void 0),"closeOnUnload"in i||(i.closeOnUnload=!i.recover),"queueMessages"in i||(i.queueMessages=!0);const p=i.endpoint||le.ENDPOINT;!i.fallbackHosts&&!i.restHost&&!i.realtimeHost&&!i.port&&!i.tlsPort&&(i.fallbackHosts=Dn(i.environment||p));const v=i.environment&&`${i.environment}.realtime.ably.net`,P=i.restHost||i.realtimeHost||v||Ht(p);(i.fallbackHosts||[]).concat(P).forEach(Ky),i.port=i.port||le.PORT,i.tlsPort=i.tlsPort||le.TLS_PORT,"tls"in i||(i.tls=!0);const U=e_(i);a?"useBinaryProtocol"in i?i.useBinaryProtocol=C.Config.supportsBinary&&i.useBinaryProtocol:i.useBinaryProtocol=C.Config.preferBinary:i.useBinaryProtocol=!1;const j={};i.clientId&&(j["X-Ably-ClientId"]=C.BufferUtils.base64Encode(C.BufferUtils.utf8Encode(i.clientId))),"idempotentRestPublishing"in i||(i.idempotentRestPublishing=!0);let J=null,Q=i.connectivityCheckUrl;if(i.connectivityCheckUrl){let[q,re]=i.connectivityCheckUrl.split("?");J=re?Mn(re):{},q.indexOf("://")===-1&&(q="https://"+q),Q=q}let te=i.wsConnectivityCheckUrl;return te&&te.indexOf("://")===-1&&(te="wss://"+te),R(b({},i),{primaryDomain:P,maxMessageSize:i.maxMessageSize||le.maxMessageSize,timeouts:U,connectivityCheckParams:J,connectivityCheckUrl:Q,wsConnectivityCheckUrl:te,headers:j})}function vc(i,a,c){const f=c||{};if(f.cipher){i||ut("Crypto");const p=i.getCipher(f.cipher,a);f.cipher=p.cipherParams,f.channelCipher=p.cipher}else"cipher"in f&&(f.cipher=void 0,f.channelCipher=null);return f}var Qy={json:"application/json",xml:"application/xml",html:"text/html",msgpack:"application/x-msgpack",text:"text/plain"},wc={format:"json",protocolVersion:le.protocolVersion};function s_(i,{format:a=wc.format,protocolVersion:c=wc.protocolVersion}={}){return{accept:Qy[a],"X-Ably-Version":c.toString(),"Ably-Agent":kf(i)}}function o_(i,{format:a=wc.format,protocolVersion:c=wc.protocolVersion}={}){let f;return{accept:f=Qy[a],"content-type":f,"X-Ably-Version":c.toString(),"Ably-Agent":kf(i)}}var he=le;function i_(i){return Object.assign(le,i)}var a_=class KE{constructor(a,c){this.logger=a,this.members=c||[]}call(a,c){for(const f of this.members)if(f)try{f(a,c)}catch(p){y.logAction(this.logger,y.LOG_ERROR,"Multicaster multiple callback handler","Unexpected exception: "+p+"; stack = "+p.stack)}}push(...a){this.members.push(...a)}createPromise(){return new Promise((a,c)=>{this.push((f,p)=>{f?c(f):a(p)})})}resolveAll(a){this.call(null,a)}rejectAll(a){this.call(a)}static create(a,c){const f=new KE(a,c);return Object.assign((p,v)=>f.call(p,v),{push:p=>f.push(p),createPromise:()=>f.createPromise(),resolveAll:p=>f.resolveAll(p),rejectAll:p=>f.rejectAll(p)})}},_f=a_,Jy=(i=>(i.Get="get",i.Delete="delete",i.Post="post",i.Put="put",i.Patch="patch",i))(Jy||{}),Ze=Jy,Xy=(i=>(i[i.Success=200]="Success",i[i.NoContent=204]="NoContent",i[i.BadRequest=400]="BadRequest",i[i.Unauthorized=401]="Unauthorized",i[i.Forbidden=403]="Forbidden",i[i.RequestTimeout=408]="RequestTimeout",i[i.InternalServerError=500]="InternalServerError",i))(Xy||{});function l_(i){return i>=200&&i<400}var bc=Xy,Of=Math.pow(2,17);function c_(){return("000000"+Math.floor(Math.random()*1e16)).slice(-16)}function u_(i){return!!i.connection}function Yy(i){return Io(i)?(i.code||(i.statusCode===403?i.code=40300:(i.code=40170,i.statusCode=401)),i):new N(Ee(i),i.code||40170,i.statusCode||401)}var d_=(i,a)=>{const c=C.BufferUtils,f=c.utf8Encode(i),p=c.utf8Encode(a),v=c.hmacSha256(f,p);return c.base64Encode(v)};function Zy(i){if(!i)return"";typeof i=="string"&&(i=JSON.parse(i));const a=Object.create(null),c=Xe(i,!0);if(!c)return"";c.sort();for(let f=0;f<c.length;f++)a[c[f]]=i[c[f]].sort();return JSON.stringify(a)}function ev(i,a){if(i.authCallback)y.logAction(a,y.LOG_MINOR,"Auth()","using token auth with authCallback");else if(i.authUrl)y.logAction(a,y.LOG_MINOR,"Auth()","using token auth with authUrl");else if(i.key)y.logAction(a,y.LOG_MINOR,"Auth()","using token auth with client-side signing");else if(i.tokenDetails)y.logAction(a,y.LOG_MINOR,"Auth()","using token auth with supplied token only");else{const c="authOptions must include valid authentication parameters";throw y.logAction(a,y.LOG_ERROR,"Auth()",c),new Error(c)}}function f_(i){return"useTokenAuth"in i&&!i.useTokenAuth}function tv(i){return i.useTokenAuth||!f_(i)&&(i.authCallback||i.authUrl||i.token||i.tokenDetails)}function h_(i){return!i.key&&!i.authCallback&&!i.authUrl}var p_=0;function g_(){return p_++}var m_=class{constructor(i,a){if(this.authOptions={},this.client=i,this.tokenParams=a.defaultTokenParams||{},this.currentTokenRequestId=null,this.waitingForTokenRequest=null,tv(a))h_(a)&&y.logAction(this.logger,y.LOG_ERROR,"Auth()","Warning: library initialized with a token literal without any way to renew the token when it expires (no authUrl, authCallback, or key). See https://help.ably.io/error/40171 for help"),this._saveTokenOptions(a.defaultTokenParams,a),ev(this.authOptions,this.logger);else{if(!a.key){const c="No authentication options provided; need one of: key, authUrl, or authCallback (or for testing only, token or tokenDetails)";throw y.logAction(this.logger,y.LOG_ERROR,"Auth()",c),new N(c,40160,401)}y.logAction(this.logger,y.LOG_MINOR,"Auth()","anonymous, using basic auth"),this._saveBasicOptions(a)}}get logger(){return this.client.logger}async authorize(i,a){if(a&&a.key&&this.authOptions.key!==a.key)throw new N("Unable to update auth options with incompatible key",40102,401);try{let c=await this._forceNewToken(i??null,a??null);return u_(this.client)?new Promise((f,p)=>{this.client.connection.connectionManager.onAuthUpdated(c,(v,O)=>v?p(v):f(O))}):c}catch(c){throw this.client.connection&&c.statusCode===bc.Forbidden&&this.client.connection.connectionManager.actOnErrorFromAuthorize(c),c}}async _forceNewToken(i,a){this.tokenDetails=null,this._saveTokenOptions(i,a),ev(this.authOptions,this.logger);try{return this._ensureValidAuthCredentials(!0)}finally{delete this.tokenParams.timestamp,delete this.authOptions.queryTime}}async requestToken(i,a){const c=a||this.authOptions,f=i||D(this.tokenParams);let p,v=this.client;if(c.authCallback)y.logAction(this.logger,y.LOG_MINOR,"Auth.requestToken()","using token auth with authCallback"),p=c.authCallback;else if(c.authUrl)y.logAction(this.logger,y.LOG_MINOR,"Auth.requestToken()","using token auth with authUrl"),p=(P,U)=>{const j=$({accept:"application/json, text/plain"},c.authHeaders),J=c.authMethod&&c.authMethod.toLowerCase()==="post";let Q;const te=c.authUrl.indexOf("?");te>-1&&(Q=Mn(c.authUrl.slice(te)),c.authUrl=c.authUrl.slice(0,te),J||(c.authParams=$(Q,c.authParams)));const q=$({},c.authParams||{},P),re=se=>{var ue,Re;let Ne=(ue=se.body)!=null?ue:null,Le=null;if(se.error)y.logAction(this.logger,y.LOG_MICRO,"Auth.requestToken().tokenRequestCallback","Received Error: "+Ee(se.error));else{const wt=(Re=se.headers["content-type"])!=null?Re:null;Array.isArray(wt)?Le=wt.join(", "):Le=wt,y.logAction(this.logger,y.LOG_MICRO,"Auth.requestToken().tokenRequestCallback","Received; content-type: "+Le+"; body: "+ua(Ne))}if(se.error){U(se.error,null);return}if(se.unpacked){U(null,Ne);return}if(C.BufferUtils.isBuffer(Ne)&&(Ne=Ne.toString()),!Le){U(new N("authUrl response is missing a content-type header",40170,401),null);return}const ge=Le.indexOf("application/json")>-1,sn=Le.indexOf("text/plain")>-1||Le.indexOf("application/jwt")>-1;if(!ge&&!sn){U(new N("authUrl responded with unacceptable content-type "+Le+", should be either text/plain, application/jwt or application/json",40170,401),null);return}if(ge){if(Ne.length>Of){U(new N("authUrl response exceeded max permitted length",40170,401),null);return}try{Ne=JSON.parse(Ne)}catch(wt){U(new N("Unexpected error processing authURL response; err = "+wt.message,40170,401),null);return}}U(null,Ne,Le)};if(y.logAction(this.logger,y.LOG_MICRO,"Auth.requestToken().tokenRequestCallback","Requesting token from "+c.authUrl+"; Params: "+JSON.stringify(q)+"; method: "+(J?"POST":"GET")),J){const se=j||{};se["content-type"]="application/x-www-form-urlencoded";const ue=Nn(q).slice(1);Ye(this.client.http.doUri(Ze.Post,c.authUrl,se,ue,Q),(Re,Ne)=>re(Re||Ne))}else Ye(this.client.http.doUri(Ze.Get,c.authUrl,j||{},null,q),(se,ue)=>re(se||ue))};else if(c.key)y.logAction(this.logger,y.LOG_MINOR,"Auth.requestToken()","using token auth with client-side signing"),p=(P,U)=>{Ye(this.createTokenRequest(P,c),(j,J)=>U(j,J??null))};else{const P="Need a new token, but authOptions does not include any way to request one (no authUrl, authCallback, or key)";throw y.logAction(this.logger,y.LOG_ERROR,"Auth()","library initialized with a token literal without any way to renew the token when it expires (no authUrl, authCallback, or key). See https://help.ably.io/error/40171 for help"),new N(P,40171,403)}"capability"in f&&(f.capability=Zy(f.capability));const O=(P,U)=>{const j=P.keyName,J="/keys/"+j+"/requestToken",Q=function(q){return v.baseUri(q)+J},te=he.defaultPostHeaders(this.client.options);c.requestHeaders&&$(te,c.requestHeaders),y.logAction(this.logger,y.LOG_MICRO,"Auth.requestToken().requestToken","Sending POST to "+J+"; Token params: "+JSON.stringify(P)),Ye(this.client.http.do(Ze.Post,Q,te,JSON.stringify(P),null),(q,re)=>q?U(q):U(re.error,re.body,re.unpacked))};return new Promise((P,U)=>{let j=!1,J=this.client.options.timeouts.realtimeRequestTimeout,Q=setTimeout(()=>{j=!0;const te="Token request callback timed out after "+J/1e3+" seconds";y.logAction(this.logger,y.LOG_ERROR,"Auth.requestToken()",te),U(new N(te,40170,401))},J);p(f,(te,q,re)=>{if(j)return;if(clearTimeout(Q),te){y.logAction(this.logger,y.LOG_ERROR,"Auth.requestToken()","token request signing call returned error; err = "+Ee(te)),U(Yy(te));return}if(typeof q=="string"){q.length===0?U(new N("Token string is empty",40170,401)):q.length>Of?U(new N("Token string exceeded max permitted length (was "+q.length+" bytes)",40170,401)):q==="undefined"||q==="null"?U(new N("Token string was literal null/undefined",40170,401)):q[0]==="{"&&!(re&&re.indexOf("application/jwt")>-1)?U(new N("Token was double-encoded; make sure you're not JSON-encoding an already encoded token request or details",40170,401)):P({token:q});return}if(typeof q!="object"||q===null){const ue="Expected token request callback to call back with a token string or token request/details object, but got a "+typeof q;y.logAction(this.logger,y.LOG_ERROR,"Auth.requestToken()",ue),U(new N(ue,40170,401));return}const se=JSON.stringify(q).length;if(se>Of&&!c.suppressMaxLengthCheck){U(new N("Token request/details object exceeded max permitted stringified size (was "+se+" bytes)",40170,401));return}if("issued"in q){P(q);return}if(!("keyName"in q)){const ue="Expected token request callback to call back with a token string, token request object, or token details object";y.logAction(this.logger,y.LOG_ERROR,"Auth.requestToken()",ue),U(new N(ue,40170,401));return}O(q,(ue,Re,Ne)=>{if(ue){y.logAction(this.logger,y.LOG_ERROR,"Auth.requestToken()","token request API call returned error; err = "+Ee(ue)),U(Yy(ue));return}Ne||(Re=JSON.parse(Re)),y.logAction(this.logger,y.LOG_MINOR,"Auth.getToken()","token received"),P(Re)})})})}async createTokenRequest(i,a){a=a||this.authOptions,i=i||D(this.tokenParams);const c=a.key;if(!c)throw new N("No key specified",40101,403);const f=c.split(":"),p=f[0],v=f[1];if(!v)throw new N("Invalid key specified",40101,403);if(i.clientId==="")throw new N("clientId cant be an empty string",40012,400);"capability"in i&&(i.capability=Zy(i.capability));const O=$({keyName:p},i),P=i.clientId||"",U=i.ttl||"",j=i.capability||"";O.timestamp||(O.timestamp=await this._getTimestamp(a&&a.queryTime));const J=O.nonce||(O.nonce=c_()),Q=O.timestamp,te=O.keyName+`
`+U+`
`+j+`
`+P+`
`+Q+`
`+J+`
`;return O.mac=O.mac||d_(te,v),y.logAction(this.logger,y.LOG_MINOR,"Auth.getTokenRequest()","generated signed request"),O}async getAuthParams(){if(this.method=="basic")return{key:this.key};{let i=await this._ensureValidAuthCredentials(!1);if(!i)throw new Error("Auth.getAuthParams(): _ensureValidAuthCredentials returned no error or tokenDetails");return{access_token:i.token}}}async getAuthHeaders(){if(this.method=="basic")return{authorization:"Basic "+this.basicKey};{const i=await this._ensureValidAuthCredentials(!1);if(!i)throw new Error("Auth.getAuthParams(): _ensureValidAuthCredentials returned no error or tokenDetails");return{authorization:"Bearer "+Do(i.token)}}}_saveBasicOptions(i){this.method="basic",this.key=i.key,this.basicKey=Do(i.key),this.authOptions=i||{},"clientId"in i&&this._userSetClientId(i.clientId)}_saveTokenOptions(i,a){this.method="token",i&&(this.tokenParams=i),a&&(a.token&&(a.tokenDetails=typeof a.token=="string"?{token:a.token}:a.token),a.tokenDetails&&(this.tokenDetails=a.tokenDetails),"clientId"in a&&this._userSetClientId(a.clientId),this.authOptions=a)}async _ensureValidAuthCredentials(i){const a=this.tokenDetails;if(a){if(this._tokenClientIdMismatch(a.clientId))throw new N("Mismatch between clientId in token ("+a.clientId+") and current clientId ("+this.clientId+")",40102,403);if(!this.client.isTimeOffsetSet()||!a.expires||a.expires>=this.client.getTimestampUsingOffset())return y.logAction(this.logger,y.LOG_MINOR,"Auth.getToken()","using cached token; expires = "+a.expires),a;y.logAction(this.logger,y.LOG_MINOR,"Auth.getToken()","deleting expired token"),this.tokenDetails=null}const c=(this.waitingForTokenRequest||(this.waitingForTokenRequest=_f.create(this.logger))).createPromise();if(this.currentTokenRequestId!==null&&!i)return c;const f=this.currentTokenRequestId=g_();let p,v=null;try{p=await this.requestToken(this.tokenParams,this.authOptions)}catch(P){v=P}if(this.currentTokenRequestId>f)return y.logAction(this.logger,y.LOG_MINOR,"Auth._ensureValidAuthCredentials()","Discarding token request response; overtaken by newer one"),c;this.currentTokenRequestId=null;const O=this.waitingForTokenRequest;return this.waitingForTokenRequest=null,v?(O==null||O.rejectAll(v),c):(O==null||O.resolveAll(this.tokenDetails=p),c)}_userSetClientId(i){if(typeof i=="string"||i===null){if(i==="*")throw new N('Cant use "*" as a clientId as that string is reserved. (To change the default token request behaviour to use a wildcard clientId, instantiate the library with {defaultTokenParams: {clientId: "*"}}), or if calling authorize(), pass it in as a tokenParam: authorize({clientId: "*"}, authOptions)',40012,400);{const a=this._uncheckedSetClientId(i);if(a)throw a}}else throw new N("clientId must be either a string or null",40012,400)}_uncheckedSetClientId(i){if(this._tokenClientIdMismatch(i)){const a="Unexpected clientId mismatch: client has "+this.clientId+", requested "+i,c=new N(a,40102,401);return y.logAction(this.logger,y.LOG_ERROR,"Auth._uncheckedSetClientId()",a),c}else return this.clientId=this.tokenParams.clientId=i,null}_tokenClientIdMismatch(i){return!!(this.clientId&&this.clientId!=="*"&&i&&i!=="*"&&this.clientId!==i)}static isTokenErr(i){return i.code&&i.code>=40140&&i.code<40150}revokeTokens(i,a){return this.client.rest.revokeTokens(i,a)}async _getTimestamp(i){return this.client.getTimestamp(i||!!this.authOptions.queryTime)}},Ir=m_;function Af(i){const a=[];if(i)for(const c in i)a.push(c+"="+i[c]);return a.join("&")}function Uo(i,a){return i+(a?"?":"")+Af(a)}function y_(i,a,c,f,p){i.error?y.logActionNoStrip(p,y.LOG_MICRO,"Http."+a+"()","Received Error; "+Uo(c,f)+"; Error: "+Ee(i.error)):y.logActionNoStrip(p,y.LOG_MICRO,"Http."+a+"()","Received; "+Uo(c,f)+"; Headers: "+Af(i.headers)+"; StatusCode: "+i.statusCode+"; Body"+(C.BufferUtils.isBuffer(i.body)?" (Base64): "+C.BufferUtils.base64Encode(i.body):": "+i.body))}function v_(i,a,c,f,p){p.shouldLog(y.LOG_MICRO)&&y.logActionNoStrip(p,y.LOG_MICRO,"Http."+i+"()","Sending; "+Uo(a,f)+"; Body"+(C.BufferUtils.isBuffer(c)?" (Base64): "+C.BufferUtils.base64Encode(c):": "+c))}var Pf=class{constructor(i){this.client=i,this.platformHttp=new C.Http(i),this.checkConnectivity=this.platformHttp.checkConnectivity?()=>this.platformHttp.checkConnectivity():void 0}get logger(){var i,a;return(a=(i=this.client)==null?void 0:i.logger)!=null?a:y.defaultLogger}get supportsAuthHeaders(){return this.platformHttp.supportsAuthHeaders}get supportsLinkHeaders(){return this.platformHttp.supportsLinkHeaders}_getHosts(i){const a=i.connection,c=a&&a.connectionManager.host;return c?[c].concat(he.getFallbackHosts(i.options)):he.getHosts(i.options)}async do(i,a,c,f,p){try{const v=this.client;if(!v)return{error:new N("http.do called without client",5e4,500)};const O=typeof a=="function"?a:function(Q){return v.baseUri(Q)+a},P=v._currentFallback;if(P)if(P.validUntil>Date.now()){const Q=await this.doUri(i,O(P.host),c,f,p);return Q.error&&this.platformHttp.shouldFallback(Q.error)?(v._currentFallback=null,this.do(i,a,c,f,p)):Q}else v._currentFallback=null;const U=this._getHosts(v);if(U.length===1)return this.doUri(i,O(U[0]),c,f,p);let j=null;const J=async(Q,te)=>{const q=Q.shift();j=j??new Date;const re=await this.doUri(i,O(q),c,f,p);return re.error&&this.platformHttp.shouldFallback(re.error)&&Q.length?Date.now()-j.getTime()>v.options.timeouts.httpMaxRetryDuration?{error:new N(`Timeout for trying fallback hosts retries. Total elapsed time exceeded the ${v.options.timeouts.httpMaxRetryDuration}ms limit`,50003,500)}:J(Q,!0):(te&&(v._currentFallback={host:q,validUntil:Date.now()+v.options.timeouts.fallbackRetryTimeout}),re)};return J(U)}catch(v){return{error:new N(`Unexpected error in Http.do: ${Ee(v)}`,500,5e4)}}}async doUri(i,a,c,f,p){try{v_(i,a,f,p,this.logger);const v=await this.platformHttp.doUri(i,a,c,f,p);return this.logger.shouldLog(y.LOG_MICRO)&&y_(v,i,a,p,this.logger),v}catch(v){return{error:new N(`Unexpected error in Http.doUri: ${Ee(v)}`,500,5e4)}}}};function w_(i,a,c,f){try{c.apply(a,f)}catch(p){y.logAction(i,y.LOG_ERROR,"EventEmitter.emit()","Unexpected listener exception: "+p+"; stack = "+(p&&p.stack))}}function If(i,a,c){let f,p,v;for(let O=0;O<i.length;O++)if(f=i[O],c&&(f=f[c]),Array.isArray(f)){for(;(p=f.indexOf(a))!==-1;)f.splice(p,1);c&&f.length===0&&delete i[O][c]}else if(ee(f))for(v in f)Object.prototype.hasOwnProperty.call(f,v)&&Array.isArray(f[v])&&If([f],a,v)}var b_=class{constructor(i){this.logger=i,this.any=[],this.events=Object.create(null),this.anyOnce=[],this.eventsOnce=Object.create(null)}on(...i){if(i.length===1){const a=i[0];if(typeof a=="function")this.any.push(a);else throw new Error("EventListener.on(): Invalid arguments: "+C.Config.inspect(i))}if(i.length===2){const[a,c]=i;if(typeof c!="function")throw new Error("EventListener.on(): Invalid arguments: "+C.Config.inspect(i));if(ne(a))this.any.push(c);else if(Array.isArray(a))a.forEach(f=>{this.on(f,c)});else{if(typeof a!="string")throw new Error("EventListener.on(): Invalid arguments: "+C.Config.inspect(i));(this.events[a]||(this.events[a]=[])).push(c)}}}off(...i){if(i.length==0||ne(i[0])&&ne(i[1])){this.any=[],this.events=Object.create(null),this.anyOnce=[],this.eventsOnce=Object.create(null);return}const[a,c]=i;let f=null,p=null;if(i.length===1||!c)typeof a=="function"?f=a:p=a;else{if(typeof c!="function")throw new Error("EventEmitter.off(): invalid arguments:"+C.Config.inspect(i));[p,f]=[a,c]}if(f&&ne(p)){If([this.any,this.events,this.anyOnce,this.eventsOnce],f);return}if(Array.isArray(p)){p.forEach(v=>{this.off(v,f)});return}if(typeof p!="string")throw new Error("EventEmitter.off(): invalid arguments:"+C.Config.inspect(i));f?If([this.events,this.eventsOnce],f,p):(delete this.events[p],delete this.eventsOnce[p])}listeners(i){if(i){const a=this.events[i]||[];return this.eventsOnce[i]&&Array.prototype.push.apply(a,this.eventsOnce[i]),a.length?a:null}return this.any.length?this.any:null}emit(i,...a){const c={event:i},f=[];this.anyOnce.length&&(Array.prototype.push.apply(f,this.anyOnce),this.anyOnce=[]),this.any.length&&Array.prototype.push.apply(f,this.any);const p=this.eventsOnce[i];p&&(Array.prototype.push.apply(f,p),delete this.eventsOnce[i]);const v=this.events[i];v&&Array.prototype.push.apply(f,v),f.forEach(O=>{w_(this.logger,c,O,a)})}once(...i){const a=i.length;if(a===0||a===1&&typeof i[0]!="function"){const p=i[0];return new Promise(v=>{this.once(p,v)})}const[c,f]=i;if(i.length===1&&typeof c=="function")this.anyOnce.push(c);else if(ne(c)){if(typeof f!="function")throw new Error("EventEmitter.once(): Invalid arguments:"+C.Config.inspect(i));this.anyOnce.push(f)}else if(Array.isArray(c)){const p=this,v=function(){const O=Array.prototype.slice.call(arguments);if(c.forEach(function(P){p.off(P,v)}),typeof f!="function")throw new Error("EventEmitter.once(): Invalid arguments:"+C.Config.inspect(i));f.apply(this,O)};c.forEach(function(O){p.on(O,v)})}else{if(typeof c!="string")throw new Error("EventEmitter.once(): Invalid arguments:"+C.Config.inspect(i));const p=this.eventsOnce[c]||(this.eventsOnce[c]=[]);if(f){if(typeof f!="function")throw new Error("EventEmitter.once(): Invalid arguments:"+C.Config.inspect(i));p.push(f)}}}async whenState(i,a){if(typeof i!="string"||typeof a!="string")throw new Error("whenState requires a valid state String argument");return i===a?null:this.once(i)}},dt=b_,ce={HEARTBEAT:0,ACK:1,NACK:2,CONNECT:3,CONNECTED:4,DISCONNECT:5,DISCONNECTED:6,CLOSE:7,CLOSED:8,ERROR:9,ATTACH:10,ATTACHED:11,DETACH:12,DETACHED:13,PRESENCE:14,MESSAGE:15,SYNC:16,AUTH:17,ACTIVATE:18,OBJECT:19,OBJECT_SYNC:20,ANNOTATION:21},nv=[];Object.keys(ce).forEach(function(i){nv[ce[i]]=i});var Vt={HAS_PRESENCE:1,HAS_BACKLOG:2,RESUMED:4,TRANSIENT:16,ATTACH_RESUME:32,HAS_OBJECTS:128,PRESENCE:65536,PUBLISH:1<<17,SUBSCRIBE:1<<18,PRESENCE_SUBSCRIBE:1<<19,ANNOTATION_PUBLISH:1<<21,ANNOTATION_SUBSCRIBE:1<<22,OBJECT_SUBSCRIBE:1<<24,OBJECT_PUBLISH:1<<25},S_=Object.keys(Vt);Vt.MODE_ALL=Vt.PRESENCE|Vt.PUBLISH|Vt.SUBSCRIBE|Vt.PRESENCE_SUBSCRIBE|Vt.ANNOTATION_PUBLISH|Vt.ANNOTATION_SUBSCRIBE|Vt.OBJECT_SUBSCRIBE|Vt.OBJECT_PUBLISH;var rv=["PRESENCE","PUBLISH","SUBSCRIBE","PRESENCE_SUBSCRIBE","ANNOTATION_PUBLISH","ANNOTATION_SUBSCRIBE","OBJECT_SUBSCRIBE","OBJECT_PUBLISH"];function x_(i){return!i||!i.channelOptions?{channelOptions:i,plugins:{},baseEncodedPreviousPayload:void 0}:i}function sv(i,a,c){if(c&&c.cipher){i||ut("Crypto");const f=i.getCipher(c.cipher,a);return{cipher:f.cipherParams,channelCipher:f.cipher}}return c??{}}async function C_(i,a){const{data:c,encoding:f}=await ov(i.data,i.encoding,a);return i.data=c,i.encoding=f,i}async function ov(i,a,c){let f=c.channelCipher,p=i,v=a?a+"/":"";C.BufferUtils.isBuffer(p)||(p=C.BufferUtils.utf8Encode(String(p)),v=v+"utf-8/");const O=await f.encrypt(p);return v=v+"cipher+"+f.algorithm,{data:O,encoding:v}}async function Nf(i,a){const{data:c,encoding:f}=iv(i.data,i.encoding);return i.data=c,i.encoding=f,a!=null&&a.cipher?C_(i,a):i}function iv(i,a){if(typeof i=="string"||C.BufferUtils.isBuffer(i)||i===null||i===void 0)return{data:i,encoding:a};if(ee(i)||Array.isArray(i))return{data:JSON.stringify(i),encoding:a?a+"/json":"json"};throw new N("Data type is unsupported",40013,400)}async function Mf(i,a){const{data:c,encoding:f,error:p}=await av(i.data,i.encoding,a);if(i.data=c,i.encoding=f,p)throw p}async function av(i,a,c){const f=x_(c);let p=i,v=i,O=a,P;if(a){const U=a.split("/");let j,J=U.length,Q="";try{for(;(j=J)>0;){const te=U[--J].match(/([-\w]+)(\+([\w-]+))?/);if(!te)break;switch(Q=te[1],Q){case"base64":v=C.BufferUtils.base64Decode(String(v)),j==U.length&&(p=v);continue;case"utf-8":v=C.BufferUtils.utf8Decode(v);continue;case"json":v=JSON.parse(v);continue;case"cipher":if(f.channelOptions!=null&&f.channelOptions.cipher&&f.channelOptions.channelCipher){const q=te[3],re=f.channelOptions.channelCipher;if(q!=re.algorithm)throw new Error("Unable to decrypt message with given cipher; incompatible cipher params");v=await re.decrypt(v);continue}else throw new Error("Unable to decrypt message; not an encrypted channel");case"vcdiff":if(!f.plugins||!f.plugins.vcdiff)throw new N("Missing Vcdiff decoder (https://github.com/ably-forks/vcdiff-decoder)",40019,400);if(typeof Uint8Array>"u")throw new N("Delta decoding not supported on this browser (need ArrayBuffer & Uint8Array)",40020,400);try{let q=f.baseEncodedPreviousPayload;typeof q=="string"&&(q=C.BufferUtils.utf8Encode(q));const re=C.BufferUtils.toBuffer(q);v=C.BufferUtils.toBuffer(v),v=C.BufferUtils.arrayBufferViewToBuffer(f.plugins.vcdiff.decode(v,re)),p=v}catch(q){throw new N("Vcdiff delta decode failed with "+q,40018,400)}continue;default:throw new Error("Unknown encoding")}}}catch(te){const q=te;P=new N(`Error processing the ${Q} encoding, decoder returned ${q.message}`,q.code||40013,400)}finally{O=j<=0?null:U.slice(0,j).join("/")}}return P?{error:P,data:v,encoding:O}:(f.baseEncodedPreviousPayload=p,{data:v,encoding:O})}function Lf(...i){const a=i.length>0?"json":"msgpack",{data:c,encoding:f}=lv(this.data,this.encoding,a);return Object.assign({},this,{encoding:f,data:c})}function lv(i,a,c){return!i||!C.BufferUtils.isBuffer(i)?{data:i,encoding:a}:c==="msgpack"?{data:C.BufferUtils.toBuffer(i),encoding:a}:{data:C.BufferUtils.base64Encode(i),encoding:a?a+"/base64":"base64"}}var Sc={encryptData:ov,encodeData:iv,encodeDataForWire:lv,decodeData:av};function xc(i){const{id:a,connectionId:c,timestamp:f}=i;let p;switch(i.action){case ce.MESSAGE:{p=i.messages;break}case ce.PRESENCE:case ce.SYNC:p=i.presence;break;case ce.ANNOTATION:p=i.annotations;break;case ce.OBJECT:case ce.OBJECT_SYNC:p=i.state;break;default:throw new N("Unexpected action "+i.action,4e4,400)}for(let v=0;v<p.length;v++){const O=p[v];O.connectionId||(O.connectionId=c),O.timestamp||(O.timestamp=f),a&&!O.id&&(O.id=a+":"+v)}}function $o(i,a){let c="["+a;for(const f in i)f==="data"?typeof i.data=="string"?c+="; data="+i.data:C.BufferUtils.isBuffer(i.data)?c+="; data (buffer)="+C.BufferUtils.base64Encode(i.data):typeof i.data<"u"&&(c+="; data (json)="+JSON.stringify(i.data)):f&&(f==="extras"||f==="operation")?c+="; "+f+"="+JSON.stringify(i[f]):f==="version"?c+="; version="+JSON.stringify(i[f]):f==="annotations"?c+="; annotations="+JSON.stringify(i[f]):i[f]!==void 0&&(c+="; "+f+"="+i[f]);return c+="]",c}var Fo=class{},cv=class{constructor(i){this.Platform=C,this.ErrorInfo=N,this.Logger=y,this.Defaults=he,this.Utils=V,this.EventEmitter=dt,this.MessageEncoding=Sc;var a,c,f,p,v,O,P,U,j,J;this._additionalHTTPRequestImplementations=(a=i.plugins)!=null?a:null,this.logger=new y,this.logger.setLog(i.logLevel,i.logHandler),y.logAction(this.logger,y.LOG_MICRO,"BaseClient()","initialized with clientOptions "+C.Config.inspect(i)),this._MsgPack=(f=(c=i.plugins)==null?void 0:c.MsgPack)!=null?f:null;const Q=this.options=he.normaliseOptions(i,this._MsgPack,this.logger);if(Q.key){const te=Q.key.match(/^([^:\s]+):([^:.\s]+)$/);if(!te){const q="invalid key parameter";throw y.logAction(this.logger,y.LOG_ERROR,"BaseClient()",q),new N(q,40400,404)}Q.keyName=te[1],Q.keySecret=te[2]}if("clientId"in Q)if(typeof Q.clientId=="string"||Q.clientId===null){if(Q.clientId==="*")throw new N('Cant use "*" as a clientId as that string is reserved. (To change the default token request behaviour to use a wildcard clientId, use {defaultTokenParams: {clientId: "*"}})',40012,400)}else throw new N("clientId must be either a string or null",40012,400);y.logAction(this.logger,y.LOG_MINOR,"BaseClient()","started; version = "+he.version),this._currentFallback=null,this.serverTimeOffset=null,this.http=new Pf(this),this.auth=new Ir(this,Q),this._rest=(p=i.plugins)!=null&&p.Rest?new i.plugins.Rest(this):null,this._Crypto=(O=(v=i.plugins)==null?void 0:v.Crypto)!=null?O:null,this.__FilteredSubscriptions=(U=(P=i.plugins)==null?void 0:P.MessageInteractions)!=null?U:null,this._Annotations=(J=(j=i.plugins)==null?void 0:j.Annotations)!=null?J:null}get rest(){return this._rest||ut("Rest"),this._rest}get _FilteredSubscriptions(){return this.__FilteredSubscriptions||ut("MessageInteractions"),this.__FilteredSubscriptions}get channels(){return this.rest.channels}get push(){return this.rest.push}device(){var i;return(!((i=this.options.plugins)!=null&&i.Push)||!this.push.LocalDevice)&&ut("Push"),this._device||(this._device=this.push.LocalDevice.load(this)),this._device}baseUri(i){return he.getHttpScheme(this.options)+i+":"+he.getPort(this.options,!1)}async stats(i){return this.rest.stats(i)}async time(i){return this.rest.time(i)}async request(i,a,c,f,p,v){return this.rest.request(i,a,c,f,p,v)}batchPublish(i){return this.rest.batchPublish(i)}batchPresence(i){return this.rest.batchPresence(i)}setLog(i){this.logger.setLog(i.level,i.handler)}async getTimestamp(i){return!this.isTimeOffsetSet()&&i?this.time():this.getTimestampUsingOffset()}getTimestampUsingOffset(){return Date.now()+(this.serverTimeOffset||0)}isTimeOffsetSet(){return this.serverTimeOffset!==null}};cv.Platform=C;var uv=cv,E_=class Yo{toJSON(){var a,c,f;return{id:this.id,deviceSecret:this.deviceSecret,platform:this.platform,formFactor:this.formFactor,clientId:this.clientId,metadata:this.metadata,deviceIdentityToken:this.deviceIdentityToken,push:{recipient:(a=this.push)==null?void 0:a.recipient,state:(c=this.push)==null?void 0:c.state,error:(f=this.push)==null?void 0:f.error}}}toString(){var a,c,f,p;let v="[DeviceDetails";return this.id&&(v+="; id="+this.id),this.platform&&(v+="; platform="+this.platform),this.formFactor&&(v+="; formFactor="+this.formFactor),this.clientId&&(v+="; clientId="+this.clientId),this.metadata&&(v+="; metadata="+this.metadata),this.deviceIdentityToken&&(v+="; deviceIdentityToken="+JSON.stringify(this.deviceIdentityToken)),(a=this.push)!=null&&a.recipient&&(v+="; push.recipient="+JSON.stringify(this.push.recipient)),(c=this.push)!=null&&c.state&&(v+="; push.state="+this.push.state),(f=this.push)!=null&&f.error&&(v+="; push.error="+JSON.stringify(this.push.error)),(p=this.push)!=null&&p.metadata&&(v+="; push.metadata="+this.push.metadata),v+="]",v}static toRequestBody(a,c,f){return nn(a,c,f)}static fromResponseBody(a,c,f){return f&&(a=At(a,c,f)),Array.isArray(a)?Yo.fromValuesArray(a):Yo.fromValues(a)}static fromValues(a){return a.error=a.error&&N.fromValues(a.error),Object.assign(new Yo,a)}static fromLocalDevice(a){return Object.assign(new Yo,a)}static fromValuesArray(a){const c=a.length,f=new Array(c);for(let p=0;p<c;p++)f[p]=Yo.fromValues(a[p]);return f}},Bo=E_;async function dv(i,a,c,f){if(i.http.supportsAuthHeaders){const p=await i.auth.getAuthHeaders();return f($(p,a),c)}else{const p=await i.auth.getAuthParams();return f(a,$(p,c))}}function T_(i,a,c){if(i.err&&!i.body)return{err:i.err};if(i.statusCode===bc.NoContent)return R(b({},i),{body:[],unpacked:!0});let f=i.body;if(!i.unpacked)try{f=At(f,a,c)}catch(P){return Io(P)?{err:P}:{err:new oe(Ee(P),null)}}if(!f)return{err:new oe("unenvelope(): Response body is missing",null)};const{statusCode:p,response:v,headers:O}=f;if(p===void 0)return R(b({},i),{body:f,unpacked:!0});if(p<200||p>=300){let P=v&&v.error||i.err;return P||(P=new Error("Error in unenveloping "+f),P.statusCode=p),{err:P,body:v,headers:O,unpacked:!0,statusCode:p}}return{err:i.err,body:v,headers:O,unpacked:!0,statusCode:p}}function R_(i,a,c,f,p){i.err?y.logAction(p,y.LOG_MICRO,"Resource."+a+"()","Received Error; "+Uo(c,f)+"; Error: "+Ee(i.err)):y.logAction(p,y.LOG_MICRO,"Resource."+a+"()","Received; "+Uo(c,f)+"; Headers: "+Af(i.headers)+"; StatusCode: "+i.statusCode+"; Body: "+(C.BufferUtils.isBuffer(i.body)?" (Base64): "+C.BufferUtils.base64Encode(i.body):": "+C.Config.inspect(i.body)))}var k_=class Zo{static async get(a,c,f,p,v,O){return Zo.do(Ze.Get,a,c,null,f,p,v,O??!1)}static async delete(a,c,f,p,v,O){return Zo.do(Ze.Delete,a,c,null,f,p,v,O)}static async post(a,c,f,p,v,O,P){return Zo.do(Ze.Post,a,c,f,p,v,O,P)}static async patch(a,c,f,p,v,O,P){return Zo.do(Ze.Patch,a,c,f,p,v,O,P)}static async put(a,c,f,p,v,O,P){return Zo.do(Ze.Put,a,c,f,p,v,O,P)}static async do(a,c,f,p,v,O,P,U){P&&((O=O||{}).envelope=P);const j=c.logger;async function J(te,q){var re;if(j.shouldLog(y.LOG_MICRO)){let ue=p;if(((re=te["content-type"])==null?void 0:re.indexOf("msgpack"))>0)try{c._MsgPack||ut("MsgPack"),ue=c._MsgPack.decode(p)}catch(Re){y.logAction(j,y.LOG_MICRO,"Resource."+a+"()","Sending MsgPack Decoding Error: "+Ee(Re))}y.logAction(j,y.LOG_MICRO,"Resource."+a+"()","Sending; "+Uo(f,q)+"; Body: "+ue)}const se=await c.http.do(a,f,te,p,q);return se.error&&Ir.isTokenErr(se.error)?(await c.auth.authorize(null,null),dv(c,te,q,J)):{err:se.error,body:se.body,headers:se.headers,unpacked:se.unpacked,statusCode:se.statusCode}}let Q=await dv(c,v,O,J);if(P&&(Q=T_(Q,c._MsgPack,P)),j.shouldLog(y.LOG_MICRO)&&R_(Q,a,f,O,j),U){if(Q.err)throw Q.err;{const te=b({},Q);return delete te.err,te}}return Q}},tt=k_;function __(i){const a=i.match(/^\.\/(\w+)\?(.*)$/);return a&&a[2]&&Mn(a[2])}function O_(i){typeof i=="string"&&(i=i.split(","));const a={};for(let c=0;c<i.length;c++){const f=i[c].match(/^\s*<(.+)>;\s*rel="(\w+)"$/);if(f){const p=__(f[1]);p&&(a[f[2]]=p)}}return a}function A_(i,a,c){return!(c&&(a||typeof i.code=="number"))}var P_=class{constructor(i,a,c,f,p,v){this.client=i,this.path=a,this.headers=c,this.envelope=f??null,this.bodyHandler=p,this.useHttpPaginatedResponse=v||!1}get logger(){return this.client.logger}async get(i){const a=await tt.get(this.client,this.path,this.headers,i,this.envelope,!1);return this.handlePage(a)}async delete(i){const a=await tt.delete(this.client,this.path,this.headers,i,this.envelope,!1);return this.handlePage(a)}async post(i,a){const c=await tt.post(this.client,this.path,a,this.headers,i,this.envelope,!1);return this.handlePage(c)}async put(i,a){const c=await tt.put(this.client,this.path,a,this.headers,i,this.envelope,!1);return this.handlePage(c)}async patch(i,a){const c=await tt.patch(this.client,this.path,a,this.headers,i,this.envelope,!1);return this.handlePage(c)}async handlePage(i){if(i.err&&A_(i.err,i.body,this.useHttpPaginatedResponse))throw y.logAction(this.logger,y.LOG_ERROR,"PaginatedResource.handlePage()","Unexpected error getting resource: err = "+Ee(i.err)),i.err;let a,c,f;try{a=i.statusCode==bc.NoContent?[]:await this.bodyHandler(i.body,i.headers||{},i.unpacked)}catch(p){throw i.err||p}return i.headers&&(c=i.headers.Link||i.headers.link)&&(f=O_(c)),this.useHttpPaginatedResponse?new I_(this,a,i.headers||{},i.statusCode,f,i.err):new fv(this,a,f)}},fv=class{constructor(i,a,c){this.resource=i,this.items=a,this._relParams=c}async first(){if(this.hasFirst())return this.get(this._relParams.first);throw new N("No link to the first page of results",40400,404)}async current(){if(this.hasCurrent())return this.get(this._relParams.current);throw new N("No link to the current page of results",40400,404)}async next(){return this.hasNext()?this.get(this._relParams.next):null}hasFirst(){return this._relParams!=null&&"first"in this._relParams}hasCurrent(){return this._relParams!=null&&"current"in this._relParams}hasNext(){return this._relParams!=null&&"next"in this._relParams}isLast(){return!this.hasNext()}async get(i){const a=this.resource,c=await tt.get(a.client,a.path,a.headers,i,a.envelope,!1);return a.handlePage(c)}},I_=class extends fv{constructor(i,a,c,f,p,v){super(i,a,p),this.statusCode=f,this.success=f<300&&f>=200,this.headers=c,this.errorCode=v&&v.code,this.errorMessage=v&&v.message}toJSON(){return{items:this.items,statusCode:this.statusCode,success:this.success,headers:this.headers,errorCode:this.errorCode,errorMessage:this.errorMessage}}},ar=P_,hv=class Va{toJSON(){return{channel:this.channel,deviceId:this.deviceId,clientId:this.clientId}}toString(){let a="[PushChannelSubscription";return this.channel&&(a+="; channel="+this.channel),this.deviceId&&(a+="; deviceId="+this.deviceId),this.clientId&&(a+="; clientId="+this.clientId),a+="]",a}static fromResponseBody(a,c,f){return f&&(a=At(a,c,f)),Array.isArray(a)?Va.fromValuesArray(a):Va.fromValues(a)}static fromValues(a){return Object.assign(new Va,a)}static fromValuesArray(a){const c=a.length,f=new Array(c);for(let p=0;p<c;p++)f[p]=Va.fromValues(a[p]);return f}};hv.toRequestBody=nn;var N_=hv,Cc=N_,M_=class{constructor(i){var a;this.client=i,this.admin=new L_(i),C.Config.push&&((a=i.options.plugins)!=null&&a.Push)&&(this.stateMachine=new i.options.plugins.Push.ActivationStateMachine(i),this.LocalDevice=i.options.plugins.Push.localDeviceFactory(Bo))}async activate(i,a){await new Promise((c,f)=>{var p;if(!((p=this.client.options.plugins)!=null&&p.Push)){f(qs("Push"));return}if(!this.stateMachine){f(new N("This platform is not supported as a target of push notifications",4e4,400));return}if(this.stateMachine.activatedCallback){f(new N("Activation already in progress",4e4,400));return}this.stateMachine.activatedCallback=v=>{if(v){f(v);return}c()},this.stateMachine.updateFailedCallback=a,this.stateMachine.handleEvent(new this.client.options.plugins.Push.CalledActivate(this.stateMachine,i))})}async deactivate(i){await new Promise((a,c)=>{var f;if(!((f=this.client.options.plugins)!=null&&f.Push)){c(qs("Push"));return}if(!this.stateMachine){c(new N("This platform is not supported as a target of push notifications",4e4,400));return}if(this.stateMachine.deactivatedCallback){c(new N("Deactivation already in progress",4e4,400));return}this.stateMachine.deactivatedCallback=p=>{if(p){c(p);return}a()},this.stateMachine.handleEvent(new this.client.options.plugins.Push.CalledDeactivate(this.stateMachine,i))})}},L_=class{constructor(i){this.client=i,this.deviceRegistrations=new D_(i),this.channelSubscriptions=new j_(i)}async publish(i,a){const c=this.client,f=c.options.useBinaryProtocol?"msgpack":"json",p=he.defaultPostHeaders(c.options,{format:f}),v={},O=$({recipient:i},a);$(p,c.options.headers),c.options.pushFullWait&&$(v,{fullWait:"true"});const P=nn(O,c._MsgPack,f);await tt.post(c,"/push/publish",P,p,v,null,!0)}},D_=class{constructor(i){this.client=i}async save(i){const a=this.client,c=Bo.fromValues(i),f=a.options.useBinaryProtocol?"msgpack":"json",p=he.defaultPostHeaders(a.options,{format:f}),v={};$(p,a.options.headers),a.options.pushFullWait&&$(v,{fullWait:"true"});const O=nn(c,a._MsgPack,f),P=await tt.put(a,"/push/deviceRegistrations/"+encodeURIComponent(i.id),O,p,v,null,!0);return Bo.fromResponseBody(P.body,a._MsgPack,P.unpacked?void 0:f)}async get(i){const a=this.client,c=a.options.useBinaryProtocol?"msgpack":"json",f=he.defaultGetHeaders(a.options,{format:c}),p=i.id||i;if(typeof p!="string"||!p.length)throw new N("First argument to DeviceRegistrations#get must be a deviceId string or DeviceDetails",4e4,400);$(f,a.options.headers);const v=await tt.get(a,"/push/deviceRegistrations/"+encodeURIComponent(p),f,{},null,!0);return Bo.fromResponseBody(v.body,a._MsgPack,v.unpacked?void 0:c)}async list(i){const a=this.client,c=a.options.useBinaryProtocol?"msgpack":"json",f=this.client.http.supportsLinkHeaders?void 0:c,p=he.defaultGetHeaders(a.options,{format:c});return $(p,a.options.headers),new ar(a,"/push/deviceRegistrations",p,f,async function(v,O,P){return Bo.fromResponseBody(v,a._MsgPack,P?void 0:c)}).get(i)}async remove(i){const a=this.client,c=a.options.useBinaryProtocol?"msgpack":"json",f=he.defaultGetHeaders(a.options,{format:c}),p={},v=i.id||i;if(typeof v!="string"||!v.length)throw new N("First argument to DeviceRegistrations#remove must be a deviceId string or DeviceDetails",4e4,400);$(f,a.options.headers),a.options.pushFullWait&&$(p,{fullWait:"true"}),await tt.delete(a,"/push/deviceRegistrations/"+encodeURIComponent(v),f,p,null,!0)}async removeWhere(i){const a=this.client,c=a.options.useBinaryProtocol?"msgpack":"json",f=he.defaultGetHeaders(a.options,{format:c});$(f,a.options.headers),a.options.pushFullWait&&$(i,{fullWait:"true"}),await tt.delete(a,"/push/deviceRegistrations",f,i,null,!0)}},j_=class QE{constructor(a){this.remove=QE.prototype.removeWhere,this.client=a}async save(a){const c=this.client,f=Cc.fromValues(a),p=c.options.useBinaryProtocol?"msgpack":"json",v=he.defaultPostHeaders(c.options,{format:p}),O={};$(v,c.options.headers),c.options.pushFullWait&&$(O,{fullWait:"true"});const P=nn(f,c._MsgPack,p),U=await tt.post(c,"/push/channelSubscriptions",P,v,O,null,!0);return Cc.fromResponseBody(U.body,c._MsgPack,U.unpacked?void 0:p)}async list(a){const c=this.client,f=c.options.useBinaryProtocol?"msgpack":"json",p=this.client.http.supportsLinkHeaders?void 0:f,v=he.defaultGetHeaders(c.options,{format:f});return $(v,c.options.headers),new ar(c,"/push/channelSubscriptions",v,p,async function(O,P,U){return Cc.fromResponseBody(O,c._MsgPack,U?void 0:f)}).get(a)}async removeWhere(a){const c=this.client,f=c.options.useBinaryProtocol?"msgpack":"json",p=he.defaultGetHeaders(c.options,{format:f});$(p,c.options.headers),c.options.pushFullWait&&$(a,{fullWait:"true"}),await tt.delete(c,"/push/channelSubscriptions",p,a,null,!0)}async listChannels(a){const c=this.client,f=c.options.useBinaryProtocol?"msgpack":"json",p=this.client.http.supportsLinkHeaders?void 0:f,v=he.defaultGetHeaders(c.options,{format:f});return $(v,c.options.headers),c.options.pushFullWait&&$(a,{fullWait:"true"}),new ar(c,"/push/channels",v,p,async function(O,P,U){const j=!U&&f?At(O,c._MsgPack,f):O;for(let J=0;J<j.length;J++)j[J]=String(j[J]);return j}).get(a)}},U_=M_,pv=["absent","present","enter","leave","update"];async function gv(i,a,c,f){const p=sv(a,i,f??null);return ha.fromValues(c).decode(p,i)}async function $_(i,a,c,f){return Promise.all(c.map(function(p){return gv(i,a,p,f)}))}async function F_(i,a){return ha.fromValues(i).decode(a.channelOptions,a.logger)}async function mv(i,a){return Promise.all(i.map(function(c){return F_(c,a)}))}var yv=class Ga extends Fo{isSynthesized(){return!this.id||!this.connectionId?!0:this.id.substring(this.connectionId.length,0)!==this.connectionId}parseId(){if(!this.id)throw new Error("parseId(): Presence message does not contain an id");const a=this.id.split(":");return{connectionId:a[0],msgSerial:parseInt(a[1],10),index:parseInt(a[2],10)}}async encode(a){const c=Object.assign(new ha,this,{action:pv.indexOf(this.action||"present")});return Nf(c,a)}static fromValues(a){return Object.assign(new Ga,a)}static fromValuesArray(a){return a.map(c=>Ga.fromValues(c))}static fromData(a){return a instanceof Ga?a:Ga.fromValues({data:a})}toString(){return $o(this,"PresenceMessage")}},ha=class Ag extends Fo{toJSON(...a){return Lf.call(this,...a)}static fromValues(a){return Object.assign(new Ag,a)}static fromValuesArray(a){return a.map(c=>Ag.fromValues(c))}async decode(a,c){const f=Object.assign(new yv,R(b({},this),{action:pv[this.action]}));try{await Mf(f,a)}catch(p){y.logAction(c,y.LOG_ERROR,"WirePresenceMessage.decode()",Ee(p))}return f}toString(){return $o(this,"WirePresenceMessage")}},ts=yv,B_=class{constructor(i){this.channel=i}get logger(){return this.channel.logger}async get(i){y.logAction(this.logger,y.LOG_MICRO,"RestPresence.get()","channel = "+this.channel.name);const a=this.channel.client,c=a.options.useBinaryProtocol?"msgpack":"json",f=this.channel.client.http.supportsLinkHeaders?void 0:c,p=he.defaultGetHeaders(a.options,{format:c});return $(p,a.options.headers),new ar(a,this.channel.client.rest.presenceMixin.basePath(this),p,f,async(v,O,P)=>{const U=P?v:At(v,a._MsgPack,c);return mv(U,this.channel)}).get(i)}async history(i){return y.logAction(this.logger,y.LOG_MICRO,"RestPresence.history()","channel = "+this.channel.name),this.channel.client.rest.presenceMixin.history(this,i)}},z_=B_,vv=["message.create","message.update","message.delete","meta","message.summary"];function H_(i){return vv[i||0]||"unknown"}function W_(i){let a=0;return i.name&&(a+=i.name.length),i.clientId&&(a+=i.clientId.length),i.extras&&(a+=JSON.stringify(i.extras).length),i.data&&(a+=rr(i.data)),a}async function wv(i,a,c,f){const p=sv(a,i,f??null);return pa.fromValues(c).decode(p,i)}async function V_(i,a,c,f){return Promise.all(c.map(function(p){return wv(i,a,p,f)}))}async function G_(i,a){return pa.fromValues(i).decode(a.channelOptions,a.logger)}async function q_(i,a){return Promise.all(i.map(function(c){return G_(c,a)}))}async function bv(i,a){return Promise.all(i.map(c=>c.encode(a)))}var K_=nn;function Df(i){let a,c=0;for(let f=0;f<i.length;f++)a=i[f],c+=a.size||(a.size=W_(a));return c}var Sv=class Pg extends Fo{expandFields(){if(this.version||(this.version={}),!this.version.serial&&this.serial&&(this.version.serial=this.serial),!this.version.timestamp&&this.timestamp&&(this.version.timestamp=this.timestamp),this.annotations?this.annotations.summary||(this.annotations.summary={}):this.annotations={summary:{}},this.annotations&&this.annotations.summary)for(const[a,c]of Object.entries(this.annotations.summary))if(a.endsWith(":distinct.v1")||a.endsWith(":unique.v1")||a.endsWith(":multiple.v1"))for(const[,f]of Object.entries(c))f.clipped||(f.clipped=!1);else a.endsWith(":flag.v1")&&(c.clipped||(c.clipped=!1))}async encode(a){const c=Object.assign(new pa,this,{action:vv.indexOf(this.action||"message.create")});return Nf(c,a)}static fromValues(a){return Object.assign(new Pg,a)}static fromValuesArray(a){return a.map(c=>Pg.fromValues(c))}toString(){return $o(this,"Message")}},pa=class Ig extends Fo{toJSON(...a){return Lf.call(this,...a)}static fromValues(a){return Object.assign(new Ig,a)}static fromValuesArray(a){return a.map(c=>Ig.fromValues(c))}async decodeWithErr(a,c){const f=Object.assign(new Sv,R(b({},this),{action:H_(this.action)}));let p;try{await Mf(f,a)}catch(v){y.logAction(c,y.LOG_ERROR,"WireMessage.decode()",Ee(v)),p=v}return f.expandFields(),{decoded:f,err:p}}async decode(a,c){const{decoded:f}=await this.decodeWithErr(a,c);return f}toString(){return $o(this,"WireMessage")}},ns=Sv,Q_=9;function J_(i){return i.every(function(a){return!a.id})}var X_=class{constructor(i,a,c){this._annotations=null;var f,p;y.logAction(i.logger,y.LOG_MINOR,"RestChannel()","started; name = "+a),this.name=a,this.client=i,this.presence=new z_(this),this.channelOptions=vc((f=i._Crypto)!=null?f:null,this.logger,c),(p=i.options.plugins)!=null&&p.Push&&(this._push=new i.options.plugins.Push.PushChannel(this)),i._Annotations&&(this._annotations=new i._Annotations.RestAnnotations(this))}get annotations(){return this._annotations||ut("Annotations"),this._annotations}get push(){return this._push||ut("Push"),this._push}get logger(){return this.client.logger}setOptions(i){var a;this.channelOptions=vc((a=this.client._Crypto)!=null?a:null,this.logger,i)}async history(i){return y.logAction(this.logger,y.LOG_MICRO,"RestChannel.history()","channel = "+this.name),this.client.rest.channelMixin.history(this,i)}async publish(...i){const a=i[0],c=i[1];let f,p;if(typeof a=="string"||a===null)f=[ns.fromValues({name:a,data:c})],p=i[2];else if(ee(a))f=[ns.fromValues(a)],p=i[1];else if(Array.isArray(a))f=ns.fromValuesArray(a),p=i[1];else throw new N("The single-argument form of publish() expects a message object or an array of message objects",40013,400);p||(p={});const v=this.client,O=v.options,P=O.useBinaryProtocol?"msgpack":"json",U=v.options.idempotentRestPublishing,j=he.defaultPostHeaders(v.options,{format:P});if($(j,O.headers),U&&J_(f)){const q=await gc(Q_);f.forEach(function(re,se){re.id=q+":"+se.toString()})}const J=await bv(f,this.channelOptions),Q=Df(J),te=O.maxMessageSize;if(Q>te)throw new N(`Maximum size of messages that can be published at once exceeded (was ${Q} bytes; limit is ${te} bytes)`,40009,400);await this._publish(K_(J,v._MsgPack,P),j,p)}async _publish(i,a,c){await tt.post(this.client,this.client.rest.channelMixin.basePath(this)+"/messages",i,a,c,null,!0)}async status(){return this.client.rest.channelMixin.status(this)}},Y_=X_,Z_=class JE{constructor(a){this.entries=a&&a.entries||void 0,this.schema=a&&a.schema||void 0,this.appId=a&&a.appId||void 0,this.inProgress=a&&a.inProgress||void 0,this.unit=a&&a.unit||void 0,this.intervalId=a&&a.intervalId||void 0}static fromValues(a){return new JE(a)}},eO=Z_,xv=class{static basePath(i){return"/channels/"+encodeURIComponent(i.name)}static history(i,a){const c=i.client,f=c.options.useBinaryProtocol?"msgpack":"json",p=i.client.http.supportsLinkHeaders?void 0:f,v=he.defaultGetHeaders(c.options,{format:f});return $(v,c.options.headers),new ar(c,this.basePath(i)+"/messages",v,p,async function(O,P,U){const j=U?O:At(O,c._MsgPack,f);return q_(j,i)}).get(a)}static async status(i){const a=i.client.options.useBinaryProtocol?"msgpack":"json",c=he.defaultPostHeaders(i.client.options,{format:a});return(await tt.get(i.client,this.basePath(i),c,{},a,!0)).body}},tO=class{static basePath(i){return xv.basePath(i.channel)+"/presence"}static async history(i,a){const c=i.channel.client,f=c.options.useBinaryProtocol?"msgpack":"json",p=i.channel.client.http.supportsLinkHeaders?void 0:f,v=he.defaultGetHeaders(c.options,{format:f});return $(v,c.options.headers),new ar(c,this.basePath(i)+"/history",v,p,async(O,P,U)=>{const j=U?O:At(O,c._MsgPack,f);return mv(j,i.channel)}).get(a)}},Cv=class{constructor(i){this.channelMixin=xv,this.presenceMixin=tO,this.Resource=tt,this.PaginatedResource=ar,this.DeviceDetails=Bo,this.PushChannelSubscription=Cc,this.client=i,this.channels=new nO(this.client),this.push=new U_(this.client)}async stats(i){const a=he.defaultGetHeaders(this.client.options),c=this.client.options.useBinaryProtocol?"msgpack":"json",f=this.client.http.supportsLinkHeaders?void 0:c;return $(a,this.client.options.headers),new ar(this.client,"/stats",a,f,function(p,v,O){const P=O?p:JSON.parse(p);for(let U=0;U<P.length;U++)P[U]=eO.fromValues(P[U]);return P}).get(i)}async time(i){const a=he.defaultGetHeaders(this.client.options);this.client.options.headers&&$(a,this.client.options.headers);const c=P=>this.client.baseUri(P)+"/time";let{error:f,body:p,unpacked:v}=await this.client.http.do(Ze.Get,c,a,null,i);if(f)throw f;v||(p=JSON.parse(p));const O=p[0];if(!O)throw new N("Internal error (unexpected result type from GET /time)",5e4,500);return this.client.serverTimeOffset=O-Date.now(),O}async request(i,a,c,f,p,v){var O;const[P,U,j]=this.client.options.useBinaryProtocol?(this.client._MsgPack||ut("MsgPack"),[this.client._MsgPack.encode,this.client._MsgPack.decode,"msgpack"]):[JSON.stringify,JSON.parse,"json"],J=this.client.http.supportsLinkHeaders?void 0:j;f=f||{};const Q=i.toLowerCase(),te=Q=="get"?he.defaultGetHeaders(this.client.options,{format:j,protocolVersion:c}):he.defaultPostHeaders(this.client.options,{format:j,protocolVersion:c});typeof p!="string"&&(p=(O=P(p))!=null?O:null),$(te,this.client.options.headers),v&&$(te,v);const q=new ar(this.client,a,te,J,async function(re,se,ue){return B(ue?re:U(re))},!0);if(!C.Http.methods.includes(Q))throw new N("Unsupported method "+Q,40500,405);return C.Http.methodsWithBody.includes(Q)?q[Q](f,p):q[Q](f)}async batchPublish(i){let a,c;Array.isArray(i)?(a=i,c=!1):(a=[i],c=!0);const f=this.client.options.useBinaryProtocol?"msgpack":"json",p=he.defaultPostHeaders(this.client.options,{format:f});this.client.options.headers&&$(p,this.client.options.headers);const v=nn(a,this.client._MsgPack,f),O=await tt.post(this.client,"/messages",v,p,{},null,!0),P=O.unpacked?O.body:At(O.body,this.client._MsgPack,f);return c?P[0]:P}async batchPresence(i){const a=this.client.options.useBinaryProtocol?"msgpack":"json",c=he.defaultPostHeaders(this.client.options,{format:a});this.client.options.headers&&$(c,this.client.options.headers);const f=i.join(","),p=await tt.get(this.client,"/presence",c,{channels:f},null,!0);return p.unpacked?p.body:At(p.body,this.client._MsgPack,a)}async revokeTokens(i,a){if(tv(this.client.options))throw new N("Cannot revoke tokens when using token auth",40162,401);const c=this.client.options.keyName;let f=a??{};const p=b({targets:i.map(j=>`${j.type}:${j.value}`)},f),v=this.client.options.useBinaryProtocol?"msgpack":"json",O=he.defaultPostHeaders(this.client.options,{format:v});this.client.options.headers&&$(O,this.client.options.headers);const P=nn(p,this.client._MsgPack,v),U=await tt.post(this.client,`/keys/${c}/revokeTokens`,P,O,{},null,!0);return U.unpacked?U.body:At(U.body,this.client._MsgPack,v)}},nO=class{constructor(i){this.client=i,this.all=Object.create(null)}get(i,a){i=String(i);let c=this.all[i];return c?a&&c.setOptions(a):this.all[i]=c=new Y_(this.client,i,a),c}release(i){delete this.all[String(i)]}},rO=class extends uv{constructor(i){super(he.objectifyOptions(i,!1,"BaseRest",y.defaultLogger,{Rest:Cv}))}},Ev={Rest:Cv},Tv=class extends ns{static async fromEncoded(i,a){return wv(y.defaultLogger,C.Crypto,i,a)}static async fromEncodedArray(i,a){return V_(y.defaultLogger,C.Crypto,i,a)}static fromValues(i){return ns.fromValues(i)}},Rv=class extends ts{static async fromEncoded(i,a){return gv(y.defaultLogger,C.Crypto,i,a)}static async fromEncodedArray(i,a){return $_(y.defaultLogger,C.Crypto,i,a)}static fromValues(i){return ts.fromValues(i)}},kv=["annotation.create","annotation.delete"];async function _v(i,a,c){return zo.fromValues(a).decode(c||{},i)}async function sO(i,a,c){return Promise.all(a.map(function(f){return _v(i,f,c)}))}async function oO(i,a){return zo.fromValues(i).decode(a.channelOptions,a.logger)}async function iO(i,a){return Promise.all(i.map(function(c){return oO(c,a)}))}var Ov=class Ng extends Fo{async encode(){const a=Object.assign(new zo,this,{action:kv.indexOf(this.action||"annotation.create")});return Nf(a,{})}static fromValues(a){return Object.assign(new Ng,a)}static fromValuesArray(a){return a.map(c=>Ng.fromValues(c))}toString(){return $o(this,"Annotation")}},zo=class Mg extends Fo{toJSON(...a){return Lf.call(this,...a)}static fromValues(a){return Object.assign(new Mg,a)}static fromValuesArray(a){return a.map(c=>Mg.fromValues(c))}async decode(a,c){const f=Object.assign(new Ov,R(b({},this),{action:kv[this.action]}));try{await Mf(f,a)}catch(p){y.logAction(c,y.LOG_ERROR,"WireAnnotation.decode()",Ee(p))}return f}toString(){return $o(this,"WireAnnotation")}},ga=Ov,Av=class extends ga{static async fromEncoded(i,a){return _v(y.defaultLogger,i,a)}static async fromEncodedArray(i,a){return sO(y.defaultLogger,i,a)}static fromValues(i){return ga.fromValues(i)}};function Pv(i){let a;switch(typeof i){case"string":a=i;break;case"object":a=i.serial;break}if(!a||typeof a!="string")throw new N("First argument of annotations.publish() must be either a Message (or at least an object with a string `serial` property) or a message serial (string)",40003,400);return a}function Iv(i,a){const c=Pv(i);if(!a||typeof a!="object")throw new N("Second argument of annotations.publish() must be an object (the intended annotation to publish)",40003,400);const f=ga.fromValues(a);return f.messageSerial=c,f.action||(f.action="annotation.create"),f}function Nv(i,a){return i.client.rest.channelMixin.basePath(i)+"/messages/"+encodeURIComponent(a)+"/annotations"}var aO=class{constructor(i){this.channel=i}async publish(i,a){const c=Iv(i,a),f=await c.encode(),p=this.channel.client,v=p.options,O=v.useBinaryProtocol?"msgpack":"json",P=he.defaultPostHeaders(p.options,{format:O}),U={};$(P,p.options.headers);const j=nn([f],p._MsgPack,O);await tt.post(p,Nv(this.channel,c.messageSerial),j,P,U,null,!0)}async delete(i,a){return a.action="annotation.delete",this.publish(i,a)}async get(i,a){const c=this.channel.client,f=Pv(i),p=c.options.useBinaryProtocol?"msgpack":"json",v=c.http.supportsLinkHeaders?void 0:p,O=he.defaultGetHeaders(c.options,{format:p});return $(O,c.options.headers),new ar(c,Nv(this.channel,f),O,v,async(P,U,j)=>{const J=j?P:At(P,c._MsgPack,p);return iO(J,this.channel)}).get(a)}},jf=aO,lO=nn;function Ec(i){const a=[];if(i)for(let c=0;c<i.length;c++)a.push(i[c].toString());return"[ "+a.join(", ")+" ]"}function cO(i,a,c,f,p,v){const O=At(i,a,v);return Uf(O,c,f,p)}function Uf(i,a,c,f){let p;i.error&&(p=N.fromValues(i.error));let v;i.messages&&(v=pa.fromValuesArray(i.messages));let O;a&&i.presence&&(O=a.WirePresenceMessage.fromValuesArray(i.presence));let P;c&&i.annotations&&(P=c.WireAnnotation.fromValuesArray(i.annotations));let U;return f&&i.state&&(U=f.WireObjectMessage.fromValuesArray(i.state,V,Sc)),Object.assign(new Ff,R(b({},i),{presence:O,messages:v,annotations:P,state:U,error:p}))}function Mv(i){return a=>{var c;return Uf(a,{WirePresenceMessage:ha},{WireAnnotation:zo},(c=i==null?void 0:i.ObjectsPlugin)!=null?c:null)}}function rn(i){return Object.assign(new Ff,i)}function $f(i,a,c,f){let p="[ProtocolMessage";i.action!==void 0&&(p+="; action="+nv[i.action]||i.action);const v=["id","channel","channelSerial","connectionId","count","msgSerial","timestamp"];let O;for(let P=0;P<v.length;P++)O=v[P],i[O]!==void 0&&(p+="; "+O+"="+i[O]);if(i.messages&&(p+="; messages="+Ec(pa.fromValuesArray(i.messages))),i.presence&&a&&(p+="; presence="+Ec(a.WirePresenceMessage.fromValuesArray(i.presence))),i.annotations&&c&&(p+="; annotations="+Ec(c.WireAnnotation.fromValuesArray(i.annotations))),i.state&&f&&(p+="; state="+Ec(f.WireObjectMessage.fromValuesArray(i.state,V,Sc))),i.error&&(p+="; error="+N.fromValues(i.error).toString()),i.auth&&i.auth.accessToken&&(p+="; token="+i.auth.accessToken),i.flags&&(p+="; flags="+S_.filter(i.hasFlag).join(",")),i.params){let P="";Ws(i.params,function(U){P.length>0&&(P+="; "),P+=U+"="+i.params[U]}),P.length>0&&(p+="; params=["+P+"]")}return p+="]",p}var Ff=class{constructor(){this.hasFlag=i=>(this.flags&Vt[i])>0}setFlag(i){return this.flags=this.flags|Vt[i]}getMode(){return(this.flags||0)&Vt.MODE_ALL}encodeModesToFlags(i){i.forEach(a=>this.setFlag(a))}decodeModesFromFlags(){const i=[];return rv.forEach(a=>{this.hasFlag(a)&&i.push(a)}),i.length>0?i:void 0}},uO=Ff,dO=class{constructor(i,a,c,f,p){this.previous=i,this.current=a,a==="attached"&&(this.resumed=c,this.hasBacklog=f),p&&(this.reason=p)}},Bf=dO,Lv=function(){};function fO(i){if(i&&"params"in i&&!ee(i.params))return new N("options.params must be an object",4e4,400);if(i&&"modes"in i){if(!Array.isArray(i.modes))return new N("options.modes must be an array",4e4,400);for(let a=0;a<i.modes.length;a++){const c=i.modes[a];if(!c||typeof c!="string"||!rv.includes(String.prototype.toUpperCase.call(c)))return new N("Invalid channel mode: "+c,4e4,400)}}}var hO=class Lg extends dt{constructor(a,c,f){var p,v,O;super(a.logger),this._annotations=null,this._mode=0,this.retryCount=0,this.history=async function(P){y.logAction(this.logger,y.LOG_MICRO,"RealtimeChannel.history()","channel = "+this.name);const U=this.client.rest.channelMixin;if(P&&P.untilAttach){if(this.state!=="attached")throw new N("option untilAttach requires the channel to be attached",4e4,400);if(!this.properties.attachSerial)throw new N("untilAttach was specified and channel is attached, but attachSerial is not defined",4e4,400);delete P.untilAttach,P.from_serial=this.properties.attachSerial}return U.history(this,P)},this.whenState=P=>dt.prototype.whenState.call(this,P,this.state),y.logAction(this.logger,y.LOG_MINOR,"RealtimeChannel()","started; name = "+c),this.name=c,this.channelOptions=vc((p=a._Crypto)!=null?p:null,this.logger,f),this.client=a,this._presence=a._RealtimePresence?new a._RealtimePresence.RealtimePresence(this):null,a._Annotations&&(this._annotations=new a._Annotations.RealtimeAnnotations(this)),this.connectionManager=a.connection.connectionManager,this.state="initialized",this.subscriptions=new dt(this.logger),this.syncChannelSerial=void 0,this.properties={attachSerial:void 0,channelSerial:void 0},this.setOptions(f),this.errorReason=null,this._attachResume=!1,this._decodingContext={channelOptions:this.channelOptions,plugins:a.options.plugins||{},baseEncodedPreviousPayload:void 0},this._lastPayload={messageId:null,protocolMessageChannelSerial:null,decodeFailureRecoveryInProgress:null},this._allChannelChanges=new dt(this.logger),(v=a.options.plugins)!=null&&v.Push&&(this._push=new a.options.plugins.Push.PushChannel(this)),(O=a.options.plugins)!=null&&O.Objects&&(this._objects=new a.options.plugins.Objects.Objects(this))}get presence(){return this._presence||ut("RealtimePresence"),this._presence}get annotations(){return this._annotations||ut("Annotations"),this._annotations}get push(){return this._push||ut("Push"),this._push}get objects(){return this._objects||ut("Objects"),this._objects}invalidStateError(){return new N("Channel operation failed as channel state is "+this.state,90001,400,this.errorReason||void 0)}static processListenerArgs(a){return a=Array.prototype.slice.call(a),typeof a[0]=="function"&&a.unshift(null),a}async setOptions(a){var c;const f=this.channelOptions,p=fO(a);if(p)throw p;if(this.channelOptions=vc((c=this.client._Crypto)!=null?c:null,this.logger,a),this._decodingContext&&(this._decodingContext.channelOptions=this.channelOptions),this._shouldReattachToSetOptions(a,f))return this.attachImpl(),new Promise((v,O)=>{this._allChannelChanges.once(["attached","update","detached","failed"],function(P){switch(this.event){case"update":case"attached":v();break;default:O(P.reason)}})})}_shouldReattachToSetOptions(a,c){if(!(this.state==="attached"||this.state==="attaching"))return!1;if(a!=null&&a.params){const f=Dv(a.params),p=Dv(c.params);if(Object.keys(f).length!==Object.keys(p).length||!Pr(p,f))return!0}return!!(a!=null&&a.modes&&(!c.modes||!fa(a.modes,c.modes)))}async publish(...a){let c;if(a.length==1)if(ee(a[0]))c=[ns.fromValues(a[0])];else if(Array.isArray(a[0]))c=ns.fromValuesArray(a[0]);else throw new N("The single-argument form of publish() expects a message object or an array of message objects",40013,400);else c=[ns.fromValues({name:a[0],data:a[1]})];const p=this.client.options.maxMessageSize,v=await bv(c,this.channelOptions),O=Df(v);if(O>p)throw new N(`Maximum size of messages that can be published at once exceeded (was ${O} bytes; limit is ${p} bytes)`,40009,400);this.throwIfUnpublishableState(),y.logAction(this.logger,y.LOG_MICRO,"RealtimeChannel.publish()","sending message; channel state is "+this.state+", message count = "+v.length);const P=rn({action:ce.MESSAGE,channel:this.name,messages:v});return this.sendMessage(P)}throwIfUnpublishableState(){if(!this.connectionManager.activeState())throw this.connectionManager.getError();if(this.state==="failed"||this.state==="suspended")throw this.invalidStateError()}onEvent(a){y.logAction(this.logger,y.LOG_MICRO,"RealtimeChannel.onEvent()","received message");const c=this.subscriptions;for(let f=0;f<a.length;f++){const p=a[f];c.emit(p.name,p)}}async attach(){return this.state==="attached"?null:new Promise((a,c)=>{this._attach(!1,null,(f,p)=>f?c(f):a(p))})}_attach(a,c,f){f||(f=v=>{v&&y.logAction(this.logger,y.LOG_ERROR,"RealtimeChannel._attach()","Channel attach failed: "+v.toString())});const p=this.connectionManager;if(!p.activeState()){f(p.getError());return}(this.state!=="attaching"||a)&&this.requestState("attaching",c),this.once(function(v){switch(this.event){case"attached":f==null||f(null,v);break;case"detached":case"suspended":case"failed":f==null||f(v.reason||p.getError()||new N("Unable to attach; reason unknown; state = "+this.event,9e4,500));break;case"detaching":f==null||f(new N("Attach request superseded by a subsequent detach request",9e4,409));break}})}attachImpl(){y.logAction(this.logger,y.LOG_MICRO,"RealtimeChannel.attachImpl()","sending ATTACH message");const a=rn({action:ce.ATTACH,channel:this.name,params:this.channelOptions.params,channelSerial:this.properties.channelSerial});this.channelOptions.modes&&a.encodeModesToFlags(mc(this.channelOptions.modes)),this._attachResume&&a.setFlag("ATTACH_RESUME"),this._lastPayload.decodeFailureRecoveryInProgress&&(a.channelSerial=this._lastPayload.protocolMessageChannelSerial),this.sendMessage(a).catch(Lv)}async detach(){const a=this.connectionManager;if(!a.activeState())throw a.getError();switch(this.state){case"suspended":this.notifyState("detached");return;case"detached":return;case"failed":throw new N("Unable to detach; channel state = failed",90001,400);default:this.requestState("detaching");case"detaching":return new Promise((c,f)=>{this.once(function(p){switch(this.event){case"detached":c();break;case"attached":case"suspended":case"failed":f(p.reason||a.getError()||new N("Unable to detach; reason unknown; state = "+this.event,9e4,500));break;case"attaching":f(new N("Detach request superseded by a subsequent attach request",9e4,409));break}})})}}detachImpl(){y.logAction(this.logger,y.LOG_MICRO,"RealtimeChannel.detach()","sending DETACH message");const a=rn({action:ce.DETACH,channel:this.name});this.sendMessage(a).catch(Lv)}async subscribe(...a){const[c,f]=Lg.processListenerArgs(a);if(this.state==="failed")throw N.fromValues(this.invalidStateError());return c&&typeof c=="object"&&!Array.isArray(c)?this.client._FilteredSubscriptions.subscribeFilter(this,c,f):this.subscriptions.on(c,f),this.channelOptions.attachOnSubscribe!==!1?this.attach():null}unsubscribe(...a){var c;const[f,p]=Lg.processListenerArgs(a);if(typeof f=="object"&&!p||(c=this.filteredSubscriptions)!=null&&c.has(p)){this.client._FilteredSubscriptions.getAndDeleteFilteredSubscriptions(this,f,p).forEach(v=>this.subscriptions.off(v));return}this.subscriptions.off(f,p)}sync(){switch(this.state){case"initialized":case"detaching":case"detached":throw new oe("Unable to sync to channel; not attached",4e4)}const a=this.connectionManager;if(!a.activeState())throw a.getError();const c=rn({action:ce.SYNC,channel:this.name});this.syncChannelSerial&&(c.channelSerial=this.syncChannelSerial),a.send(c)}async sendMessage(a){return new Promise((c,f)=>{this.connectionManager.send(a,this.client.options.queueMessages,p=>{p?f(p):c()})})}async sendPresence(a){const c=rn({action:ce.PRESENCE,channel:this.name,presence:a});return this.sendMessage(c)}sendState(a){const c=rn({action:ce.OBJECT,channel:this.name,state:a});return this.sendMessage(c)}async processMessage(a){(a.action===ce.ATTACHED||a.action===ce.MESSAGE||a.action===ce.PRESENCE||a.action===ce.OBJECT||a.action===ce.ANNOTATION)&&this.setChannelSerial(a.channelSerial);let c,f=!1;switch(a.action){case ce.ATTACHED:{this.properties.attachSerial=a.channelSerial,this._mode=a.getMode(),this.params=a.params||{};const p=a.decodeModesFromFlags();this.modes=p&&es(p)||void 0;const v=a.hasFlag("RESUMED"),O=a.hasFlag("HAS_PRESENCE"),P=a.hasFlag("HAS_BACKLOG"),U=a.hasFlag("HAS_OBJECTS");if(this.state==="attached"){v||(this._presence&&this._presence.onAttached(O),this._objects&&this._objects.onAttached(U));const j=new Bf(this.state,this.state,v,P,a.error);this._allChannelChanges.emit("update",j),(!v||this.channelOptions.updateOnAttached)&&this.emit("update",j)}else this.state==="detaching"?this.checkPendingState():this.notifyState("attached",a.error,v,O,P,U);break}case ce.DETACHED:{const p=a.error?N.fromValues(a.error):new N("Channel detached",90001,404);this.state==="detaching"?this.notifyState("detached",p):this.state==="attaching"?this.notifyState("suspended",p):(this.state==="attached"||this.state==="suspended")&&this.requestState("attaching",p);break}case ce.SYNC:if(f=!0,c=this.syncChannelSerial=a.channelSerial,!a.presence)break;case ce.PRESENCE:{if(!a.presence)break;xc(a);const p=this.channelOptions;if(this._presence){const v=await Promise.all(a.presence.map(O=>O.decode(p,this.logger)));this._presence.setPresence(v,f,c)}break}case ce.OBJECT:case ce.OBJECT_SYNC:{if(!this._objects||!a.state)return;xc(a);const p=this.client.connection.connectionManager.getActiveTransportFormat(),v=a.state.map(O=>O.decode(this.client,p));a.action===ce.OBJECT?this._objects.handleObjectMessages(v):this._objects.handleObjectSyncMessages(v,a.channelSerial);break}case ce.MESSAGE:{if(this.state!=="attached"){y.logAction(this.logger,y.LOG_MAJOR,"RealtimeChannel.processMessage()",'Message "'+a.id+'" skipped as this channel "'+this.name+'" state is not "attached" (state is "'+this.state+'").');return}xc(a);const p=a.messages,v=p[0],O=p[p.length-1];if(v.extras&&v.extras.delta&&v.extras.delta.from!==this._lastPayload.messageId){const U='Delta message decode failure - previous message not available for message "'+a.id+'" on this channel "'+this.name+'".';y.logAction(this.logger,y.LOG_ERROR,"RealtimeChannel.processMessage()",U),this._startDecodeFailureRecovery(new N(U,40018,400));break}let P=[];for(let U=0;U<p.length;U++){const{decoded:j,err:J}=await p[U].decodeWithErr(this._decodingContext,this.logger);if(P[U]=j,J)switch(J.code){case 40018:this._startDecodeFailureRecovery(J);return;case 40019:case 40021:this.notifyState("failed",J);return}}this._lastPayload.messageId=O.id,this._lastPayload.protocolMessageChannelSerial=a.channelSerial,this.onEvent(P);break}case ce.ANNOTATION:{xc(a);const p=this.channelOptions;if(this._annotations){const v=await Promise.all((a.annotations||[]).map(O=>O.decode(p,this.logger)));this._annotations._processIncoming(v)}break}case ce.ERROR:{const p=a.error;p&&p.code==80016?this.checkPendingState():this.notifyState("failed",N.fromValues(p));break}default:y.logAction(this.logger,y.LOG_MAJOR,"RealtimeChannel.processMessage()","Protocol error: unrecognised message action ("+a.action+")")}}_startDecodeFailureRecovery(a){this._lastPayload.decodeFailureRecoveryInProgress||(y.logAction(this.logger,y.LOG_MAJOR,"RealtimeChannel.processMessage()","Starting decode failure recovery process."),this._lastPayload.decodeFailureRecoveryInProgress=!0,this._attach(!0,a,()=>{this._lastPayload.decodeFailureRecoveryInProgress=!1}))}onAttached(){y.logAction(this.logger,y.LOG_MINOR,"RealtimeChannel.onAttached","activating channel; name = "+this.name)}notifyState(a,c,f,p,v,O){if(y.logAction(this.logger,y.LOG_MICRO,"RealtimeChannel.notifyState","name = "+this.name+", current state = "+this.state+", notifying state "+a),this.clearStateTimer(),["detached","suspended","failed"].includes(a)&&(this.properties.channelSerial=null),a===this.state)return;this._presence&&this._presence.actOnChannelState(a,p,c),this._objects&&this._objects.actOnChannelState(a,O),a==="suspended"&&this.connectionManager.state.sendEvents?this.startRetryTimer():this.cancelRetryTimer(),c&&(this.errorReason=c);const P=new Bf(this.state,a,f,v,c),U='Channel state for channel "'+this.name+'"',j=a+(c?"; reason: "+c:"");a==="failed"?y.logAction(this.logger,y.LOG_ERROR,U,j):y.logAction(this.logger,y.LOG_MAJOR,U,j),a!=="attaching"&&a!=="suspended"&&(this.retryCount=0),a==="attached"&&this.onAttached(),a==="attached"?this._attachResume=!0:(a==="detaching"||a==="failed")&&(this._attachResume=!1),this.state=a,this._allChannelChanges.emit(a,P),this.emit(a,P)}requestState(a,c){y.logAction(this.logger,y.LOG_MINOR,"RealtimeChannel.requestState","name = "+this.name+", state = "+a),this.notifyState(a,c),this.checkPendingState()}checkPendingState(){if(!this.connectionManager.state.sendEvents){y.logAction(this.logger,y.LOG_MINOR,"RealtimeChannel.checkPendingState","sendEvents is false; state is "+this.connectionManager.state.state);return}switch(y.logAction(this.logger,y.LOG_MINOR,"RealtimeChannel.checkPendingState","name = "+this.name+", state = "+this.state),this.state){case"attaching":this.startStateTimerIfNotRunning(),this.attachImpl();break;case"detaching":this.startStateTimerIfNotRunning(),this.detachImpl();break;case"attached":this.sync();break}}timeoutPendingState(){switch(this.state){case"attaching":{const a=new N("Channel attach timed out",90007,408);this.notifyState("suspended",a);break}case"detaching":{const a=new N("Channel detach timed out",90007,408);this.notifyState("attached",a);break}default:this.checkPendingState();break}}startStateTimerIfNotRunning(){this.stateTimer||(this.stateTimer=setTimeout(()=>{y.logAction(this.logger,y.LOG_MINOR,"RealtimeChannel.startStateTimerIfNotRunning","timer expired"),this.stateTimer=null,this.timeoutPendingState()},this.client.options.timeouts.realtimeRequestTimeout))}clearStateTimer(){const a=this.stateTimer;a&&(clearTimeout(a),this.stateTimer=null)}startRetryTimer(){if(this.retryTimer)return;this.retryCount++;const a=sr(this.client.options.timeouts.channelRetryTimeout,this.retryCount);this.retryTimer=setTimeout(()=>{this.state==="suspended"&&this.connectionManager.state.sendEvents&&(this.retryTimer=null,y.logAction(this.logger,y.LOG_MINOR,"RealtimeChannel retry timer expired","attempting a new attach"),this.requestState("attaching"))},a)}cancelRetryTimer(){this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=null)}getReleaseErr(){const a=this.state;return a==="initialized"||a==="detached"||a==="failed"?null:new N("Can only release a channel in a state where there is no possibility of further updates from the server being received (initialized, detached, or failed); was "+a,90001,400)}setChannelSerial(a){y.logAction(this.logger,y.LOG_MICRO,"RealtimeChannel.setChannelSerial()","Updating channel serial; serial = "+a+"; previous = "+this.properties.channelSerial),a&&(this.properties.channelSerial=a)}async status(){return this.client.rest.channelMixin.status(this)}};function Dv(i){const a=i||{},{agent:c}=a;return x(a,["agent"])}var ma=hO,pO=class{constructor(i){this.channel=i,this.logger=i.logger,this.subscriptions=new dt(this.logger)}async publish(i,a){const c=this.channel.name,f=Iv(i,a),p=await f.encode();this.channel.throwIfUnpublishableState(),y.logAction(this.logger,y.LOG_MICRO,"RealtimeAnnotations.publish()","channelName = "+c+", sending annotation with messageSerial = "+f.messageSerial+", type = "+f.type);const v=rn({action:ce.ANNOTATION,channel:c,annotations:[p]});return this.channel.sendMessage(v)}async delete(i,a){return a.action="annotation.delete",this.publish(i,a)}async subscribe(...i){const a=ma.processListenerArgs(i),c=a[0],f=a[1],p=this.channel;if(p.state==="failed")throw N.fromValues(p.invalidStateError());if(this.subscriptions.on(c,f),this.channel.channelOptions.attachOnSubscribe!==!1&&await p.attach(),(this.channel.state==="attached"&&this.channel._mode&Vt.ANNOTATION_SUBSCRIBE)===0)throw new N("You are trying to add an annotation listener, but you haven't requested the annotation_subscribe channel mode in ChannelOptions, so this won't do anything (we only deliver annotations to clients who have explicitly requested them)",93001,400)}unsubscribe(...i){const a=ma.processListenerArgs(i),c=a[0],f=a[1];this.subscriptions.off(c,f)}_processIncoming(i){for(const a of i)this.subscriptions.emit(a.type||"",a)}async get(i,a){return jf.prototype.get.call(this,i,a)}},jv=pO,Ks=class Au extends rO{constructor(a){var c,f;if(!Au._MsgPack)throw new Error("Expected DefaultRest._MsgPack to have been set");super(he.objectifyOptions(a,!0,"Rest",y.defaultLogger,R(b({},Ev),{Crypto:(c=Au.Crypto)!=null?c:void 0,MsgPack:(f=Au._MsgPack)!=null?f:void 0,Annotations:{Annotation:ga,WireAnnotation:zo,RealtimeAnnotations:jv,RestAnnotations:jf}})))}static get Crypto(){if(this._Crypto===null)throw new Error("Encryption not enabled; use ably.encryption.js instead");return this._Crypto}static set Crypto(a){this._Crypto=a}};Ks._Crypto=null,Ks.Message=Tv,Ks.PresenceMessage=Rv,Ks.Annotation=Av,Ks._MsgPack=null,Ks._Http=Pf;var zf=Ks,gO=class extends dt{constructor(i){super(i),this.messages=[]}count(){return this.messages.length}push(i){this.messages.push(i)}shift(){return this.messages.shift()}last(){return this.messages[this.messages.length-1]}copyAll(){return this.messages.slice()}append(i){this.messages.push.apply(this.messages,i)}prepend(i){this.messages.unshift.apply(this.messages,i)}completeMessages(i,a,c){y.logAction(this.logger,y.LOG_MICRO,"MessageQueue.completeMessages()","serial = "+i+"; count = "+a),c=c||null;const f=this.messages;if(f.length===0)throw new Error("MessageQueue.completeMessages(): completeMessages called on any empty MessageQueue");const p=f[0];if(p){const v=p.message.msgSerial,O=i+a;if(O>v){const P=f.splice(0,O-v);for(const U of P)U.callback(c)}f.length==0&&this.emit("idle")}}completeAllMessages(i){this.completeMessages(0,Number.MAX_SAFE_INTEGER||Number.MAX_VALUE,i)}resetSendAttempted(){for(let i of this.messages)i.sendAttempted=!1}clear(){y.logAction(this.logger,y.LOG_MICRO,"MessageQueue.clear()","clearing "+this.messages.length+" messages"),this.messages=[],this.emit("idle")}},Uv=gO,$v=class{constructor(i,a){this.message=i,this.callback=a,this.merged=!1;const c=i.action;this.sendAttempted=!1,this.ackRequired=typeof c=="number"&&[ce.MESSAGE,ce.PRESENCE,ce.ANNOTATION,ce.OBJECT].includes(c)}},mO=class extends dt{constructor(i){super(i.logger),this.transport=i,this.messageQueue=new Uv(this.logger),i.on("ack",(a,c)=>{this.onAck(a,c)}),i.on("nack",(a,c,f)=>{this.onNack(a,c,f)})}onAck(i,a){y.logAction(this.logger,y.LOG_MICRO,"Protocol.onAck()","serial = "+i+"; count = "+a),this.messageQueue.completeMessages(i,a)}onNack(i,a,c){y.logAction(this.logger,y.LOG_ERROR,"Protocol.onNack()","serial = "+i+"; count = "+a+"; err = "+Ee(c)),c||(c=new N("Unable to send message; channel not responding",50001,500)),this.messageQueue.completeMessages(i,a,c)}onceIdle(i){const a=this.messageQueue;if(a.count()===0){i();return}a.once("idle",i)}send(i){i.ackRequired&&this.messageQueue.push(i),this.logger.shouldLog(y.LOG_MICRO)&&y.logActionNoStrip(this.logger,y.LOG_MICRO,"Protocol.send()","sending msg; "+$f(i.message,this.transport.connectionManager.realtime._RealtimePresence,this.transport.connectionManager.realtime._Annotations,this.transport.connectionManager.realtime._objectsPlugin)),i.sendAttempted=!0,this.transport.send(i.message)}getTransport(){return this.transport}getPendingMessages(){return this.messageQueue.copyAll()}clearPendingMessages(){return this.messageQueue.clear()}finish(){const i=this.transport;this.onceIdle(function(){i.disconnect()})}},yO=mO,vO=class{constructor(i,a,c,f){this.previous=i,this.current=a,c&&(this.retryIn=c),f&&(this.reason=f)}},Tc=vO,rs={DISCONNECTED:80003,SUSPENDED:80002,FAILED:8e4,CLOSING:80017,CLOSED:80017,UNKNOWN_CONNECTION_ERR:50002,UNKNOWN_CHANNEL_ERR:50001},wO={disconnected:()=>N.fromValues({statusCode:400,code:rs.DISCONNECTED,message:"Connection to server temporarily unavailable"}),suspended:()=>N.fromValues({statusCode:400,code:rs.SUSPENDED,message:"Connection to server unavailable"}),failed:()=>N.fromValues({statusCode:400,code:rs.FAILED,message:"Connection failed or disconnected by server"}),closing:()=>N.fromValues({statusCode:400,code:rs.CLOSING,message:"Connection closing"}),closed:()=>N.fromValues({statusCode:400,code:rs.CLOSED,message:"Connection closed"}),unknownConnectionErr:()=>N.fromValues({statusCode:500,code:rs.UNKNOWN_CONNECTION_ERR,message:"Internal connection error"}),unknownChannelErr:()=>N.fromValues({statusCode:500,code:rs.UNKNOWN_CONNECTION_ERR,message:"Internal channel error"})};function bO(i){return!i.statusCode||!i.code||i.statusCode>=500?!0:Object.values(rs).includes(i.code)}var Qs=wO,SO=rn({action:ce.CLOSE}),xO=rn({action:ce.DISCONNECT}),CO=class extends dt{constructor(i,a,c,f){super(i.logger),f&&(c.format=void 0,c.heartbeats=!0),this.connectionManager=i,this.auth=a,this.params=c,this.timeouts=c.options.timeouts,this.format=c.format,this.isConnected=!1,this.isFinished=!1,this.isDisposed=!1,this.maxIdleInterval=null,this.idleTimer=null,this.lastActivity=null}connect(){}close(){this.isConnected&&this.requestClose(),this.finish("closed",Qs.closed())}disconnect(i){this.isConnected&&this.requestDisconnect(),this.finish("disconnected",i||Qs.disconnected())}fail(i){this.isConnected&&this.requestDisconnect(),this.finish("failed",i||Qs.failed())}finish(i,a){var c;this.isFinished||(this.isFinished=!0,this.isConnected=!1,this.maxIdleInterval=null,clearTimeout((c=this.idleTimer)!=null?c:void 0),this.idleTimer=null,this.emit(i,a),this.dispose())}onProtocolMessage(i){switch(this.logger.shouldLog(y.LOG_MICRO)&&y.logActionNoStrip(this.logger,y.LOG_MICRO,"Transport.onProtocolMessage()","received on "+this.shortName+": "+$f(i,this.connectionManager.realtime._RealtimePresence,this.connectionManager.realtime._Annotations,this.connectionManager.realtime._objectsPlugin)+"; connectionId = "+this.connectionManager.connectionId),this.onActivity(),i.action){case ce.HEARTBEAT:y.logActionNoStrip(this.logger,y.LOG_MICRO,"Transport.onProtocolMessage()",this.shortName+" heartbeat; connectionId = "+this.connectionManager.connectionId),this.emit("heartbeat",i.id);break;case ce.CONNECTED:this.onConnect(i),this.emit("connected",i.error,i.connectionId,i.connectionDetails,i);break;case ce.CLOSED:this.onClose(i);break;case ce.DISCONNECTED:this.onDisconnect(i);break;case ce.ACK:this.emit("ack",i.msgSerial,i.count);break;case ce.NACK:this.emit("nack",i.msgSerial,i.count,i.error);break;case ce.SYNC:this.connectionManager.onChannelMessage(i,this);break;case ce.ACTIVATE:break;case ce.AUTH:Ye(this.auth.authorize(),a=>{a&&y.logAction(this.logger,y.LOG_ERROR,"Transport.onProtocolMessage()","Ably requested re-authentication, but unable to obtain a new token: "+Ee(a))});break;case ce.ERROR:if(y.logAction(this.logger,y.LOG_MINOR,"Transport.onProtocolMessage()","received error action; connectionId = "+this.connectionManager.connectionId+"; err = "+C.Config.inspect(i.error)+(i.channel?", channel: "+i.channel:"")),i.channel===void 0){this.onFatalError(i);break}this.connectionManager.onChannelMessage(i,this);break;default:this.connectionManager.onChannelMessage(i,this)}}onConnect(i){if(this.isConnected=!0,!i.connectionDetails)throw new Error("Transport.onConnect(): Connect message recieved without connectionDetails");const a=i.connectionDetails.maxIdleInterval;a&&(this.maxIdleInterval=a+this.timeouts.realtimeRequestTimeout,this.onActivity())}onDisconnect(i){const a=i&&i.error;y.logAction(this.logger,y.LOG_MINOR,"Transport.onDisconnect()","err = "+Ee(a)),this.finish("disconnected",a)}onFatalError(i){const a=i&&i.error;y.logAction(this.logger,y.LOG_MINOR,"Transport.onFatalError()","err = "+Ee(a)),this.finish("failed",a)}onClose(i){const a=i&&i.error;y.logAction(this.logger,y.LOG_MINOR,"Transport.onClose()","err = "+Ee(a)),this.finish("closed",a)}requestClose(){y.logAction(this.logger,y.LOG_MINOR,"Transport.requestClose()",""),this.send(SO)}requestDisconnect(){y.logAction(this.logger,y.LOG_MINOR,"Transport.requestDisconnect()",""),this.send(xO)}ping(i){const a={action:ce.HEARTBEAT};i&&(a.id=i),this.send(rn(a))}dispose(){y.logAction(this.logger,y.LOG_MINOR,"Transport.dispose()",""),this.isDisposed=!0,this.off()}onActivity(){this.maxIdleInterval&&(this.lastActivity=this.connectionManager.lastActivity=Date.now(),this.setIdleTimer(this.maxIdleInterval+100))}setIdleTimer(i){this.idleTimer||(this.idleTimer=setTimeout(()=>{this.onIdleTimerExpire()},i))}onIdleTimerExpire(){if(!this.lastActivity||!this.maxIdleInterval)throw new Error("Transport.onIdleTimerExpire(): lastActivity/maxIdleInterval not set");this.idleTimer=null;const i=Date.now()-this.lastActivity,a=this.maxIdleInterval-i;if(a<=0){const c="No activity seen from realtime in "+i+"ms; assuming connection has dropped";y.logAction(this.logger,y.LOG_ERROR,"Transport.onIdleTimerExpire()",c),this.disconnect(new N(c,80003,408))}else this.setIdleTimer(a+100)}static tryConnect(i,a,c,f,p){const v=new i(a,c,f);let O;const P=function(j){clearTimeout(O),p({event:this.event,error:j})},U=a.options.timeouts.realtimeRequestTimeout;return O=setTimeout(()=>{v.off(["preconnect","disconnected","failed"]),v.dispose(),P.call({event:"disconnected"},new N("Timeout waiting for transport to indicate itself viable",5e4,500))},U),v.on(["failed","disconnected"],P),v.on("preconnect",function(){y.logAction(a.logger,y.LOG_MINOR,"Transport.tryConnect()","viable transport "+v),clearTimeout(O),v.off(["failed","disconnected"],P),p(null,v)}),v.connect(),v}static isAvailable(){throw new N("isAvailable not implemented for transport",5e4,500)}},Ho=CO,Gt;(i=>{i.WebSocket="web_socket",i.Comet="comet",i.XhrPolling="xhr_polling"})(Gt||(Gt={}));var EO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:self,Hf=()=>{var i;return typeof C.WebStorage<"u"&&((i=C.WebStorage)==null?void 0:i.localSupported)},ya=()=>{var i;return typeof C.WebStorage<"u"&&((i=C.WebStorage)==null?void 0:i.sessionSupported)},Fv=function(){},Wf="ably-transport-preference";function TO(i,a,c){let f;if(i.channel!==a.channel||(f=i.action)!==ce.PRESENCE&&f!==ce.MESSAGE||f!==a.action)return!1;const p=f===ce.PRESENCE?"presence":"messages",v=i[p].concat(a[p]);return Df(v)>c||!Po(v,"clientId")||!v.every(function(P){return!P.id})?!1:(i[p]=v,!0)}function Vf(i){try{return JSON.parse(i)}catch{return null}}var RO=class{constructor(i,a,c,f){this.options=i,this.host=a,this.mode=c,this.connectionKey=f,this.format=i.useBinaryProtocol?"msgpack":"json"}getConnectParams(i){const a=i?D(i):{},c=this.options;switch(this.mode){case"resume":a.resume=this.connectionKey;break;case"recover":{const f=Vf(c.recover);f&&(a.recover=f.connectionKey);break}}return c.clientId!==void 0&&(a.clientId=c.clientId),c.echoMessages===!1&&(a.echo="false"),this.format!==void 0&&(a.format=this.format),this.stream!==void 0&&(a.stream=this.stream),this.heartbeats!==void 0&&(a.heartbeats=this.heartbeats),a.v=he.protocolVersion,a.agent=kf(this.options),c.transportParams!==void 0&&$(a,c.transportParams),a}toString(){let i="[mode="+this.mode;return this.host&&(i+=",host="+this.host),this.connectionKey&&(i+=",connectionKey="+this.connectionKey),this.format&&(i+=",format="+this.format),i+="]",i}},kO=class XE extends dt{constructor(a,c){super(a.logger),this.supportedTransports={},this.disconnectedRetryCount=0,this.pendingChannelMessagesState={isProcessing:!1,queue:[]},this.realtime=a,this.initTransports(),this.options=c;const f=c.timeouts,p=f.webSocketConnectTimeout+f.realtimeRequestTimeout;if(this.states={initialized:{state:"initialized",terminal:!1,queueEvents:!0,sendEvents:!1,failState:"disconnected"},connecting:{state:"connecting",terminal:!1,queueEvents:!0,sendEvents:!1,retryDelay:p,failState:"disconnected"},connected:{state:"connected",terminal:!1,queueEvents:!1,sendEvents:!0,failState:"disconnected"},disconnected:{state:"disconnected",terminal:!1,queueEvents:!0,sendEvents:!1,retryDelay:f.disconnectedRetryTimeout,failState:"disconnected"},suspended:{state:"suspended",terminal:!1,queueEvents:!1,sendEvents:!1,retryDelay:f.suspendedRetryTimeout,failState:"suspended"},closing:{state:"closing",terminal:!1,queueEvents:!1,sendEvents:!1,retryDelay:f.realtimeRequestTimeout,failState:"closed"},closed:{state:"closed",terminal:!0,queueEvents:!1,sendEvents:!1,failState:"closed"},failed:{state:"failed",terminal:!0,queueEvents:!1,sendEvents:!1,failState:"failed"}},this.state=this.states.initialized,this.errorReason=null,this.queuedMessages=new Uv(this.logger),this.msgSerial=0,this.connectionDetails=void 0,this.connectionId=void 0,this.connectionKey=void 0,this.connectionStateTtl=f.connectionStateTtl,this.maxIdleInterval=null,this.transports=be(c.transports||he.defaultTransports,this.supportedTransports),this.transportPreference=null,this.transports.includes(Gt.WebSocket)&&(this.webSocketTransportAvailable=!0),this.transports.includes(Gt.XhrPolling)?this.baseTransport=Gt.XhrPolling:this.transports.includes(Gt.Comet)&&(this.baseTransport=Gt.Comet),this.domains=he.getHosts(c),this.activeProtocol=null,this.host=null,this.lastAutoReconnectAttempt=null,this.lastActivity=null,this.forceFallbackHost=!1,this.connectCounter=0,this.wsCheckResult=null,this.webSocketSlowTimer=null,this.webSocketGiveUpTimer=null,this.abandonedWebSocket=!1,y.logAction(this.logger,y.LOG_MINOR,"Realtime.ConnectionManager()","started"),y.logAction(this.logger,y.LOG_MICRO,"Realtime.ConnectionManager()","requested transports = ["+(c.transports||he.defaultTransports)+"]"),y.logAction(this.logger,y.LOG_MICRO,"Realtime.ConnectionManager()","available transports = ["+this.transports+"]"),y.logAction(this.logger,y.LOG_MICRO,"Realtime.ConnectionManager()","http domains = ["+this.domains+"]"),!this.transports.length){const O="no requested transports available";throw y.logAction(this.logger,y.LOG_ERROR,"realtime.ConnectionManager()",O),new Error(O)}const v=C.Config.addEventListener;v&&(ya()&&typeof c.recover=="function"&&v("beforeunload",this.persistConnection.bind(this)),c.closeOnUnload===!0&&v("beforeunload",()=>{y.logAction(this.logger,y.LOG_MAJOR,"Realtime.ConnectionManager()","beforeunload event has triggered the connection to close as closeOnUnload is true"),this.requestState({state:"closing"})}),v("online",()=>{var O;this.state==this.states.disconnected||this.state==this.states.suspended?(y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager caught browser online event","reattempting connection"),this.requestState({state:"connecting"})):this.state==this.states.connecting&&((O=this.pendingTransport)==null||O.off(),this.disconnectAllTransports(),this.startConnect())}),v("offline",()=>{this.state==this.states.connected&&(y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager caught browser offline event","disconnecting active transport"),this.disconnectAllTransports())}))}static supportedTransports(a){const c={supportedTransports:{}};return this.initTransports(a,c),c.supportedTransports}static initTransports(a,c){const f=b(b({},C.Transports.bundledImplementations),a);[Gt.WebSocket,...C.Transports.order].forEach(p=>{const v=f[p];v&&v.isAvailable()&&(c.supportedTransports[p]=v)})}initTransports(){XE.initTransports(this.realtime._additionalTransportImplementations,this)}createTransportParams(a,c){return new RO(this.options,a,c,this.connectionKey)}getTransportParams(a){(f=>{if(this.connectionKey){f("resume");return}if(typeof this.options.recover=="string"){f("recover");return}const p=this.options.recover,v=this.getSessionRecoverData(),O=this.sessionRecoveryName();if(v&&typeof p=="function"){y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.getTransportParams()","Calling clientOptions-provided recover function with last session data (recovery scope: "+O+")"),p(v,P=>{P?(this.options.recover=v.recoveryKey,f("recover")):f("clean")});return}f("clean")})(f=>{const p=this.createTransportParams(null,f);if(f==="recover"){y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.getTransportParams()","Transport recovery mode = recover; recoveryKey = "+this.options.recover);const v=Vf(this.options.recover);v&&(this.msgSerial=v.msgSerial)}else y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.getTransportParams()","Transport params = "+p.toString());a(p)})}tryATransport(a,c,f){y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.tryATransport()","trying "+c),this.proposedTransport=Ho.tryConnect(this.supportedTransports[c],this,this.realtime.auth,a,(p,v)=>{const O=this.state;if(O==this.states.closing||O==this.states.closed||O==this.states.failed){v&&(y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.tryATransport()","connection "+O.state+" while we were attempting the transport; closing "+v),v.close()),f(!0);return}if(p){y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.tryATransport()","transport "+c+" "+p.event+", err: "+p.error.toString()),Ir.isTokenErr(p.error)&&!(this.errorReason&&Ir.isTokenErr(this.errorReason))?(this.errorReason=p.error,Ye(this.realtime.auth._forceNewToken(null,null),P=>{if(P){this.actOnErrorFromAuthorize(P);return}this.tryATransport(a,c,f)})):p.event==="failed"?(this.notifyState({state:"failed",error:p.error}),f(!0)):p.event==="disconnected"&&(bO(p.error)?f(!1):(this.notifyState({state:this.states.connecting.failState,error:p.error}),f(!0)));return}y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.tryATransport()","viable transport "+c+"; setting pending"),this.setTransportPending(v,a),f(null,v)})}setTransportPending(a,c){const f=c.mode;y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.setTransportPending()","transport = "+a+"; mode = "+f),this.pendingTransport=a,this.cancelWebSocketSlowTimer(),this.cancelWebSocketGiveUpTimer(),a.once("connected",(v,O,P)=>{this.activateTransport(v,a,O,P),f==="recover"&&this.options.recover&&(delete this.options.recover,this.unpersistConnection())});const p=this;a.on(["disconnected","closed","failed"],function(v){p.deactivateTransport(a,this.event,v)}),this.emit("transport.pending",a)}activateTransport(a,c,f,p){y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.activateTransport()","transport = "+c),a&&y.logAction(this.logger,y.LOG_ERROR,"ConnectionManager.activateTransport()","error = "+a),f&&y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.activateTransport()","connectionId =  "+f),p&&y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.activateTransport()","connectionDetails =  "+JSON.stringify(p)),this.persistTransportPreference(c);const v=this.state,O=this.states.connected.state;if(y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.activateTransport()","current state = "+v.state),v.state==this.states.closing.state||v.state==this.states.closed.state||v.state==this.states.failed.state)return y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.activateTransport()","Disconnecting transport and abandoning"),c.disconnect(),!1;if(delete this.pendingTransport,!c.isConnected)return y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.activateTransport()","Declining to activate transport "+c+" since it appears to no longer be connected"),!1;const P=this.activeProtocol;this.activeProtocol=new yO(c),this.host=c.params.host;const U=p.connectionKey;if(U&&this.connectionKey!=U&&this.setConnection(f,p,!!a),this.onConnectionDetailsUpdate(p,c),C.Config.nextTick(()=>{c.on("connected",(j,J,Q)=>{this.onConnectionDetailsUpdate(Q,c),this.emit("update",new Tc(O,O,null,j))})}),v.state===this.states.connected.state?a&&(this.errorReason=this.realtime.connection.errorReason=a,this.emit("update",new Tc(O,O,null,a))):(this.notifyState({state:"connected",error:a}),this.errorReason=this.realtime.connection.errorReason=a||null),this.emit("transport.active",c),P)if(P.messageQueue.count()>0&&y.logAction(this.logger,y.LOG_ERROR,"ConnectionManager.activateTransport()","Previous active protocol (for transport "+P.transport.shortName+", new one is "+c.shortName+") finishing with "+P.messageQueue.count()+" messages still pending"),P.transport===c){const j="Assumption violated: activating a transport that was also the transport for the previous active protocol; transport = "+c.shortName+"; stack = "+new Error().stack;y.logAction(this.logger,y.LOG_ERROR,"ConnectionManager.activateTransport()",j)}else P.finish();return!0}deactivateTransport(a,c,f){const p=this.activeProtocol,v=p&&p.getTransport()===a,O=a===this.pendingTransport,P=this.noTransportsScheduledForActivation();if(y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.deactivateTransport()","transport = "+a),y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.deactivateTransport()","state = "+c+(v?"; was active":O?"; was pending":"")+(P?"":"; another transport is scheduled for activation")),f&&f.message&&y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.deactivateTransport()","reason =  "+f.message),v&&(y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.deactivateTransport()","Getting, clearing, and requeuing "+this.activeProtocol.messageQueue.count()+" pending messages"),this.queuePendingMessages(p.getPendingMessages()),p.clearPendingMessages(),this.activeProtocol=this.host=null),this.emit("transport.inactive",a),v&&P||v&&c==="failed"||c==="closed"||p===null&&O){if(c==="disconnected"&&f&&f.statusCode>500&&this.domains.length>1){this.unpersistTransportPreference(),this.forceFallbackHost=!0,this.notifyState({state:c,error:f,retryImmediately:!0});return}const U=c==="failed"&&Ir.isTokenErr(f)?"disconnected":c;this.notifyState({state:U,error:f});return}}noTransportsScheduledForActivation(){return!this.pendingTransport||!this.pendingTransport.isConnected}setConnection(a,c,f){const p=this.connectionId;(p&&p!==a||!p&&f)&&(y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.setConnection()","Resetting msgSerial"),this.msgSerial=0,this.queuedMessages.resetSendAttempted()),this.connectionId!==a&&y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.setConnection()","New connectionId; reattaching any attached channels"),this.realtime.connection.id=this.connectionId=a,this.realtime.connection.key=this.connectionKey=c.connectionKey}clearConnection(){this.realtime.connection.id=this.connectionId=void 0,this.realtime.connection.key=this.connectionKey=void 0,this.msgSerial=0,this.unpersistConnection()}createRecoveryKey(){return this.connectionKey?JSON.stringify({connectionKey:this.connectionKey,msgSerial:this.msgSerial,channelSerials:this.realtime.channels.channelSerials()}):null}checkConnectionStateFreshness(){if(!this.lastActivity||!this.connectionId)return;const a=Date.now()-this.lastActivity;a>this.connectionStateTtl+this.maxIdleInterval&&(y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.checkConnectionStateFreshness()","Last known activity from realtime was "+a+"ms ago; discarding connection state"),this.clearConnection(),this.states.connecting.failState="suspended")}persistConnection(){if(ya()){const a=this.createRecoveryKey();a&&this.setSessionRecoverData({recoveryKey:a,disconnectedAt:Date.now(),location:EO.location,clientId:this.realtime.auth.clientId})}}unpersistConnection(){this.clearSessionRecoverData()}getActiveTransportFormat(){var a;return(a=this.activeProtocol)==null?void 0:a.getTransport().format}getError(){if(this.errorReason){const a=oe.fromValues(this.errorReason);return a.cause=this.errorReason,a}return this.getStateError()}getStateError(){var a,c;return(c=(a=Qs)[this.state.state])==null?void 0:c.call(a)}activeState(){return this.state.queueEvents||this.state.sendEvents}enactStateChange(a){const c="Connection state",f=a.current+(a.reason?"; reason: "+a.reason:"");a.current==="failed"?y.logAction(this.logger,y.LOG_ERROR,c,f):y.logAction(this.logger,y.LOG_MAJOR,c,f),y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.enactStateChange","setting new state: "+a.current+"; reason = "+(a.reason&&a.reason.message));const p=this.state=this.states[a.current];a.reason&&(this.errorReason=a.reason,this.realtime.connection.errorReason=a.reason),(p.terminal||p.state==="suspended")&&this.clearConnection(),this.emit("connectionstate",a)}startTransitionTimer(a){y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.startTransitionTimer()","transitionState: "+a.state),this.transitionTimer&&(y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.startTransitionTimer()","clearing already-running timer"),clearTimeout(this.transitionTimer)),this.transitionTimer=setTimeout(()=>{this.transitionTimer&&(this.transitionTimer=null,y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager "+a.state+" timer expired","requesting new state: "+a.failState),this.notifyState({state:a.failState}))},a.retryDelay)}cancelTransitionTimer(){y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.cancelTransitionTimer()",""),this.transitionTimer&&(clearTimeout(this.transitionTimer),this.transitionTimer=null)}startSuspendTimer(){this.suspendTimer||(this.suspendTimer=setTimeout(()=>{this.suspendTimer&&(this.suspendTimer=null,y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager suspend timer expired","requesting new state: suspended"),this.states.connecting.failState="suspended",this.notifyState({state:"suspended"}))},this.connectionStateTtl))}checkSuspendTimer(a){a!=="disconnected"&&a!=="suspended"&&a!=="connecting"&&this.cancelSuspendTimer()}cancelSuspendTimer(){this.states.connecting.failState="disconnected",this.suspendTimer&&(clearTimeout(this.suspendTimer),this.suspendTimer=null)}startRetryTimer(a){this.retryTimer=setTimeout(()=>{y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager retry timer expired","retrying"),this.retryTimer=null,this.requestState({state:"connecting"})},a)}cancelRetryTimer(){this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=null)}startWebSocketSlowTimer(){this.webSocketSlowTimer=setTimeout(()=>{y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager WebSocket slow timer","checking connectivity"),this.checkWsConnectivity().then(()=>{y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager WebSocket slow timer","ws connectivity check succeeded"),this.wsCheckResult=!0}).catch(()=>{y.logAction(this.logger,y.LOG_MAJOR,"ConnectionManager WebSocket slow timer","ws connectivity check failed"),this.wsCheckResult=!1}),this.realtime.http.checkConnectivity&&Ye(this.realtime.http.checkConnectivity(),(a,c)=>{a||!c?(y.logAction(this.logger,y.LOG_MAJOR,"ConnectionManager WebSocket slow timer","http connectivity check failed"),this.cancelWebSocketGiveUpTimer(),this.notifyState({state:"disconnected",error:new N("Unable to connect (network unreachable)",80003,404)})):y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager WebSocket slow timer","http connectivity check succeeded")})},this.options.timeouts.webSocketSlowTimeout)}cancelWebSocketSlowTimer(){this.webSocketSlowTimer&&(clearTimeout(this.webSocketSlowTimer),this.webSocketSlowTimer=null)}startWebSocketGiveUpTimer(a){this.webSocketGiveUpTimer=setTimeout(()=>{var c,f;this.wsCheckResult||(y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager WebSocket give up timer","websocket connection took more than 10s; "+(this.baseTransport?"trying base transport":"")),this.baseTransport?(this.abandonedWebSocket=!0,(c=this.proposedTransport)==null||c.dispose(),(f=this.pendingTransport)==null||f.dispose(),this.connectBase(a,++this.connectCounter)):y.logAction(this.logger,y.LOG_MAJOR,"ConnectionManager WebSocket give up timer","websocket connectivity appears to be unavailable but no other transports to try"))},this.options.timeouts.webSocketConnectTimeout)}cancelWebSocketGiveUpTimer(){this.webSocketGiveUpTimer&&(clearTimeout(this.webSocketGiveUpTimer),this.webSocketGiveUpTimer=null)}notifyState(a){var c,f;const p=a.state,v=p==="disconnected"&&(this.state===this.states.connected||a.retryImmediately||this.state===this.states.connecting&&a.error&&Ir.isTokenErr(a.error)&&!(this.errorReason&&Ir.isTokenErr(this.errorReason)));if(y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.notifyState()","new state: "+p+(v?"; will retry connection immediately":"")),p==this.state.state||(this.cancelTransitionTimer(),this.cancelRetryTimer(),this.cancelWebSocketSlowTimer(),this.cancelWebSocketGiveUpTimer(),this.checkSuspendTimer(a.state),(p==="suspended"||p==="connected")&&(this.disconnectedRetryCount=0),this.state.terminal))return;const O=this.states[a.state];let P=O.retryDelay;O.state==="disconnected"&&(this.disconnectedRetryCount++,P=sr(O.retryDelay,this.disconnectedRetryCount));const U=new Tc(this.state.state,O.state,P,a.error||((f=(c=Qs)[O.state])==null?void 0:f.call(c)));if(v){const j=()=>{this.state===this.states.disconnected&&(this.lastAutoReconnectAttempt=Date.now(),this.requestState({state:"connecting"}))},J=this.lastAutoReconnectAttempt&&Date.now()-this.lastAutoReconnectAttempt+1;J&&J<1e3?(y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.notifyState()","Last reconnect attempt was only "+J+"ms ago, waiting another "+(1e3-J)+"ms before trying again"),setTimeout(j,1e3-J)):C.Config.nextTick(j)}else(p==="disconnected"||p==="suspended")&&this.startRetryTimer(P);(p==="disconnected"&&!v||p==="suspended"||O.terminal)&&C.Config.nextTick(()=>{this.disconnectAllTransports()}),p=="connected"&&!this.activeProtocol&&y.logAction(this.logger,y.LOG_ERROR,"ConnectionManager.notifyState()","Broken invariant: attempted to go into connected state, but there is no active protocol"),this.enactStateChange(U),this.state.sendEvents?this.sendQueuedMessages():this.state.queueEvents||(this.realtime.channels.propogateConnectionInterruption(p,U.reason),this.failQueuedMessages(U.reason))}requestState(a){var c,f;const p=a.state;if(y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.requestState()","requested state: "+p+"; current state: "+this.state.state),p==this.state.state||(this.cancelWebSocketSlowTimer(),this.cancelWebSocketGiveUpTimer(),this.cancelTransitionTimer(),this.cancelRetryTimer(),this.checkSuspendTimer(p),p=="connecting"&&this.state.state=="connected")||p=="closing"&&this.state.state=="closed")return;const v=this.states[p],O=new Tc(this.state.state,v.state,null,a.error||((f=(c=Qs)[v.state])==null?void 0:f.call(c)));this.enactStateChange(O),p=="connecting"&&C.Config.nextTick(()=>{this.startConnect()}),p=="closing"&&this.closeImpl()}startConnect(){if(this.state!==this.states.connecting){y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.startConnect()","Must be in connecting state to connect, but was "+this.state.state);return}const a=this.realtime.auth,c=++this.connectCounter,f=()=>{this.checkConnectionStateFreshness(),this.getTransportParams(p=>{if(p.mode==="recover"&&p.options.recover){const v=Vf(p.options.recover);v&&this.realtime.channels.recoverChannels(v.channelSerials)}c===this.connectCounter&&this.connectImpl(p,c)})};if(y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.startConnect()","starting connection"),this.startSuspendTimer(),this.startTransitionTimer(this.states.connecting),a.method==="basic")f();else{const p=v=>{c===this.connectCounter&&(v?this.actOnErrorFromAuthorize(v):f())};this.errorReason&&Ir.isTokenErr(this.errorReason)?Ye(a._forceNewToken(null,null),p):Ye(a._ensureValidAuthCredentials(!1),p)}}connectImpl(a,c){const f=this.state.state;if(f!==this.states.connecting.state){y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.connectImpl()","Must be in connecting state to connect, but was "+f);return}const p=this.getTransportPreference();p&&p===this.baseTransport&&this.webSocketTransportAvailable&&this.checkWsConnectivity().then(()=>{this.unpersistTransportPreference(),this.state===this.states.connecting&&(y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.connectImpl():","web socket connectivity available, cancelling connection attempt with "+this.baseTransport),this.disconnectAllTransports(),this.connectWs(a,++this.connectCounter))}).catch(Fv),p&&p===this.baseTransport||this.baseTransport&&!this.webSocketTransportAvailable?this.connectBase(a,c):this.connectWs(a,c)}connectWs(a,c){y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.connectWs()"),this.wsCheckResult=null,this.abandonedWebSocket=!1,this.startWebSocketSlowTimer(),this.startWebSocketGiveUpTimer(a),this.tryTransportWithFallbacks("web_socket",a,!0,c,()=>this.wsCheckResult!==!1&&!this.abandonedWebSocket)}connectBase(a,c){y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.connectBase()"),this.baseTransport?this.tryTransportWithFallbacks(this.baseTransport,a,!1,c,()=>!0):this.notifyState({state:"disconnected",error:new N("No transports left to try",8e4,404)})}tryTransportWithFallbacks(a,c,f,p,v){y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.tryTransportWithFallbacks()",a);const O=Q=>{this.notifyState({state:this.states.connecting.failState,error:Q})},P=this.domains.slice(),U=(Q,te)=>{if(p===this.connectCounter){if(!v()){te&&te.dispose();return}!te&&!Q&&J()}},j=P.shift();if(!j){O(new N("Unable to connect (no available host)",80003,404));return}c.host=j;const J=()=>{if(!P.length){O(new N("Unable to connect (and no more fallback hosts to try)",80003,404));return}if(!this.realtime.http.checkConnectivity){O(new oe("Internal error: Http.checkConnectivity not set",null,500));return}Ye(this.realtime.http.checkConnectivity(),(Q,te)=>{if(p===this.connectCounter&&v()){if(Q){O(Q);return}if(!te){O(new N("Unable to connect (network unreachable)",80003,404));return}c.host=Gs(P),this.tryATransport(c,a,U)}})};if(this.forceFallbackHost&&P.length){this.forceFallbackHost=!1,J();return}this.tryATransport(c,a,U)}closeImpl(){y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.closeImpl()","closing connection"),this.cancelSuspendTimer(),this.startTransitionTimer(this.states.closing),this.pendingTransport&&(y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.closeImpl()","Closing pending transport: "+this.pendingTransport),this.pendingTransport.close()),this.activeProtocol&&(y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.closeImpl()","Closing active transport: "+this.activeProtocol.getTransport()),this.activeProtocol.getTransport().close()),this.notifyState({state:"closed"})}onAuthUpdated(a,c){var f;switch(this.state.state){case"connected":{y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.onAuthUpdated()","Sending AUTH message on active transport");const p=(f=this.activeProtocol)==null?void 0:f.getTransport();p&&p.onAuthUpdated&&p.onAuthUpdated(a);const v=rn({action:ce.AUTH,auth:{accessToken:a.token}});this.send(v);const O=()=>{this.off(P),c(null,a)},P=U=>{U.current==="failed"&&(this.off(O),this.off(P),c(U.reason||this.getStateError()))};this.once("connectiondetails",O),this.on("connectionstate",P);break}case"connecting":y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.onAuthUpdated()","Aborting current connection attempts in order to start again with the new auth details"),this.disconnectAllTransports();default:{y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.onAuthUpdated()","Connection state is "+this.state.state+"; waiting until either connected or failed");const p=v=>{switch(v.current){case"connected":this.off(p),c(null,a);break;case"failed":case"closed":case"suspended":this.off(p),c(v.reason||this.getStateError());break}};this.on("connectionstate",p),this.state.state==="connecting"?this.startConnect():this.requestState({state:"connecting"})}}}disconnectAllTransports(){y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.disconnectAllTransports()","Disconnecting all transports"),this.connectCounter++,this.pendingTransport&&(y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.disconnectAllTransports()","Disconnecting pending transport: "+this.pendingTransport),this.pendingTransport.disconnect()),delete this.pendingTransport,this.proposedTransport&&(y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.disconnectAllTransports()","Disconnecting proposed transport: "+this.pendingTransport),this.proposedTransport.disconnect()),delete this.pendingTransport,this.activeProtocol&&(y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.disconnectAllTransports()","Disconnecting active transport: "+this.activeProtocol.getTransport()),this.activeProtocol.getTransport().disconnect())}send(a,c,f){f=f||Fv;const p=this.state;if(p.sendEvents){y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.send()","sending event"),this.sendImpl(new $v(a,f));return}if(!(c&&p.queueEvents)){const O="rejecting event, queueEvent was "+c+", state was "+p.state;y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.send()",O),f(this.errorReason||new N(O,9e4,400));return}this.logger.shouldLog(y.LOG_MICRO)&&y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.send()","queueing msg; "+$f(a,this.realtime._RealtimePresence,this.realtime._Annotations,this.realtime._objectsPlugin)),this.queue(a,f)}sendImpl(a){const c=a.message;a.ackRequired&&!a.sendAttempted&&(c.msgSerial=this.msgSerial++);try{this.activeProtocol.send(a)}catch(f){y.logAction(this.logger,y.LOG_ERROR,"ConnectionManager.sendImpl()","Unexpected exception in transport.send(): "+f.stack)}}queue(a,c){y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.queue()","queueing event");const f=this.queuedMessages.last(),p=this.options.maxMessageSize;f&&!f.sendAttempted&&TO(f.message,a,p)?(f.merged||(f.callback=_f.create(this.logger,[f.callback]),f.merged=!0),f.callback.push(c)):this.queuedMessages.push(new $v(a,c))}sendQueuedMessages(){y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.sendQueuedMessages()","sending "+this.queuedMessages.count()+" queued messages");let a;for(;a=this.queuedMessages.shift();)this.sendImpl(a)}queuePendingMessages(a){a&&a.length&&(y.logAction(this.logger,y.LOG_MICRO,"ConnectionManager.queuePendingMessages()","queueing "+a.length+" pending messages"),this.queuedMessages.prepend(a))}failQueuedMessages(a){const c=this.queuedMessages.count();c>0&&(y.logAction(this.logger,y.LOG_ERROR,"ConnectionManager.failQueuedMessages()","failing "+c+" queued messages, err = "+Ee(a)),this.queuedMessages.completeAllMessages(a))}onChannelMessage(a,c){this.pendingChannelMessagesState.queue.push({message:a,transport:c}),this.pendingChannelMessagesState.isProcessing||this.processNextPendingChannelMessage()}processNextPendingChannelMessage(){if(this.pendingChannelMessagesState.queue.length>0){this.pendingChannelMessagesState.isProcessing=!0;const a=this.pendingChannelMessagesState.queue.shift();this.processChannelMessage(a.message).catch(c=>{y.logAction(this.logger,y.LOG_ERROR,"ConnectionManager.processNextPendingChannelMessage() received error ",c)}).finally(()=>{this.pendingChannelMessagesState.isProcessing=!1,this.processNextPendingChannelMessage()})}}async processChannelMessage(a){await this.realtime.channels.processChannelMessage(a)}async ping(){var a;if(this.state.state!=="connected")throw new N("Unable to ping service; not connected",4e4,400);const c=(a=this.activeProtocol)==null?void 0:a.getTransport();if(!c)throw this.getStateError();y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.ping()","transport = "+c);const f=Date.now(),p=No();return jo(new Promise(v=>{const O=P=>{P===p&&(c.off("heartbeat",O),v(Date.now()-f))};c.on("heartbeat",O),c.ping(p)}),this.options.timeouts.realtimeRequestTimeout,"Timeout waiting for heartbeat response")}abort(a){this.activeProtocol.getTransport().fail(a)}getTransportPreference(){var a,c;return this.transportPreference||Hf()&&((c=(a=C.WebStorage)==null?void 0:a.get)==null?void 0:c.call(a,Wf))}persistTransportPreference(a){var c,f;this.transportPreference=a.shortName,Hf()&&((f=(c=C.WebStorage)==null?void 0:c.set)==null||f.call(c,Wf,a.shortName))}unpersistTransportPreference(){var a,c;this.transportPreference=null,Hf()&&((c=(a=C.WebStorage)==null?void 0:a.remove)==null||c.call(a,Wf))}actOnErrorFromAuthorize(a){if(a.code===40171)this.notifyState({state:"failed",error:a});else if(a.code===40102)this.notifyState({state:"failed",error:a});else if(a.statusCode===bc.Forbidden){const c="Client configured authentication provider returned 403; failing the connection";y.logAction(this.logger,y.LOG_ERROR,"ConnectionManager.actOnErrorFromAuthorize()",c),this.notifyState({state:"failed",error:new N(c,80019,403,a)})}else{const c="Client configured authentication provider request failed";y.logAction(this.logger,y.LOG_MINOR,"ConnectionManager.actOnErrorFromAuthorize",c),this.notifyState({state:this.state.failState,error:new N(c,80019,401,a)})}}onConnectionDetailsUpdate(a,c){if(!a)return;this.connectionDetails=a,a.maxMessageSize&&(this.options.maxMessageSize=a.maxMessageSize);const f=a.clientId;if(f){const v=this.realtime.auth._uncheckedSetClientId(f);if(v){y.logAction(this.logger,y.LOG_ERROR,"ConnectionManager.onConnectionDetailsUpdate()",v.message),c.fail(v);return}}const p=a.connectionStateTtl;p&&(this.connectionStateTtl=p),this.maxIdleInterval=a.maxIdleInterval,this.emit("connectiondetails",a)}checkWsConnectivity(){const a=this.options.wsConnectivityCheckUrl||he.wsConnectivityCheckUrl,c=new C.Config.WebSocket(a);return new Promise((f,p)=>{let v=!1;c.onopen=()=>{v||(v=!0,f(),c.close())},c.onclose=c.onerror=()=>{v||(v=!0,p())}})}sessionRecoveryName(){return this.options.recoveryKeyStorageName||"ably-connection-recovery"}getSessionRecoverData(){var a,c;return ya()&&((c=(a=C.WebStorage)==null?void 0:a.getSession)==null?void 0:c.call(a,this.sessionRecoveryName()))}setSessionRecoverData(a){var c,f;return ya()&&((f=(c=C.WebStorage)==null?void 0:c.setSession)==null?void 0:f.call(c,this.sessionRecoveryName(),a))}clearSessionRecoverData(){var a,c;return ya()&&((c=(a=C.WebStorage)==null?void 0:a.removeSession)==null?void 0:c.call(a,this.sessionRecoveryName()))}},Bv=kO,_O=class extends dt{constructor(i,a){super(i.logger),this.whenState=c=>dt.prototype.whenState.call(this,c,this.state),this.ably=i,this.connectionManager=new Bv(i,a),this.state=this.connectionManager.state.state,this.key=void 0,this.id=void 0,this.errorReason=null,this.connectionManager.on("connectionstate",c=>{const f=this.state=c.current;C.Config.nextTick(()=>{this.emit(f,c)})}),this.connectionManager.on("update",c=>{C.Config.nextTick(()=>{this.emit("update",c)})})}connect(){y.logAction(this.logger,y.LOG_MINOR,"Connection.connect()",""),this.connectionManager.requestState({state:"connecting"})}async ping(){return y.logAction(this.logger,y.LOG_MINOR,"Connection.ping()",""),this.connectionManager.ping()}close(){y.logAction(this.logger,y.LOG_MINOR,"Connection.close()","connectionKey = "+this.key),this.connectionManager.requestState({state:"closing"})}get recoveryKey(){return this.logger.deprecationWarning("The `Connection.recoveryKey` attribute has been replaced by the `Connection.createRecoveryKey()` method. Replace your usage of `recoveryKey` with the return value of `createRecoveryKey()`. `recoveryKey` will be removed in a future version."),this.createRecoveryKey()}createRecoveryKey(){return this.connectionManager.createRecoveryKey()}},OO=_O,zv=class YE extends uv{constructor(a){var c,f,p,v;if(super(he.objectifyOptions(a,!1,"BaseRealtime",y.defaultLogger)),y.logAction(this.logger,y.LOG_MINOR,"Realtime()",""),typeof EdgeRuntime=="string")throw new N(`Ably.Realtime instance cannot be used in Vercel Edge runtime. If you are running Vercel Edge functions, please replace your "new Ably.Realtime()" with "new Ably.Rest()" and use Ably Rest API instead of the Realtime API. If you are server-rendering your application in the Vercel Edge runtime, please use the condition "if (typeof EdgeRuntime === 'string')" to prevent instantiating Ably.Realtime instance during SSR in the Vercel Edge runtime.`,4e4,400);this._additionalTransportImplementations=YE.transportImplementationsFromPlugins(this.options.plugins),this._RealtimePresence=(f=(c=this.options.plugins)==null?void 0:c.RealtimePresence)!=null?f:null,this._objectsPlugin=(v=(p=this.options.plugins)==null?void 0:p.Objects)!=null?v:null,this.connection=new OO(this,this.options),this._channels=new PO(this),this.options.autoConnect!==!1&&this.connect()}static transportImplementationsFromPlugins(a){const c={};return a!=null&&a.WebSocketTransport&&(c[Gt.WebSocket]=a.WebSocketTransport),a!=null&&a.XHRPolling&&(c[Gt.XhrPolling]=a.XHRPolling),c}get channels(){return this._channels}connect(){y.logAction(this.logger,y.LOG_MINOR,"Realtime.connect()",""),this.connection.connect()}close(){y.logAction(this.logger,y.LOG_MINOR,"Realtime.close()",""),this.connection.close()}};zv.EventEmitter=dt;var AO=zv,PO=class extends dt{constructor(i){super(i.logger),this.realtime=i,this.all=Object.create(null),i.connection.connectionManager.on("transport.active",()=>{this.onTransportActive()})}channelSerials(){let i={};for(const a of Xe(this.all,!0)){const c=this.all[a];c.properties.channelSerial&&(i[a]=c.properties.channelSerial)}return i}recoverChannels(i){for(const a of Xe(i,!0)){const c=this.get(a);c.properties.channelSerial=i[a]}}async processChannelMessage(i){const a=i.channel;if(a===void 0){y.logAction(this.logger,y.LOG_ERROR,"Channels.processChannelMessage()","received event unspecified channel, action = "+i.action);return}const c=this.all[a];if(!c){y.logAction(this.logger,y.LOG_ERROR,"Channels.processChannelMessage()","received event for non-existent channel: "+a);return}await c.processMessage(i)}onTransportActive(){for(const i in this.all){const a=this.all[i];a.state==="attaching"||a.state==="detaching"?a.checkPendingState():a.state==="suspended"?a._attach(!1,null):a.state==="attached"&&a.requestState("attaching")}}propogateConnectionInterruption(i,a){const c={closing:"detached",closed:"detached",failed:"failed",suspended:"suspended"},f=["attaching","attached","detaching","suspended"],p=c[i];for(const v in this.all){const O=this.all[v];f.includes(O.state)&&O.notifyState(p,a)}}get(i,a){i=String(i);let c=this.all[i];if(!c)c=this.all[i]=new ma(this.realtime,i,a);else if(a){if(c._shouldReattachToSetOptions(a,c.channelOptions))throw new N("Channels.get() cannot be used to set channel options that would cause the channel to reattach. Please, use RealtimeChannel.setOptions() instead.",4e4,400);c.setOptions(a)}return c}getDerived(i,a,c){if(a.filter){const f=Do(a.filter),p=yc(i);i=`[filter=${f}${p.qualifierParam}]${p.channelName}`}return this.get(i,c)}release(i){i=String(i);const a=this.all[i];if(!a)return;const c=a.getReleaseErr();if(c)throw c;delete this.all[i]}},IO=AO;function NO(i,a){if(i.isSynthesized()||a.isSynthesized())return i.timestamp>=a.timestamp;const c=i.parseId(),f=a.parseId();return c.msgSerial===f.msgSerial?c.index>f.index:c.msgSerial>f.msgSerial}var Gf=class extends dt{constructor(i,a,c=NO){super(i.logger),this.presence=i,this.map=Object.create(null),this.syncInProgress=!1,this.residualMembers=null,this.memberKey=a,this.newerThan=c}get(i){return this.map[i]}getClient(i){const a=this.map,c=[];for(const f in a){const p=a[f];p.clientId==i&&p.action!="absent"&&c.push(p)}return c}list(i){const a=this.map,c=i&&i.clientId,f=i&&i.connectionId,p=[];for(const v in a){const O=a[v];O.action!=="absent"&&(c&&c!=O.clientId||f&&f!=O.connectionId||p.push(O))}return p}put(i){(i.action==="enter"||i.action==="update")&&(i=ts.fromValues(i),i.action="present");const a=this.map,c=this.memberKey(i);this.residualMembers&&delete this.residualMembers[c];const f=a[c];return f&&!this.newerThan(i,f)?!1:(a[c]=i,!0)}values(){const i=this.map,a=[];for(const c in i){const f=i[c];f.action!="absent"&&a.push(f)}return a}remove(i){const a=this.map,c=this.memberKey(i),f=a[c];return f&&!this.newerThan(i,f)?!1:(this.syncInProgress?(i=ts.fromValues(i),i.action="absent",a[c]=i):delete a[c],!!f)}startSync(){const i=this.map,a=this.syncInProgress;y.logAction(this.logger,y.LOG_MINOR,"PresenceMap.startSync()","channel = "+this.presence.channel.name+"; syncInProgress = "+a),this.syncInProgress||(this.residualMembers=D(i),this.setInProgress(!0))}endSync(){const i=this.map,a=this.syncInProgress;if(y.logAction(this.logger,y.LOG_MINOR,"PresenceMap.endSync()","channel = "+this.presence.channel.name+"; syncInProgress = "+a),a){for(const c in i)i[c].action==="absent"&&delete i[c];this.presence._synthesizeLeaves(In(this.residualMembers));for(const c in this.residualMembers)delete i[c];this.residualMembers=null,this.setInProgress(!1)}this.emit("sync")}waitSync(i){const a=this.syncInProgress;if(y.logAction(this.logger,y.LOG_MINOR,"PresenceMap.waitSync()","channel = "+this.presence.channel.name+"; syncInProgress = "+a),!a){i();return}this.once("sync",i)}clear(){this.map={},this.setInProgress(!1),this.residualMembers=null}setInProgress(i){y.logAction(this.logger,y.LOG_MICRO,"PresenceMap.setInProgress()","inProgress = "+i),this.syncInProgress=i,this.presence.syncComplete=!i}};function MO(i){return i.channel.client.auth.clientId}function qf(i){const a=i.channel.client,c=a.auth.clientId;return(!c||c==="*")&&a.connection.state==="connected"}function LO(i,a,c){switch(i.state){case"attached":case"suspended":c();break;case"initialized":case"detached":case"detaching":case"attaching":Ye(i.attach(),function(f){f?a(f):c()});break;default:a(N.fromValues(i.invalidStateError()))}}var DO=class extends dt{constructor(i){super(i.logger),this.channel=i,this.syncComplete=!1,this.members=new Gf(this,a=>a.clientId+":"+a.connectionId),this._myMembers=new Gf(this,a=>a.clientId),this.subscriptions=new dt(this.logger),this.pendingPresence=[]}async enter(i){if(qf(this))throw new N("clientId must be specified to enter a presence channel",40012,400);return this._enterOrUpdateClient(void 0,void 0,i,"enter")}async update(i){if(qf(this))throw new N("clientId must be specified to update presence data",40012,400);return this._enterOrUpdateClient(void 0,void 0,i,"update")}async enterClient(i,a){return this._enterOrUpdateClient(void 0,i,a,"enter")}async updateClient(i,a){return this._enterOrUpdateClient(void 0,i,a,"update")}async _enterOrUpdateClient(i,a,c,f){const p=this.channel;if(!p.connectionManager.activeState())throw p.connectionManager.getError();y.logAction(this.logger,y.LOG_MICRO,"RealtimePresence."+f+"Client()","channel = "+p.name+", id = "+i+", client = "+(a||"(implicit) "+MO(this)));const v=ts.fromData(c);v.action=f,i&&(v.id=i),a&&(v.clientId=a);const O=await v.encode(p.channelOptions);switch(p.state){case"attached":return p.sendPresence([O]);case"initialized":case"detached":p.attach();case"attaching":return new Promise((P,U)=>{this.pendingPresence.push({presence:O,callback:j=>j?U(j):P()})});default:{const P=new oe("Unable to "+f+" presence channel while in "+p.state+" state",90001);throw P.code=90001,P}}}async leave(i){if(qf(this))throw new N("clientId must have been specified to enter or leave a presence channel",40012,400);return this.leaveClient(void 0,i)}async leaveClient(i,a){const c=this.channel;if(!c.connectionManager.activeState())throw c.connectionManager.getError();y.logAction(this.logger,y.LOG_MICRO,"RealtimePresence.leaveClient()","leaving; channel = "+this.channel.name+", client = "+i);const f=ts.fromData(a);f.action="leave",i&&(f.clientId=i);const p=await f.encode(c.channelOptions);switch(c.state){case"attached":return c.sendPresence([p]);case"attaching":return new Promise((v,O)=>{this.pendingPresence.push({presence:p,callback:P=>P?O(P):v()})});case"initialized":case"failed":throw new oe("Unable to leave presence channel (incompatible state)",90001);default:throw c.invalidStateError()}}async get(i){const a=!i||("waitForSync"in i?i.waitForSync:!0);return new Promise((c,f)=>{function p(v){c(i?v.list(i):v.values())}if(this.channel.state==="suspended"){a?f(N.fromValues({statusCode:400,code:91005,message:"Presence state is out of sync due to channel being in the SUSPENDED state"})):p(this.members);return}LO(this.channel,v=>f(v),()=>{const v=this.members;a?v.waitSync(function(){p(v)}):p(v)})})}async history(i){y.logAction(this.logger,y.LOG_MICRO,"RealtimePresence.history()","channel = "+this.name);const a=this.channel.client.rest.presenceMixin;if(i&&i.untilAttach)if(this.channel.state==="attached")delete i.untilAttach,i.from_serial=this.channel.properties.attachSerial;else throw new N("option untilAttach requires the channel to be attached, was: "+this.channel.state,4e4,400);return a.history(this,i)}setPresence(i,a,c){y.logAction(this.logger,y.LOG_MICRO,"RealtimePresence.setPresence()","received presence for "+i.length+" participants; syncChannelSerial = "+c);let f,p;const v=this.members,O=this._myMembers,P=[],U=this.channel.connectionManager.connectionId;a&&(this.members.startSync(),c&&(p=c.match(/^[\w-]+:(.*)$/))&&(f=p[1]));for(let j of i)switch(j.action){case"leave":v.remove(j)&&P.push(j),j.connectionId===U&&!j.isSynthesized()&&O.remove(j);break;case"enter":case"present":case"update":v.put(j)&&P.push(j),j.connectionId===U&&O.put(j);break}a&&!f&&(v.endSync(),this.channel.syncChannelSerial=null);for(let j=0;j<P.length;j++){const J=P[j];this.subscriptions.emit(J.action,J)}}onAttached(i){y.logAction(this.logger,y.LOG_MINOR,"RealtimePresence.onAttached()","channel = "+this.channel.name+", hasPresence = "+i),i?this.members.startSync():(this._synthesizeLeaves(this.members.values()),this.members.clear()),this._ensureMyMembersPresent();const a=this.pendingPresence,c=a.length;if(c){this.pendingPresence=[];const f=[],p=_f.create(this.logger);y.logAction(this.logger,y.LOG_MICRO,"RealtimePresence.onAttached","sending "+c+" queued presence messages");for(let v=0;v<c;v++){const O=a[v];f.push(O.presence),p.push(O.callback)}this.channel.sendPresence(f).then(()=>p()).catch(v=>p(v))}}actOnChannelState(i,a,c){switch(i){case"attached":this.onAttached(a);break;case"detached":case"failed":this._clearMyMembers(),this.members.clear();case"suspended":this.failPendingPresence(c);break}}failPendingPresence(i){if(this.pendingPresence.length){y.logAction(this.logger,y.LOG_MINOR,"RealtimeChannel.failPendingPresence","channel; name = "+this.channel.name+", err = "+Ee(i));for(let a=0;a<this.pendingPresence.length;a++)try{this.pendingPresence[a].callback(i)}catch{}this.pendingPresence=[]}}_clearMyMembers(){this._myMembers.clear()}_ensureMyMembersPresent(){const i=this._myMembers,a=this.channel.connectionManager.connectionId;for(const c in i.map){const f=i.map[c];y.logAction(this.logger,y.LOG_MICRO,"RealtimePresence._ensureMyMembersPresent()",'Auto-reentering clientId "'+f.clientId+'" into the presence set');const p=f.connectionId===a?f.id:void 0;this._enterOrUpdateClient(p,f.clientId,f.data,"enter").catch(v=>{const O=new N("Presence auto re-enter failed",91004,400,v);y.logAction(this.logger,y.LOG_ERROR,"RealtimePresence._ensureMyMembersPresent()","Presence auto re-enter failed; reason = "+Ee(v));const P=new Bf(this.channel.state,this.channel.state,!0,!1,O);this.channel.emit("update",P)})}}_synthesizeLeaves(i){const a=this.subscriptions;i.forEach(function(c){const f=ts.fromValues({action:"leave",connectionId:c.connectionId,clientId:c.clientId,data:c.data,encoding:c.encoding,timestamp:Date.now()});a.emit("leave",f)})}async subscribe(...i){const a=ma.processListenerArgs(i),c=a[0],f=a[1],p=this.channel;if(p.state==="failed")throw N.fromValues(p.invalidStateError());this.subscriptions.on(c,f),p.channelOptions.attachOnSubscribe!==!1&&await p.attach()}unsubscribe(...i){const a=ma.processListenerArgs(i),c=a[0],f=a[1];this.subscriptions.off(c,f)}},jO=DO,UO=Gt.WebSocket;function $O(i){return!!i.on}var FO=class extends Ho{constructor(i,a,c){super(i,a,c),this.shortName=UO,c.heartbeats=C.Config.useProtocolHeartbeats,this.wsHost=c.host}static isAvailable(){return!!C.Config.WebSocket}createWebSocket(i,a){return this.uri=i+Nn(a),new C.Config.WebSocket(this.uri)}toString(){return"WebSocketTransport; uri="+this.uri}connect(){y.logAction(this.logger,y.LOG_MINOR,"WebSocketTransport.connect()","starting"),Ho.prototype.connect.call(this);const i=this,a=this.params,c=a.options,p=(c.tls?"wss://":"ws://")+this.wsHost+":"+he.getPort(c)+"/";y.logAction(this.logger,y.LOG_MINOR,"WebSocketTransport.connect()","uri: "+p),Ye(this.auth.getAuthParams(),function(v,O){if(i.isDisposed)return;let P="";for(const j in O)P+=" "+j+": "+O[j]+";";if(y.logAction(i.logger,y.LOG_MINOR,"WebSocketTransport.connect()","authParams:"+P+" err: "+v),v){i.disconnect(v);return}const U=a.getConnectParams(O);try{const j=i.wsConnection=i.createWebSocket(p,U);j.binaryType=C.Config.binaryType,j.onopen=function(){i.onWsOpen()},j.onclose=function(J){i.onWsClose(J)},j.onmessage=function(J){i.onWsData(J.data)},j.onerror=function(J){i.onWsError(J)},$O(j)&&j.on("ping",function(){i.onActivity()})}catch(j){y.logAction(i.logger,y.LOG_ERROR,"WebSocketTransport.connect()","Unexpected exception creating websocket: err = "+(j.stack||j.message)),i.disconnect(j)}})}send(i){const a=this.wsConnection;if(!a){y.logAction(this.logger,y.LOG_ERROR,"WebSocketTransport.send()","No socket connection");return}try{a.send(lO(i,this.connectionManager.realtime._MsgPack,this.params.format))}catch(c){const f="Exception from ws connection when trying to send: "+Ee(c);y.logAction(this.logger,y.LOG_ERROR,"WebSocketTransport.send()",f),this.finish("disconnected",new N(f,5e4,500))}}onWsData(i){y.logAction(this.logger,y.LOG_MICRO,"WebSocketTransport.onWsData()","data received; length = "+i.length+"; type = "+typeof i);try{this.onProtocolMessage(cO(i,this.connectionManager.realtime._MsgPack,this.connectionManager.realtime._RealtimePresence,this.connectionManager.realtime._Annotations,this.connectionManager.realtime._objectsPlugin,this.format))}catch(a){y.logAction(this.logger,y.LOG_ERROR,"WebSocketTransport.onWsData()","Unexpected exception handing channel message: "+a.stack)}}onWsOpen(){y.logAction(this.logger,y.LOG_MINOR,"WebSocketTransport.onWsOpen()","opened WebSocket"),this.emit("preconnect")}onWsClose(i){let a,c;if(typeof i=="object"?(c=i.code,a=i.wasClean||c===1e3):(c=i,a=c==1e3),delete this.wsConnection,a){y.logAction(this.logger,y.LOG_MINOR,"WebSocketTransport.onWsClose()","Cleanly closed WebSocket");const f=new N("Websocket closed",80003,400);this.finish("disconnected",f)}else{const f="Unclean disconnection of WebSocket ; code = "+c,p=new N(f,80003,400);y.logAction(this.logger,y.LOG_MINOR,"WebSocketTransport.onWsClose()",f),this.finish("disconnected",p)}this.emit("disposed")}onWsError(i){y.logAction(this.logger,y.LOG_MINOR,"WebSocketTransport.onError()","Error from WebSocket: "+i.message),C.Config.nextTick(()=>{this.disconnect(Error(i.message))})}dispose(){y.logAction(this.logger,y.LOG_MINOR,"WebSocketTransport.dispose()",""),this.isDisposed=!0;const i=this.wsConnection;i&&(i.onmessage=function(){},delete this.wsConnection,C.Config.nextTick(()=>{if(y.logAction(this.logger,y.LOG_MICRO,"WebSocketTransport.dispose()","closing websocket"),!i)throw new Error("WebSocketTransport.dispose(): wsConnection is not defined");i.close()}))}},Hv=FO,BO=class{static subscribeFilter(i,a,c){const f=p=>{var v,O,P,U,j,J;const Q={name:p.name,refTimeserial:(O=(v=p.extras)==null?void 0:v.ref)==null?void 0:O.timeserial,refType:(U=(P=p.extras)==null?void 0:P.ref)==null?void 0:U.type,isRef:!!((J=(j=p.extras)==null?void 0:j.ref)!=null&&J.timeserial),clientId:p.clientId};Object.entries(a).find(([te,q])=>q!==void 0?Q[te]!==q:!1)||c(p)};this.addFilteredSubscription(i,a,c,f),i.subscriptions.on(f)}static addFilteredSubscription(i,a,c,f){var p;if(i.filteredSubscriptions||(i.filteredSubscriptions=new Map),i.filteredSubscriptions.has(c)){const v=i.filteredSubscriptions.get(c);v.set(a,((p=v==null?void 0:v.get(a))==null?void 0:p.concat(f))||[f])}else i.filteredSubscriptions.set(c,new Map([[a,[f]]]))}static getAndDeleteFilteredSubscriptions(i,a,c){if(!i.filteredSubscriptions)return[];if(!c&&a)return Array.from(i.filteredSubscriptions.entries()).map(([v,O])=>{var P;let U=O.get(a);return O.delete(a),O.size===0&&((P=i.filteredSubscriptions)==null||P.delete(v)),U}).reduce((v,O)=>O?v.concat(...O):v,[]);if(!c||!i.filteredSubscriptions.has(c))return[];const f=i.filteredSubscriptions.get(c);if(!a){const v=Array.from(f.values()).reduce((O,P)=>O.concat(...P),[]);return i.filteredSubscriptions.delete(c),v}let p=f.get(a);return f.delete(a),p||[]}},wn=class Dg extends IO{constructor(a){var c;const f=Dg._MsgPack;if(!f)throw new Error("Expected DefaultRealtime._MsgPack to have been set");super(he.objectifyOptions(a,!0,"Realtime",y.defaultLogger,R(b({},Ev),{Crypto:(c=Dg.Crypto)!=null?c:void 0,MsgPack:f,RealtimePresence:{RealtimePresence:jO,PresenceMessage:ts,WirePresenceMessage:ha},Annotations:{Annotation:ga,WireAnnotation:zo,RealtimeAnnotations:jv,RestAnnotations:jf},WebSocketTransport:Hv,MessageInteractions:BO})))}static get Crypto(){if(this._Crypto===null)throw new Error("Encryption not enabled; use ably.encryption.js instead");return this._Crypto}static set Crypto(a){this._Crypto=a}};wn.Utils=V,wn.ConnectionManager=Bv,wn.ProtocolMessage=uO,wn._Crypto=null,wn.Message=Tv,wn.PresenceMessage=Rv,wn.Annotation=Av,wn._MsgPack=null,wn._Http=Pf,wn._PresenceMap=Gf,wn._MessageEncoding=Sc;var Kf=wn,Qf=Uint8Array,va=Uint32Array,Jf=Math.pow,Wv=new va(8),Vv=[],wa=new va(64);function Gv(i){return(i-(i|0))*Jf(2,32)|0}for(var ba=2,Sa=0;Sa<64;){for(Xf=!0,Rc=2;Rc<=ba/2;Rc++)ba%Rc===0&&(Xf=!1);Xf&&(Sa<8&&(Wv[Sa]=Gv(Jf(ba,1/2))),Vv[Sa]=Gv(Jf(ba,1/3)),Sa++),ba++}var Xf,Rc,zO=!!new Qf(new va([1]).buffer)[0];function Yf(i){return zO?i>>>24|(i>>>16&255)<<8|(i&65280)<<8|i<<24:i}function lr(i,a){return i>>>a|i<<32-a}function kc(i){var a=Wv.slice(),c=i.length,f=c*8,p=512-(f+64)%512-1+f+65,v=new Qf(p/8),O=new va(v.buffer);v.set(i,0),v[c]=128,O[O.length-1]=Yf(f);for(var P,U=0;U<p/32;U+=16){var j=a.slice();for(P=0;P<64;P++){var J;if(P<16)J=Yf(O[U+P]);else{var Q=wa[P-15],te=wa[P-2];J=wa[P-7]+wa[P-16]+(lr(Q,7)^lr(Q,18)^Q>>>3)+(lr(te,17)^lr(te,19)^te>>>10)}wa[P]=J|=0;for(var q=(lr(j[4],6)^lr(j[4],11)^lr(j[4],25))+(j[4]&j[5]^~j[4]&j[6])+j[7]+J+Vv[P],re=(lr(j[0],2)^lr(j[0],13)^lr(j[0],22))+(j[0]&j[1]^j[2]&(j[0]^j[1])),se=7;se>0;se--)j[se]=j[se-1];j[0]=q+re|0,j[4]=j[4]+q|0}for(P=0;P<8;P++)a[P]=a[P]+j[P]|0}return new Qf(new va(a.map(function(ue){return Yf(ue)})).buffer)}function HO(i,a){if(i.length>64&&(i=kc(i)),i.length<64){const P=new Uint8Array(64);P.set(i,0),i=P}for(var c=new Uint8Array(64),f=new Uint8Array(64),p=0;p<64;p++)c[p]=54^i[p],f[p]=92^i[p];var v=new Uint8Array(a.length+64);v.set(c,0),v.set(a,64);var O=new Uint8Array(96);return O.set(f,0),O.set(kc(v),64),kc(O)}var WO=class{constructor(){this.base64CharSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",this.hexCharSet="0123456789abcdef"}uint8ViewToBase64(i){let a="";const c=this.base64CharSet,f=i.byteLength,p=f%3,v=f-p;let O,P,U,j,J;for(let Q=0;Q<v;Q=Q+3)J=i[Q]<<16|i[Q+1]<<8|i[Q+2],O=(J&16515072)>>18,P=(J&258048)>>12,U=(J&4032)>>6,j=J&63,a+=c[O]+c[P]+c[U]+c[j];return p==1?(J=i[v],O=(J&252)>>2,P=(J&3)<<4,a+=c[O]+c[P]+"=="):p==2&&(J=i[v]<<8|i[v+1],O=(J&64512)>>10,P=(J&1008)>>4,U=(J&15)<<2,a+=c[O]+c[P]+c[U]+"="),a}base64ToArrayBuffer(i){const a=atob==null?void 0:atob(i),c=a.length,f=new Uint8Array(c);for(let p=0;p<c;p++){const v=a.charCodeAt(p);f[p]=v}return this.toArrayBuffer(f)}isBuffer(i){return i instanceof ArrayBuffer||ArrayBuffer.isView(i)}toBuffer(i){if(!ArrayBuffer)throw new Error("Can't convert to Buffer: browser does not support the necessary types");if(i instanceof ArrayBuffer)return new Uint8Array(i);if(ArrayBuffer.isView(i))return new Uint8Array(this.toArrayBuffer(i));throw new Error("BufferUtils.toBuffer expected an ArrayBuffer or a view onto one")}toArrayBuffer(i){if(!ArrayBuffer)throw new Error("Can't convert to ArrayBuffer: browser does not support the necessary types");if(i instanceof ArrayBuffer)return i;if(ArrayBuffer.isView(i))return i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength);throw new Error("BufferUtils.toArrayBuffer expected an ArrayBuffer or a view onto one")}base64Encode(i){return this.uint8ViewToBase64(this.toBuffer(i))}base64UrlEncode(i){return this.base64Encode(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}base64Decode(i){if(ArrayBuffer&&C.Config.atob)return this.base64ToArrayBuffer(i);throw new Error("Expected ArrayBuffer to exist and Platform.Config.atob to be configured")}hexEncode(i){return this.toBuffer(i).reduce((c,f)=>c+f.toString(16).padStart(2,"0"),"")}hexDecode(i){if(i.length%2!==0)throw new Error("Can't create a byte array from a hex string of odd length");const a=new Uint8Array(i.length/2);for(let c=0;c<a.length;c++)a[c]=parseInt(i.slice(2*c,2*(c+1)),16);return this.toArrayBuffer(a)}utf8Encode(i){if(C.Config.TextEncoder){const a=new C.Config.TextEncoder().encode(i);return this.toArrayBuffer(a)}else throw new Error("Expected TextEncoder to be configured")}utf8Decode(i){if(!this.isBuffer(i))throw new Error("Expected input of utf8decode to be an arraybuffer or typed array");if(TextDecoder)return new TextDecoder().decode(i);throw new Error("Expected TextDecoder to be configured")}areBuffersEqual(i,a){if(!i||!a)return!1;const c=this.toArrayBuffer(i),f=this.toArrayBuffer(a);if(c.byteLength!=f.byteLength)return!1;const p=new Uint8Array(c),v=new Uint8Array(f);for(var O=0;O<p.length;O++)if(p[O]!=v[O])return!1;return!0}byteLength(i){return i instanceof ArrayBuffer||ArrayBuffer.isView(i)?i.byteLength:-1}arrayBufferViewToBuffer(i){return this.toArrayBuffer(i)}concat(i){const a=i.reduce((p,v)=>p+v.byteLength,0),c=new Uint8Array(a);let f=0;for(const p of i){const v=this.toBuffer(p);c.set(v,f),f+=v.byteLength}return c.buffer}sha256(i){const a=kc(this.toBuffer(i));return this.toArrayBuffer(a)}hmacSha256(i,a){const c=HO(this.toBuffer(a),this.toBuffer(i));return this.toArrayBuffer(c)}},qv=new WO,VO=function(i,a){var c="aes",f=256,p="cbc",v=16;function O(te){if(te.algorithm==="aes"&&te.mode==="cbc"){if(te.keyLength===128||te.keyLength===256)return;throw new Error("Unsupported key length "+te.keyLength+" for aes-cbc encryption. Encryption key must be 128 or 256 bits (16 or 32 ASCII characters)")}}function P(te){return te.replace("_","/").replace("-","+")}function U(te){return te instanceof j}class j{constructor(q,re,se,ue){this.algorithm=q,this.keyLength=re,this.mode=se,this.key=ue}}class J{static getDefaultParams(q){var re;if(!q.key)throw new Error("Crypto.getDefaultParams: a key is required");typeof q.key=="string"?re=a.toArrayBuffer(a.base64Decode(P(q.key))):q.key instanceof ArrayBuffer?re=q.key:re=a.toArrayBuffer(q.key);var se=q.algorithm||c,ue=re.byteLength*8,Re=q.mode||p,Ne=new j(se,ue,Re,re);if(q.keyLength&&q.keyLength!==Ne.keyLength)throw new Error("Crypto.getDefaultParams: a keyLength of "+q.keyLength+" was specified, but the key actually has length "+Ne.keyLength);return O(Ne),Ne}static async generateRandomKey(q){try{return i.getRandomArrayBuffer((q||f)/8)}catch(re){throw new N("Failed to generate random key: "+re.message,400,5e4,re)}}static getCipher(q,re){var se,ue=U(q)?q:this.getDefaultParams(q);return{cipherParams:ue,cipher:new Q(ue,(se=q.iv)!=null?se:null,re)}}}J.CipherParams=j;class Q{constructor(q,re,se){if(this.logger=se,!crypto.subtle)throw isSecureContext?new Error("Crypto operations are not possible since the browsers SubtleCrypto class is unavailable (reason unknown)."):new Error("Crypto operations are is not possible since the current environment is a non-secure context and hence the browsers SubtleCrypto class is not available.");this.algorithm=q.algorithm+"-"+String(q.keyLength)+"-"+q.mode,this.webCryptoAlgorithm=q.algorithm+"-"+q.mode,this.key=a.toArrayBuffer(q.key),this.iv=re?a.toArrayBuffer(re):null}concat(q,re){const se=new ArrayBuffer(q.byteLength+re.byteLength),ue=new DataView(se),Re=new DataView(a.toArrayBuffer(q));for(let Le=0;Le<Re.byteLength;Le++)ue.setInt8(Le,Re.getInt8(Le));const Ne=new DataView(a.toArrayBuffer(re));for(let Le=0;Le<Ne.byteLength;Le++)ue.setInt8(Re.byteLength+Le,Ne.getInt8(Le));return se}async encrypt(q){y.logAction(this.logger,y.LOG_MICRO,"CBCCipher.encrypt()","");const re=await this.getIv(),se=await crypto.subtle.importKey("raw",this.key,this.webCryptoAlgorithm,!1,["encrypt"]),ue=await crypto.subtle.encrypt({name:this.webCryptoAlgorithm,iv:re},se,q);return this.concat(re,ue)}async decrypt(q){y.logAction(this.logger,y.LOG_MICRO,"CBCCipher.decrypt()","");const re=a.toArrayBuffer(q),se=re.slice(0,v),ue=re.slice(v),Re=await crypto.subtle.importKey("raw",this.key,this.webCryptoAlgorithm,!1,["decrypt"]);return crypto.subtle.decrypt({name:this.webCryptoAlgorithm,iv:se},Re,ue)}async getIv(){if(this.iv){var q=this.iv;return this.iv=null,q}const re=await i.getRandomArrayBuffer(v);return a.toArrayBuffer(re)}}return J},Kv=(i=>(i[i.REQ_SEND=0]="REQ_SEND",i[i.REQ_RECV=1]="REQ_RECV",i[i.REQ_RECV_POLL=2]="REQ_RECV_POLL",i[i.REQ_RECV_STREAM=3]="REQ_RECV_STREAM",i))(Kv||{}),Nr=Kv;function Qv(){return new N("No HTTP request plugin provided. Provide at least one of the FetchRequest or XHRRequest plugins.",400,4e4)}var xa,Jv=(xa=class{constructor(i){this.checksInProgress=null,this.checkConnectivity=void 0,this.supportsAuthHeaders=!1,this.supportsLinkHeaders=!1;var a;this.client=i??null;const c=(i==null?void 0:i.options.connectivityCheckUrl)||he.connectivityCheckUrl,f=(a=i==null?void 0:i.options.connectivityCheckParams)!=null?a:null,p=!(i!=null&&i.options.connectivityCheckUrl),v=b(b({},Jv.bundledRequestImplementations),i==null?void 0:i._additionalHTTPRequestImplementations),O=v.XHRRequest,P=v.FetchRequest,U=!!(O||P);if(!U)throw Qv();C.Config.xhrSupported&&O?(this.supportsAuthHeaders=!0,this.Request=async function(j,J,Q,te,q){return new Promise(re=>{var se;const ue=O.createRequest(J,Q,te,q,Nr.REQ_SEND,(se=i&&i.options.timeouts)!=null?se:null,this.logger,j);ue.once("complete",(Re,Ne,Le,ge,sn)=>re({error:Re,body:Ne,headers:Le,unpacked:ge,statusCode:sn})),ue.exec()})},i!=null&&i.options.disableConnectivityCheck?this.checkConnectivity=async function(){return!0}:this.checkConnectivity=async function(){var j;y.logAction(this.logger,y.LOG_MICRO,"(XHRRequest)Http.checkConnectivity()","Sending; "+c);const J=await this.doUri(Ze.Get,c,null,null,f);let Q=!1;return p?Q=!J.error&&((j=J.body)==null?void 0:j.replace(/\n/,""))=="yes":Q=!J.error&&l_(J.statusCode),y.logAction(this.logger,y.LOG_MICRO,"(XHRRequest)Http.checkConnectivity()","Result: "+Q),Q}):C.Config.fetchSupported&&P?(this.supportsAuthHeaders=!0,this.Request=async(j,J,Q,te,q)=>P(j,i??null,J,Q,te,q),i!=null&&i.options.disableConnectivityCheck?this.checkConnectivity=async function(){return!0}:this.checkConnectivity=async function(){var j;y.logAction(this.logger,y.LOG_MICRO,"(Fetch)Http.checkConnectivity()","Sending; "+c);const J=await this.doUri(Ze.Get,c,null,null,null),Q=!J.error&&((j=J.body)==null?void 0:j.replace(/\n/,""))=="yes";return y.logAction(this.logger,y.LOG_MICRO,"(Fetch)Http.checkConnectivity()","Result: "+Q),Q}):this.Request=async()=>({error:U?new oe("no supported HTTP transports available",null,400):Qv()})}get logger(){var i,a;return(a=(i=this.client)==null?void 0:i.logger)!=null?a:y.defaultLogger}async doUri(i,a,c,f,p){return this.Request?this.Request(i,a,c,p,f):{error:new oe("Request invoked before assigned to",null,500)}}shouldFallback(i){const a=i.statusCode;return a===408&&!i.code||a===400&&!i.code||a>=500&&a<=504}},xa.methods=[Ze.Get,Ze.Delete,Ze.Post,Ze.Put,Ze.Patch],xa.methodsWithoutBody=[Ze.Get,Ze.Delete],xa.methodsWithBody=[Ze.Post,Ze.Put,Ze.Patch],xa),Xv=Jv,Wo="ablyjs-storage-test",Vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:self,GO=class{constructor(){try{Vo.sessionStorage.setItem(Wo,Wo),Vo.sessionStorage.removeItem(Wo),this.sessionSupported=!0}catch{this.sessionSupported=!1}try{Vo.localStorage.setItem(Wo,Wo),Vo.localStorage.removeItem(Wo),this.localSupported=!0}catch{this.localSupported=!1}}get(i){return this._get(i,!1)}getSession(i){return this._get(i,!0)}remove(i){return this._remove(i,!1)}removeSession(i){return this._remove(i,!0)}set(i,a,c){return this._set(i,a,c,!1)}setSession(i,a,c){return this._set(i,a,c,!0)}_set(i,a,c,f){const p={value:a};return c&&(p.expires=Date.now()+c),this.storageInterface(f).setItem(i,JSON.stringify(p))}_get(i,a){if(a&&!this.sessionSupported)throw new Error("Session Storage not supported");if(!a&&!this.localSupported)throw new Error("Local Storage not supported");const c=this.storageInterface(a).getItem(i);if(!c)return null;const f=JSON.parse(c);return f.expires&&f.expires<Date.now()?(this.storageInterface(a).removeItem(i),null):f.value}_remove(i,a){return this.storageInterface(a).removeItem(i)}storageInterface(i){return i?Vo.sessionStorage:Vo.localStorage}},Yv=new GO,nt=Lo(),qO=typeof EdgeRuntime=="string";typeof Window>"u"&&typeof WorkerGlobalScope>"u"&&!qO&&console.log("Warning: this distribution of Ably is intended for browsers. On nodejs, please use the 'ably' package on npm");function KO(){const i=nt.location;return!nt.WebSocket||!i||!i.origin||i.origin.indexOf("http")>-1}function QO(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}var JO=nt.navigator&&nt.navigator.userAgent.toString(),XO=nt.location&&nt.location.href,YO={agent:"browser",logTimestamps:!0,userAgent:JO,currentUrl:XO,binaryType:"arraybuffer",WebSocket:nt.WebSocket,fetchSupported:!!nt.fetch,xhrSupported:nt.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,allowComet:KO(),useProtocolHeartbeats:!0,supportsBinary:!!nt.TextDecoder,preferBinary:!1,ArrayBuffer:nt.ArrayBuffer,atob:nt.atob,nextTick:typeof nt.queueMicrotask=="function"?i=>nt.queueMicrotask(i):i=>Promise.resolve().then(i),addEventListener:nt.addEventListener,inspect:JSON.stringify,stringByteSize:function(i){return nt.TextDecoder&&new nt.TextEncoder().encode(i).length||i.length},TextEncoder:nt.TextEncoder,TextDecoder:nt.TextDecoder,getRandomArrayBuffer:async function(i){const a=new Uint8Array(i);return nt.crypto.getRandomValues(a),a.buffer},isWebworker:QO(),push:{platform:"browser",formFactor:"desktop",storage:Yv}},Zv=YO;function ZO(i){const a=[80015,80017,80030];return i.code?Ir.isTokenErr(i)?!1:a.includes(i.code)?!0:i.code>=4e4&&i.code<5e4:!1}function Zf(i){return ZO(i)?[rn({action:ce.ERROR,error:i})]:[rn({action:ce.DISCONNECTED,error:i})]}var eA=class extends Ho{constructor(i,a,c){super(i,a,c,!0),this.onAuthUpdated=f=>{this.authParams={access_token:f.token}},this.stream="stream"in c?c.stream:!0,this.sendRequest=null,this.recvRequest=null,this.pendingCallback=null,this.pendingItems=null}connect(){y.logAction(this.logger,y.LOG_MINOR,"CometTransport.connect()","starting"),Ho.prototype.connect.call(this);const i=this.params,a=i.options,c=i.host||a.primaryDomain,f=he.getPort(a),p=a.tls?"https://":"http://";this.baseUri=p+c+":"+f+"/comet/";const v=this.baseUri+"connect";y.logAction(this.logger,y.LOG_MINOR,"CometTransport.connect()","uri: "+v),Ye(this.auth.getAuthParams(),(O,P)=>{if(O){this.disconnect(O);return}if(this.isDisposed)return;this.authParams=P;const U=this.params.getConnectParams(P);"stream"in U&&(this.stream=U.stream),y.logAction(this.logger,y.LOG_MINOR,"CometTransport.connect()","connectParams:"+Nn(U));let j=!1;const J=this.recvRequest=this.createRequest(v,null,U,null,this.stream?Nr.REQ_RECV_STREAM:Nr.REQ_RECV);J.on("data",Q=>{this.recvRequest&&(j||(j=!0,this.emit("preconnect")),this.onData(Q))}),J.on("complete",Q=>{if(this.recvRequest||(Q=Q||new N("Request cancelled",80003,400)),this.recvRequest=null,!j&&!Q&&(j=!0,this.emit("preconnect")),this.onActivity(),Q){Q.code?this.onData(Zf(Q)):this.disconnect(Q);return}C.Config.nextTick(()=>{this.recv()})}),J.exec()})}requestClose(){y.logAction(this.logger,y.LOG_MINOR,"CometTransport.requestClose()"),this._requestCloseOrDisconnect(!0)}requestDisconnect(){y.logAction(this.logger,y.LOG_MINOR,"CometTransport.requestDisconnect()"),this._requestCloseOrDisconnect(!1)}_requestCloseOrDisconnect(i){const a=i?this.closeUri:this.disconnectUri;if(a){const c=this.createRequest(a,null,this.authParams,null,Nr.REQ_SEND);c.on("complete",f=>{f&&(y.logAction(this.logger,y.LOG_ERROR,"CometTransport.request"+(i?"Close()":"Disconnect()"),"request returned err = "+Ee(f)),this.finish("disconnected",f))}),c.exec()}}dispose(){y.logAction(this.logger,y.LOG_MINOR,"CometTransport.dispose()",""),this.isDisposed||(this.isDisposed=!0,this.recvRequest&&(y.logAction(this.logger,y.LOG_MINOR,"CometTransport.dispose()","aborting recv request"),this.recvRequest.abort(),this.recvRequest=null),this.finish("disconnected",Qs.disconnected()),C.Config.nextTick(()=>{this.emit("disposed")}))}onConnect(i){var a;if(this.isDisposed)return;const c=(a=i.connectionDetails)==null?void 0:a.connectionKey;Ho.prototype.onConnect.call(this,i);const f=this.baseUri+c;y.logAction(this.logger,y.LOG_MICRO,"CometTransport.onConnect()","baseUri = "+f),this.sendUri=f+"/send",this.recvUri=f+"/recv",this.closeUri=f+"/close",this.disconnectUri=f+"/disconnect"}send(i){if(this.sendRequest){this.pendingItems=this.pendingItems||[],this.pendingItems.push(i);return}const a=this.pendingItems||[];a.push(i),this.pendingItems=null,this.sendItems(a)}sendAnyPending(){const i=this.pendingItems;i&&(this.pendingItems=null,this.sendItems(i))}sendItems(i){const a=this.sendRequest=this.createRequest(this.sendUri,null,this.authParams,this.encodeRequest(i),Nr.REQ_SEND);a.on("complete",(c,f)=>{if(c&&y.logAction(this.logger,y.LOG_ERROR,"CometTransport.sendItems()","on complete: err = "+Ee(c)),this.sendRequest=null,c){c.code?this.onData(Zf(c)):this.disconnect(c);return}f&&this.onData(f),this.pendingItems&&C.Config.nextTick(()=>{this.sendRequest||this.sendAnyPending()})}),a.exec()}recv(){if(this.recvRequest||!this.isConnected)return;const i=this.recvRequest=this.createRequest(this.recvUri,null,this.authParams,null,this.stream?Nr.REQ_RECV_STREAM:Nr.REQ_RECV_POLL);i.on("data",a=>{this.onData(a)}),i.on("complete",a=>{if(this.recvRequest=null,this.onActivity(),a){a.code?this.onData(Zf(a)):this.disconnect(a);return}C.Config.nextTick(()=>{this.recv()})}),i.exec()}onData(i){try{const a=this.decodeResponse(i);if(a&&a.length)for(let c=0;c<a.length;c++)this.onProtocolMessage(Uf(a[c],this.connectionManager.realtime._RealtimePresence,this.connectionManager.realtime._Annotations,this.connectionManager.realtime._objectsPlugin))}catch(a){y.logAction(this.logger,y.LOG_ERROR,"CometTransport.onData()","Unexpected exception handing channel event: "+a.stack)}}encodeRequest(i){return JSON.stringify(i)}decodeResponse(i){return typeof i=="string"?JSON.parse(i):i}},tA=eA;function nA(i,a){return es(Xe(a)).includes("x-ably-errorcode")}function rA(i,a){if(nA(i,a))return i.error&&N.fromValues(i.error)}var sA=function(){},oA=0,e0={};function iA(i,a){return i.getResponseHeader&&i.getResponseHeader(a)}function aA(i){return i.getResponseHeader&&(i.getResponseHeader("transfer-encoding")||!i.getResponseHeader("content-length"))}function lA(i){const a=i.getAllResponseHeaders().trim().split(`\r
`),c={};for(let f=0;f<a.length;f++){const p=a[f].split(":").map(v=>v.trim());c[p[0].toLowerCase()]=p[1]}return c}var cA=class ZE extends dt{constructor(a,c,f,p,v,O,P,U){super(P),f=f||{},f.rnd=No(),this.uri=a+Nn(f),this.headers=c||{},this.body=p,this.method=U?U.toUpperCase():ne(p)?"GET":"POST",this.requestMode=v,this.timeouts=O,this.timedOut=!1,this.requestComplete=!1,this.id=String(++oA),e0[this.id]=this}static createRequest(a,c,f,p,v,O,P,U){const j=O||he.TIMEOUTS;return new ZE(a,c,D(f),p,v,j,P,U)}complete(a,c,f,p,v){this.requestComplete||(this.requestComplete=!0,!a&&c&&this.emit("data",c),this.emit("complete",a,c,f,p,v),this.dispose())}abort(){this.dispose()}exec(){let a=this.headers;const c=this.requestMode==Nr.REQ_SEND?this.timeouts.httpRequestTimeout:this.timeouts.recvTimeout,f=this.timer=setTimeout(()=>{this.timedOut=!0,v.abort()},c),p=this.method,v=this.xhr=new XMLHttpRequest,O=a.accept;let P=this.body,U="text";O?O.indexOf("application/x-msgpack")===0&&(U="arraybuffer"):a.accept="application/json",P&&(a["content-type"]||(a["content-type"]="application/json")).indexOf("application/json")>-1&&typeof P!="string"&&(P=JSON.stringify(P)),v.open(p,this.uri,!0),v.responseType=U,"authorization"in a&&(v.withCredentials=!0);for(const ge in a)v.setRequestHeader(ge,a[ge]);const j=(ge,sn,wt,Ra)=>{var Go;let rh=sn+" (event type: "+ge.type+")";(Go=this==null?void 0:this.xhr)!=null&&Go.statusText&&(rh+=", current statusText is "+this.xhr.statusText),y.logAction(this.logger,y.LOG_ERROR,"Request.on"+ge.type+"()",rh),this.complete(new oe(rh,wt,Ra))};v.onerror=ge=>{j(ge,"XHR error occurred",null,400)},v.onabort=ge=>{this.timedOut?j(ge,"Request aborted due to request timeout expiring",null,408):j(ge,"Request cancelled",null,400)},v.ontimeout=ge=>{j(ge,"Request timed out",null,408)};let J,Q,te,q=0,re=!1;const se=()=>{if(clearTimeout(f),te=Q<400,Q==204){this.complete(null,null,null,null,Q);return}J=this.requestMode==Nr.REQ_RECV_STREAM&&te&&aA(v)},ue=()=>{let ge;try{const wt=iA(v,"content-type");if(wt?wt.indexOf("application/json")>=0:v.responseType=="text"){const Go=v.responseType==="arraybuffer"?C.BufferUtils.utf8Decode(v.response):String(v.responseText);Go.length?ge=JSON.parse(Go):ge=Go,re=!0}else ge=v.response;ge.response!==void 0?(Q=ge.statusCode,te=Q<400,a=ge.headers,ge=ge.response):a=lA(v)}catch(wt){this.complete(new oe("Malformed response body from server: "+wt.message,null,400));return}if(te||Array.isArray(ge)){this.complete(null,ge,a,re,Q);return}let sn=rA(ge,a);sn||(sn=new oe("Error response received from server: "+Q+" body was: "+C.Config.inspect(ge),null,Q)),this.complete(sn,ge,a,re,Q)};function Re(){const ge=v.responseText,sn=ge.length-1;let wt,Ra;for(;q<sn&&(wt=ge.indexOf(`
`,q))>-1;)Ra=ge.slice(q,wt),q=wt+1,Ne(Ra)}const Ne=ge=>{try{ge=JSON.parse(ge)}catch(sn){this.complete(new oe("Malformed response body from server: "+sn.message,null,400));return}this.emit("data",ge)},Le=()=>{Re(),this.streamComplete=!0,C.Config.nextTick(()=>{this.complete()})};v.onreadystatechange=()=>{const ge=v.readyState;ge<3||v.status!==0&&(Q===void 0&&(Q=v.status,se()),ge==3&&J?Re():ge==4&&(J?Le():ue()))},v.send(P)}dispose(){const a=this.xhr;if(a){a.onreadystatechange=a.onerror=a.onabort=a.ontimeout=sA,this.xhr=null;const c=this.timer;c&&(clearTimeout(c),this.timer=null),this.requestComplete||a.abort()}delete e0[this.id]}},t0=cA,n0=Gt.XhrPolling,uA=class extends tA{constructor(i,a,c){super(i,a,c),this.shortName=n0,c.stream=!1,this.shortName=n0}static isAvailable(){return!!(C.Config.xhrSupported&&C.Config.allowComet)}toString(){return"XHRPollingTransport; uri="+this.baseUri+"; isConnected="+this.isConnected}createRequest(i,a,c,f,p){return t0.createRequest(i,a,c,f,p,this.timeouts,this.logger)}},dA=uA,fA=["xhr_polling"],hA={order:fA,bundledImplementations:{web_socket:Hv,xhr_polling:dA}},pA=hA,gA={connectivityCheckUrl:"https://internet-up.ably-realtime.com/is-the-internet-up.txt",wsConnectivityCheckUrl:"wss://ws-up.ably-realtime.com",defaultTransports:[Gt.XhrPolling,Gt.WebSocket]},mA=gA;function yA(i){if(i===void 0)return"undefined";let a,c;if(i instanceof ArrayBuffer?(c="ArrayBuffer",a=new DataView(i)):i instanceof DataView&&(c="DataView",a=i),!a)return JSON.stringify(i);const f=[];for(let p=0;p<i.byteLength;p++){if(p>20){f.push("...");break}let v=a.getUint8(p).toString(16);v.length===1&&(v="0"+v),f.push(v)}return"<"+c+" "+f.join(" ")+">"}function Ca(i,a,c){for(let f=0,p=c.length;f<p;f++){const v=c.charCodeAt(f);if(v<128){i.setUint8(a++,v>>>0&127|0);continue}if(v<2048){i.setUint8(a++,v>>>6&31|192),i.setUint8(a++,v>>>0&63|128);continue}if(v<65536){i.setUint8(a++,v>>>12&15|224),i.setUint8(a++,v>>>6&63|128),i.setUint8(a++,v>>>0&63|128);continue}if(v<1114112){i.setUint8(a++,v>>>18&7|240),i.setUint8(a++,v>>>12&63|128),i.setUint8(a++,v>>>6&63|128),i.setUint8(a++,v>>>0&63|128);continue}throw new Error("bad codepoint "+v)}}function r0(i,a,c){let f="";for(let p=a,v=a+c;p<v;p++){const O=i.getUint8(p);if(!(O&128)){f+=String.fromCharCode(O);continue}if((O&224)===192){f+=String.fromCharCode((O&15)<<6|i.getUint8(++p)&63);continue}if((O&240)===224){f+=String.fromCharCode((O&15)<<12|(i.getUint8(++p)&63)<<6|(i.getUint8(++p)&63)<<0);continue}if((O&248)===240){f+=String.fromCharCode((O&7)<<18|(i.getUint8(++p)&63)<<12|(i.getUint8(++p)&63)<<6|(i.getUint8(++p)&63)<<0);continue}throw new Error("Invalid byte "+O.toString(16))}return f}function eh(i){let a=0;for(let c=0,f=i.length;c<f;c++){const p=i.charCodeAt(c);if(p<128){a+=1;continue}if(p<2048){a+=2;continue}if(p<65536){a+=3;continue}if(p<1114112){a+=4;continue}throw new Error("bad codepoint "+p)}return a}function vA(i,a){const c=Ta(i,a);if(c===0)return;const f=new ArrayBuffer(c),p=new DataView(f);return Ea(i,p,0,a),f}var th=65536*65536,s0=1/th;function wA(i,a){return a=a||0,i.getInt32(a)*th+i.getUint32(a+4)}function bA(i,a){return a=a||0,i.getUint32(a)*th+i.getUint32(a+4)}function SA(i,a,c){c<9223372036854776e3?(i.setInt32(a,Math.floor(c*s0)),i.setInt32(a+4,c&-1)):(i.setUint32(a,2147483647),i.setUint32(a+4,2147483647))}function xA(i,a,c){c<18446744073709552e3?(i.setUint32(a,Math.floor(c*s0)),i.setInt32(a+4,c&-1)):(i.setUint32(a,4294967295),i.setUint32(a+4,4294967295))}var CA=class{constructor(i,a){this.map=c=>{const f={};for(let p=0;p<c;p++){const v=this.parse();f[v]=this.parse()}return f},this.bin=c=>{const f=new ArrayBuffer(c);return new Uint8Array(f).set(new Uint8Array(this.view.buffer,this.offset,c),0),this.offset+=c,f},this.buf=this.bin,this.str=c=>{const f=r0(this.view,this.offset,c);return this.offset+=c,f},this.array=c=>{const f=new Array(c);for(let p=0;p<c;p++)f[p]=this.parse();return f},this.ext=c=>(this.offset+=c,{type:this.view.getInt8(this.offset),data:this.buf(c)}),this.parse=()=>{const c=this.view.getUint8(this.offset);let f,p;if(!(c&128))return this.offset++,c;if((c&240)===128)return p=c&15,this.offset++,this.map(p);if((c&240)===144)return p=c&15,this.offset++,this.array(p);if((c&224)===160)return p=c&31,this.offset++,this.str(p);if((c&224)===224)return f=this.view.getInt8(this.offset),this.offset++,f;switch(c){case 192:return this.offset++,null;case 193:this.offset++;return;case 194:return this.offset++,!1;case 195:return this.offset++,!0;case 196:return p=this.view.getUint8(this.offset+1),this.offset+=2,this.bin(p);case 197:return p=this.view.getUint16(this.offset+1),this.offset+=3,this.bin(p);case 198:return p=this.view.getUint32(this.offset+1),this.offset+=5,this.bin(p);case 199:return p=this.view.getUint8(this.offset+1),this.offset+=2,this.ext(p);case 200:return p=this.view.getUint16(this.offset+1),this.offset+=3,this.ext(p);case 201:return p=this.view.getUint32(this.offset+1),this.offset+=5,this.ext(p);case 202:return f=this.view.getFloat32(this.offset+1),this.offset+=5,f;case 203:return f=this.view.getFloat64(this.offset+1),this.offset+=9,f;case 204:return f=this.view.getUint8(this.offset+1),this.offset+=2,f;case 205:return f=this.view.getUint16(this.offset+1),this.offset+=3,f;case 206:return f=this.view.getUint32(this.offset+1),this.offset+=5,f;case 207:return f=bA(this.view,this.offset+1),this.offset+=9,f;case 208:return f=this.view.getInt8(this.offset+1),this.offset+=2,f;case 209:return f=this.view.getInt16(this.offset+1),this.offset+=3,f;case 210:return f=this.view.getInt32(this.offset+1),this.offset+=5,f;case 211:return f=wA(this.view,this.offset+1),this.offset+=9,f;case 212:return p=1,this.offset++,this.ext(p);case 213:return p=2,this.offset++,this.ext(p);case 214:return p=4,this.offset++,this.ext(p);case 215:return p=8,this.offset++,this.ext(p);case 216:return p=16,this.offset++,this.ext(p);case 217:return p=this.view.getUint8(this.offset+1),this.offset+=2,this.str(p);case 218:return p=this.view.getUint16(this.offset+1),this.offset+=3,this.str(p);case 219:return p=this.view.getUint32(this.offset+1),this.offset+=5,this.str(p);case 220:return p=this.view.getUint16(this.offset+1),this.offset+=3,this.array(p);case 221:return p=this.view.getUint32(this.offset+1),this.offset+=5,this.array(p);case 222:return p=this.view.getUint16(this.offset+1),this.offset+=3,this.map(p);case 223:return p=this.view.getUint32(this.offset+1),this.offset+=5,this.map(p)}throw new Error("Unknown type 0x"+c.toString(16))},this.offset=a||0,this.view=i}};function EA(i){const a=new DataView(i),c=new CA(a),f=c.parse();if(c.offset!==i.byteLength)throw new Error(i.byteLength-c.offset+" trailing bytes");return f}function o0(i,a){return Object.keys(i).filter(function(c){const f=i[c],p=typeof f;return(!a||f!=null)&&(p!=="function"||!!f.toJSON)})}function Ea(i,a,c,f){const p=typeof i;if(typeof i=="string"){const v=eh(i);if(v<32)return a.setUint8(c,v|160),Ca(a,c+1,i),1+v;if(v<256)return a.setUint8(c,217),a.setUint8(c+1,v),Ca(a,c+2,i),2+v;if(v<65536)return a.setUint8(c,218),a.setUint16(c+1,v),Ca(a,c+3,i),3+v;if(v<4294967296)return a.setUint8(c,219),a.setUint32(c+1,v),Ca(a,c+5,i),5+v}if(ArrayBuffer.isView&&ArrayBuffer.isView(i)&&(i=i.buffer),i instanceof ArrayBuffer){const v=i.byteLength;if(v<256)return a.setUint8(c,196),a.setUint8(c+1,v),new Uint8Array(a.buffer).set(new Uint8Array(i),c+2),2+v;if(v<65536)return a.setUint8(c,197),a.setUint16(c+1,v),new Uint8Array(a.buffer).set(new Uint8Array(i),c+3),3+v;if(v<4294967296)return a.setUint8(c,198),a.setUint32(c+1,v),new Uint8Array(a.buffer).set(new Uint8Array(i),c+5),5+v}if(typeof i=="number"){if(Math.floor(i)!==i)return a.setUint8(c,203),a.setFloat64(c+1,i),9;if(i>=0){if(i<128)return a.setUint8(c,i),1;if(i<256)return a.setUint8(c,204),a.setUint8(c+1,i),2;if(i<65536)return a.setUint8(c,205),a.setUint16(c+1,i),3;if(i<4294967296)return a.setUint8(c,206),a.setUint32(c+1,i),5;if(i<18446744073709552e3)return a.setUint8(c,207),xA(a,c+1,i),9;throw new Error("Number too big 0x"+i.toString(16))}if(i>=-32)return a.setInt8(c,i),1;if(i>=-128)return a.setUint8(c,208),a.setInt8(c+1,i),2;if(i>=-32768)return a.setUint8(c,209),a.setInt16(c+1,i),3;if(i>=-2147483648)return a.setUint8(c,210),a.setInt32(c+1,i),5;if(i>=-9223372036854776e3)return a.setUint8(c,211),SA(a,c+1,i),9;throw new Error("Number too small -0x"+(-i).toString(16).substr(1))}if(p==="undefined")return f?0:(a.setUint8(c,212),a.setUint8(c+1,0),a.setUint8(c+2,0),3);if(i===null)return f?0:(a.setUint8(c,192),1);if(p==="boolean")return a.setUint8(c,i?195:194),1;if(typeof i.toJSON=="function")return Ea(i.toJSON(),a,c,f);if(p==="object"){let v,O=0,P;const U=Array.isArray(i);if(U?v=i.length:(P=o0(i,f),v=P.length),v<16?(a.setUint8(c,v|(U?144:128)),O=1):v<65536?(a.setUint8(c,U?220:222),a.setUint16(c+1,v),O=3):v<4294967296&&(a.setUint8(c,U?221:223),a.setUint32(c+1,v),O=5),U)for(let j=0;j<v;j++)O+=Ea(i[j],a,c+O,f);else if(P)for(let j=0;j<v;j++){const J=P[j];O+=Ea(J,a,c+O),O+=Ea(i[J],a,c+O,f)}return O}if(p==="function")return 0;throw new Error("Unknown type "+p)}function Ta(i,a){const c=typeof i;if(c==="string"){const f=eh(i);if(f<32)return 1+f;if(f<256)return 2+f;if(f<65536)return 3+f;if(f<4294967296)return 5+f}if(ArrayBuffer.isView&&ArrayBuffer.isView(i)&&(i=i.buffer),i instanceof ArrayBuffer){const f=i.byteLength;if(f<256)return 2+f;if(f<65536)return 3+f;if(f<4294967296)return 5+f}if(typeof i=="number"){if(Math.floor(i)!==i)return 9;if(i>=0){if(i<128)return 1;if(i<256)return 2;if(i<65536)return 3;if(i<4294967296)return 5;if(i<18446744073709552e3)return 9;throw new Error("Number too big 0x"+i.toString(16))}if(i>=-32)return 1;if(i>=-128)return 2;if(i>=-32768)return 3;if(i>=-2147483648)return 5;if(i>=-9223372036854776e3)return 9;throw new Error("Number too small -0x"+i.toString(16).substr(1))}if(c==="boolean")return 1;if(i===null)return a?0:1;if(i===void 0)return a?0:3;if(typeof i.toJSON=="function")return Ta(i.toJSON(),a);if(c==="object"){let f,p=0;if(Array.isArray(i)){f=i.length;for(let v=0;v<f;v++)p+=Ta(i[v],a)}else{const v=o0(i,a);f=v.length;for(let O=0;O<f;O++){const P=v[O];p+=Ta(P)+Ta(i[P],a)}}if(f<16)return 1+p;if(f<65536)return 3+p;if(f<4294967296)return 5+p;throw new Error("Array or object too long 0x"+f.toString(16))}if(c==="function")return 0;throw new Error("Unknown type "+c)}var nh={encode:vA,decode:EA,inspect:yA,utf8Write:Ca,utf8Read:r0,utf8ByteCount:eh};function TA(i,a){return!!a.get("x-ably-errorcode")}function RA(i,a){if(TA(i,a))return i.error&&N.fromValues(i.error)}function kA(i){const a={};return i.forEach((c,f)=>{a[f]=c}),a}async function _A(i,a,c,f,p,v){const O=new Headers(f||{}),P=i?i.toUpperCase():ne(v)?"GET":"POST",U=new AbortController;let j;const J=new Promise(q=>{j=setTimeout(()=>{U.abort(),q({error:new oe("Request timed out",null,408)})},a?a.options.timeouts.httpRequestTimeout:he.TIMEOUTS.httpRequestTimeout)}),Q={method:P,headers:O,body:v,signal:U.signal};C.Config.isWebworker||(Q.credentials=O.has("authorization")?"include":"same-origin");const te=(async()=>{try{const q=new URLSearchParams(p||{});q.set("rnd",No());const re=c+"?"+q,se=await Lo().fetch(re,Q);if(clearTimeout(j),se.status==204)return{error:null,statusCode:se.status};const ue=se.headers.get("Content-Type");let Re;ue&&ue.indexOf("application/x-msgpack")>-1?Re=await se.arrayBuffer():ue&&ue.indexOf("application/json")>-1?Re=await se.json():Re=await se.text();const Ne=!!ue&&ue.indexOf("application/x-msgpack")===-1,Le=kA(se.headers);return se.ok?{error:null,body:Re,headers:Le,unpacked:Ne,statusCode:se.status}:{error:RA(Re,se.headers)||new oe("Error response received from server: "+se.status+" body was: "+C.Config.inspect(Re),null,se.status),body:Re,headers:Le,unpacked:Ne,statusCode:se.status}}catch(q){return clearTimeout(j),{error:q}}})();return Promise.race([J,te])}var OA={XHRRequest:t0,FetchRequest:_A},i0=VO(Zv,qv);C.Crypto=i0,C.BufferUtils=qv,C.Http=Xv,C.Config=Zv,C.Transports=pA,C.WebStorage=Yv;for(const i of[zf,Kf])i.Crypto=i0,i._MsgPack=nh;Xv.bundledRequestImplementations=OA,y.initLogHandlers(),C.Defaults=i_(mA),C.Config.agent&&(C.Defaults.agent+=" "+C.Config.agent);var AA={ErrorInfo:N,Rest:zf,Realtime:Kf,msgpack:nh,makeProtocolMessageFromDeserialized:Mv};if(typeof r.exports=="object"&&typeof n=="object"){var PA=(i,a,c,f)=>{if(a&&typeof a=="object"||typeof a=="function")for(let p of Object.getOwnPropertyNames(a))!Object.prototype.hasOwnProperty.call(i,p)&&p!==c&&Object.defineProperty(i,p,{get:()=>a[p],enumerable:!(f=Object.getOwnPropertyDescriptor(a,p))||f.enumerable});return i};r.exports=PA(r.exports,n)}return r.exports})})(qE);var YU=qE.exports;const ZU="http://localhost:8081/api";class e${constructor(){Pt(this,"client",null);Pt(this,"channels",new Map);Pt(this,"messageListeners",new Map);Pt(this,"typingListeners",new Map);Pt(this,"presenceListeners",new Map)}async initialize(){try{this.client=new YU.Realtime({authCallback:async(t,n)=>{var r,s,o;try{console.log(" Ably authCallback: Fetching token");const l=localStorage.getItem("accessToken");if(l)try{const g=JSON.parse(atob(l.split(".")[1])),m=Date.now()/1e3;g.exp<m&&console.log(" JWT token expired, attempting refresh...")}catch(g){console.warn(" Failed to check token expiration:",g)}const u={Accept:"application/json"};l&&(u.Authorization=`Bearer ${l}`);const d=await fetch(`${ZU}/auth/ably-token`,{method:"GET",headers:u,credentials:"same-origin"});let h;try{h=await d.json()}catch{throw new Error("Invalid JSON response from /auth/ably-token")}if(console.log(" Ably token response:",d.status,h),!d.ok||!(h!=null&&h.success))throw new Error((h==null?void 0:h.message)||`Failed to get Ably token (status ${d.status})`);console.log(" Ably token obtained successfully"),n(null,h.data.token)}catch(l){console.error(" Failed to fetch Ably token:",l);const u={code:500,message:((s=(r=l.response)==null?void 0:r.data)==null?void 0:s.message)||l.message||"Failed to fetch Ably token",statusCode:((o=l.response)==null?void 0:o.status)||500,name:"AuthError"};n(u,null)}},autoConnect:!0}),await new Promise((t,n)=>{if(!this.client)return n(new Error("Client not initialized"));this.client.connection.on("connected",()=>{console.log(" Connected to Ably"),t(void 0)}),this.client.connection.on("failed",r=>{console.error(" Ably connection failed:",r.reason),n(new Error(`Connection failed: ${r.reason}`))}),this.client.connection.on("disconnected",()=>{console.log(" Disconnected from Ably")})})}catch(t){throw console.error(" Failed to initialize Ably Chat Service:",t),t}}isConnected(){var t;return((t=this.client)==null?void 0:t.connection.state)==="connected"}disconnect(){this.client&&(this.client.close(),this.client=null,this.channels.clear(),this.messageListeners.clear(),this.typingListeners.clear(),this.presenceListeners.clear())}getChannel(t){if(!this.client)throw new Error("Ably client not initialized");if(!this.channels.has(t)){const n=this.client.channels.get(t);this.channels.set(t,n)}return this.channels.get(t)}async joinChannel(t){try{await this.getChannel(t).attach(),console.log(` Joined channel: ${t}`)}catch(n){throw console.error(` Failed to join channel ${t}:`,n),n}}async leaveChannel(t){try{const n=this.channels.get(t);n&&(console.log(` leaveChannel requested for: ${t}`),console.trace(),await n.detach(),this.channels.delete(t),this.messageListeners.delete(t),this.typingListeners.delete(t),this.presenceListeners.delete(t),console.log(` Left channel: ${t}`))}catch(n){throw console.error(` Failed to leave channel ${t}:`,n),n}}async sendMessage(t,n){try{const r=this.getChannel(t),s={...n,id:`msg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now()};await r.publish("message",s),console.log(` Message sent to ${t}`)}catch(r){throw console.error(` Failed to send message to ${t}:`,r),r}}addMessageListener(t,n){const r=this.getChannel(t),s=o=>{if(o.name==="message"){const l=o.data;n(l)}};r.subscribe("message",s),this.messageListeners.set(t,n)}removeMessageListener(t,n){const r=this.channels.get(t);r&&(r.unsubscribe("message"),this.messageListeners.delete(t))}sendTypingIndicator(t,n,r){try{const s=this.getChannel(t),o={userId:n,userEmail:n,isTyping:r,timestamp:Date.now()};s.publish("typing",o)}catch(s){console.error(` Failed to send typing indicator to ${t}:`,s)}}addTypingListener(t,n){const r=this.getChannel(t),s=o=>{if(o.name==="typing"){const l=o.data;n(l)}};r.subscribe("typing",s),this.typingListeners.set(t,n)}removeTypingListener(t){const n=this.channels.get(t);n&&(n.unsubscribe("typing"),this.typingListeners.delete(t))}async enterPresence(t,n){try{const r=this.getChannel(t),s={...n,online:!0};await r.presence.enter(s),console.log(` Entered presence in ${t}`)}catch(r){throw console.error(` Failed to enter presence in ${t}:`,r),r}}async leavePresence(t){try{const n=this.channels.get(t);n&&(await n.presence.leave(),console.log(` Left presence in ${t}`))}catch(n){throw console.error(` Failed to leave presence in ${t}:`,n),n}}addPresenceListener(t,n){const r=this.getChannel(t),s=async()=>{try{const l=(await r.presence.get()).map(u=>u.data);n(l)}catch(o){console.error(` Failed to get presence for ${t}:`,o)}};r.presence.subscribe(["enter","leave","update"],s),this.presenceListeners.set(t,n),s()}removePresenceListener(t){const n=this.channels.get(t);n&&(n.presence.unsubscribe(),this.presenceListeners.delete(t))}async getPresenceMembers(t){try{const n=this.channels.get(t);return n?(await n.presence.get()).map(s=>s.data):[]}catch(n){return console.error(` Failed to get presence members for ${t}:`,n),[]}}}const Js=new e$,eT=w.createContext(null),t$=()=>{const e=w.useContext(eT);if(!e)throw new Error("useAgoraChat must be used within AgoraChatProvider");return e},n$=({children:e})=>{const{user:t}=cf(),[n,r]=w.useState(!1),[s,o]=w.useState([]),[l,u]=w.useState([]),[d,h]=w.useState(new Set),g=w.useRef(new Map),m=w.useRef(new Set);w.useEffect(()=>(t&&(async()=>{try{await Js.initialize(),r(!0),console.log(" Ably Chat Service connected")}catch(I){console.error("Failed to initialize Ably:",I),r(!1)}})(),()=>{Js.disconnect()}),[t]);const S=w.useCallback(C=>{const I=`chat-${C}`;h(M=>{if(M.has(C))return console.log(`Already joined room: ${C}`),M;try{Js.joinChannel(I);const L=K=>{if(console.log(" Ably message received in room",C,K),m.current.has(K.id)){console.log("Duplicate Ably message prevented:",K.id);return}m.current.add(K.id),u(H=>{if(H.some(V=>V.msgId===K.id))return console.log("Duplicate in state prevented:",K.id),H;const y={msgId:K.id,conversationId:C,content:K.content,from:K.senderEmail,timestamp:new Date(K.timestamp).getTime(),status:K.status||"sent"};return console.log("Adding Ably message to state:",y),[...H,y]})};Js.addMessageListener(I,L);const W=K=>{if(K.isTyping){o(y=>y.includes(K.userEmail)?y:[...y,K.userEmail]),g.current.has(K.userEmail)&&clearTimeout(g.current.get(K.userEmail));const H=setTimeout(()=>{o(y=>y.filter(V=>V!==K.userEmail)),g.current.delete(K.userEmail)},3e3);g.current.set(K.userEmail,H)}else o(H=>H.filter(y=>y!==K.userEmail)),g.current.has(K.userEmail)&&(clearTimeout(g.current.get(K.userEmail)),g.current.delete(K.userEmail))};Js.addTypingListener(I,W),console.log(` Joined Ably room: ${C}`)}catch(L){return console.error(`Failed to join room ${C}:`,L),M}return new Set([...M,C])})},[]),b=w.useCallback(C=>{const I=`chat-${C}`;try{Js.leaveChannel(I),h(M=>{const L=new Set(M);return L.delete(C),L}),o([]),g.current.forEach(M=>clearTimeout(M)),g.current.clear(),console.log(` Left room: ${C}`)}catch(M){console.error(`Failed to leave room ${C}:`,M)}},[]),R=w.useCallback((C,I)=>{const M=`chat-${C}`;if(t)try{Js.sendTypingIndicator(M,t.email,I)}catch(L){console.error("Failed to send typing indicator:",L)}},[t]),x=w.useCallback(C=>{u(I=>I.map(M=>M.conversationId===C?{...M,status:"read"}:M))},[]),_=w.useCallback(C=>{u(I=>I.map(M=>M.conversationId===C?{...M,status:"read"}:M))},[]),T=w.useCallback(C=>{C.forEach(I=>{S(I)})},[S]),E=w.useCallback(async()=>{try{console.log("Fetching contacts...")}catch(C){console.error("Failed to fetch contacts:",C)}},[]);w.useEffect(()=>()=>{d.forEach(C=>{b(C)}),g.current.forEach(C=>clearTimeout(C))},[]);const k={isConnected:n,joinRoom:S,leaveRoom:b,sendTyping:R,typingUsers:s,messages:l,fetchContacts:E,subscribeToConversations:T,markAsRead:x,markAllAsRead:_};return A.jsx(eT.Provider,{value:k,children:e})},ct="/chats",tT=async()=>(await Se.get(`${ct}`)).data.data,nT=async e=>(await Se.get(`${ct}/${e}/message`)).data.data,rT=async(e,t)=>(await Se.post(`${ct}/${e}/send`,t)).data.data,sT=async e=>(await Se.post(`${ct}/direct/${e}`)).data.data,oT=async(e,t)=>(await Se.post(`${ct}/group`,t,{params:{name:e}})).data.data,r$=async(e,t)=>(await Se.get(`${ct}/${e}/search`,{params:{searchQuery:t}})).data.data,s$=async e=>(await Se.post(`${ct}/create`,e)).data.data,o$=async(e,t)=>{await Se.patch(`${ct}/${e}/rename`,null,{params:{newName:t}})},i$=async(e,t)=>(await Se.post(`${ct}/${e}/members/add`,t)).data.data,iT=async e=>{await Se.patch(`${ct}/${e}/mark-read`)},a$=async()=>(await Se.get(`${ct}/rooms`)).data.data,l$=async()=>(await Se.get(`${ct}/groups`)).data.data,c$=async()=>(await Se.get(`${ct}/directs`)).data.data,u$=async e=>(await Se.get(`${ct}/rooms/filter`,{params:{type:e}})).data.data,d$=async e=>{await Se.patch(`${ct}/${e}/delivered`)},f$=async e=>{await Se.patch(`${ct}/${e}/read`)},h$=async(e,t=!1)=>{await Se.delete(`${ct}/message/${e}`,{params:{deleteForAll:t}})},p$=async e=>{await Se.delete(`${ct}/${e}/delete`)},g$=async()=>(await Se.get(`${ct}/agora/token/refresh`)).data.data,mz={getAllRooms:tT,getMessages:nT,sendMessage:rT,createDirectChat:sT,createGroupChat:oT,searchMessages:r$,createRoom:s$,renameRoom:o$,addMembers:i$,markAsRead:iT,getRooms:a$,getGroupChats:l$,getDirectChats:c$,filterRooms:u$,markDelivered:d$,markRead:f$,deleteMessage:h$,deleteRoom:p$,refreshAgoraChatToken:g$};function m$(e,t){e.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const r=new Date,s=Math.random().toString().substring(2,8),o=this.onclose;this.onclose=l=>{const u=new Date().getTime()-r.getTime();t(`Discarded socket (#${s})  closed after ${u}ms, with code/reason: ${l.code}/${l.reason}`)},this.close(),o==null||o.call(e,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}const qa={LF:`
`,NULL:"\0"};class ps{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(t){const{command:n,headers:r,body:s,binaryBody:o,escapeHeaderValues:l,skipContentLengthHeader:u}=t;this.command=n,this.headers=Object.assign({},r||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=l||!1,this.skipContentLengthHeader=u||!1}static fromRawFrame(t,n){const r={},s=o=>o.replace(/^\s+|\s+$/g,"");for(const o of t.headers.reverse()){o.indexOf(":");const l=s(o[0]);let u=s(o[1]);n&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(u=ps.hdrValueUnEscape(u)),r[l]=u}return new ps({command:t.command,headers:r,binaryBody:t.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?ps.toUnit8Array(t,this._binaryBody).buffer:t+this._body+qa.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const n of Object.keys(this.headers||{})){const r=this.headers[n];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${n}:${ps.hdrValueEscape(`${r}`)}`):t.push(`${n}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(qa.LF)+qa.LF+qa.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,n){const r=new TextEncoder().encode(t),s=new Uint8Array([0]),o=new Uint8Array(r.length+n.length+s.length);return o.set(r),o.set(n,r.length),o.set(s,r.length+n.length),o}static marshall(t){return new ps(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const wb=0,Yc=10,Zc=13,y$=58;class v${constructor(t,n){this.onFrame=t,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,n=!1){let r;if(typeof t=="string"?r=this._encoder.encode(t):r=new Uint8Array(t),n&&r[r.length-1]!==0){const s=new Uint8Array(r.length+1);s.set(r,0),s[r.length]=0,r=s}for(let s=0;s<r.length;s++){const o=r[s];this._onByte(o)}}_collectFrame(t){if(t!==wb&&t!==Zc){if(t===Yc){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==Zc){if(t===Yc){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==Zc){if(t===Yc){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===y$){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==Zc){if(t===Yc){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(n=>n[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===wb){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var gs;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(gs||(gs={}));var Fn;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(Fn||(Fn={}));var md;(function(e){e[e.LINEAR=0]="LINEAR",e[e.EXPONENTIAL=1]="EXPONENTIAL"})(md||(md={}));var Ml;(function(e){e.Interval="interval",e.Worker="worker"})(Ml||(Ml={}));class w${constructor(t,n=Ml.Interval,r){this._interval=t,this._strategy=n,this._debug=r,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(t){this.stop(),this.shouldUseWorker()?this.runWorker(t):this.runInterval(t)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===Ml.Worker}runWorker(t){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=n=>t(n.data))}runInterval(t){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const n=Date.now();this._timer=setInterval(()=>{t(Date.now()-n)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class Dt{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}Dt.V1_0="1.0";Dt.V1_1="1.1";Dt.V1_2="1.2";Dt.default=new Dt([Dt.V1_2,Dt.V1_1,Dt.V1_0]);class b${get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(t,n,r){this._client=t,this._webSocket=n,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===Dt.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const o=s.headers.subscription,l=this._subscriptions[o]||this.onUnhandledMessage,u=s,d=this,h=this._connectedVersion===Dt.V1_2?u.headers.ack:u.headers["message-id"];u.ack=(g={})=>d.ack(h,o,g),u.nack=(g={})=>d.nack(h,o,g),l(u)},RECEIPT:s=>{const o=this._receiptWatchers[s.headers["receipt-id"]];o?(o(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatToleranceMultiplier=r.heartbeatGracePeriods,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame,this.onHeartbeatReceived=r.onHeartbeatReceived,this.onHeartbeatLost=r.onHeartbeatLost}start(){const t=new v$(n=>{const r=ps.fromRawFrame(n,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=n=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;this.debug(`<<< ${r}`)}t.parseChunk(n.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=n=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(n)},this._webSocket.onerror=n=>{this.onWebSocketError(n)},this._webSocket.onopen=()=>{const n=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),n["accept-version"]=this.stompVersions.supportedVersions(),n["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:n})}}_setupHeartbeat(t){if(t.version!==Dt.V1_1&&t.version!==Dt.V1_2||!t["heart-beat"])return;const[n,r]=t["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&r!==0){const s=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${s}ms`),this._pinger=new w$(s,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===gs.OPEN&&(this._webSocket.send(qa.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&n!==0){const s=Math.max(this.heartbeatIncoming,n);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const o=Date.now()-this._lastServerActivityTS;o>s*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${o}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===gs.CONNECTING||this._webSocket.readyState===gs.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&m$(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:n,headers:r,body:s,binaryBody:o,skipContentLengthHeader:l}=t,u=new ps({command:n,headers:r,body:s,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:l});let d=u.serialize();if(this.logRawCommunication?this.debug(`>>> ${d}`):this.debug(`>>> ${u}`),this.forceBinaryWSFrames&&typeof d=="string"&&(d=new TextEncoder().encode(d)),typeof d!="string"||!this.splitLargeFrames)this._webSocket.send(d);else{let h=d;for(;h.length>0;){const g=h.substring(0,this.maxWebSocketChunkSize);h=h.substring(this.maxWebSocketChunkSize),this._webSocket.send(g),this.debug(`chunk sent = ${g.length}, remaining = ${h.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,n=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(n)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===gs.CONNECTING||this._webSocket.readyState===gs.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:n,headers:r,body:s,binaryBody:o,skipContentLengthHeader:l}=t,u=Object.assign({destination:n},r);this._transmit({command:"SEND",headers:u,body:s,binaryBody:o,skipContentLengthHeader:l})}watchForReceipt(t,n){this._receiptWatchers[t]=n}subscribe(t,n,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=t,this._subscriptions[r.id]=n,this._transmit({command:"SUBSCRIBE",headers:r});const s=this;return{id:r.id,unsubscribe(o){return s.unsubscribe(r.id,o)}}}unsubscribe(t,n={}){n=Object.assign({},n),delete this._subscriptions[t],n.id=t,this._transmit({command:"UNSUBSCRIBE",headers:n})}begin(t){const n=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:n}});const r=this;return{id:n,commit(){r.commit(n)},abort(){r.abort(n)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,n,r={}){r=Object.assign({},r),this._connectedVersion===Dt.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"ACK",headers:r})}nack(t,n,r={}){return r=Object.assign({},r),this._connectedVersion===Dt.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"NACK",headers:r})}}class S${get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===Fn.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}constructor(t={}){this.stompVersions=Dt.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=md.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Ml.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=Fn.INACTIVE;const n=()=>{};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onHeartbeatReceived=n,this.onHeartbeatLost=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}configure(t){Object.assign(this,t),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(Fn.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===Fn.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new b$(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:n=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),this._nextReconnectDelay=this.reconnectDelay,!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(n)},onDisconnect:n=>{this.onDisconnect(n)},onStompError:n=>{this.onStompError(n)},onWebSocketClose:n=>{this._stompHandler=void 0,this.state===Fn.DEACTIVATING&&this._changeState(Fn.INACTIVE),this.onWebSocketClose(n),this.active&&this._schedule_reconnect()},onWebSocketError:n=>{this.onWebSocketError(n)},onUnhandledMessage:n=>{this.onUnhandledMessage(n)},onUnhandledReceipt:n=>{this.onUnhandledReceipt(n)},onUnhandledFrame:n=>{this.onUnhandledFrame(n)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===md.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(t={}){var o;const n=t.force||!1,r=this.active;let s;if(this.state===Fn.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(Fn.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==gs.CLOSED){const l=this._stompHandler.onWebSocketClose;s=new Promise((u,d)=>{this._stompHandler.onWebSocketClose=h=>{l(h),u()}})}else return this._changeState(Fn.INACTIVE),Promise.resolve();return n?(o=this._stompHandler)==null||o.discardWebsocket():r&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,n){this._checkConnection(),this._stompHandler.watchForReceipt(t,n)}subscribe(t,n,r={}){return this._checkConnection(),this._stompHandler.subscribe(t,n,r)}unsubscribe(t,n={}){this._checkConnection(),this._stompHandler.unsubscribe(t,n)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,n,r={}){this._checkConnection(),this._stompHandler.ack(t,n,r)}nack(t,n,r={}){this._checkConnection(),this._stompHandler.nack(t,n,r)}}var aT={exports:{}},jg={};globalThis.crypto&&globalThis.crypto.getRandomValues?jg.randomBytes=function(e){var t=new Uint8Array(e);return globalThis.crypto.getRandomValues(t),t}:jg.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(Math.random()*256);return t};var x$=jg,bb="abcdefghijklmnopqrstuvwxyz012345",sa={string:function(e){for(var t=bb.length,n=x$.randomBytes(e),r=[],s=0;s<e;s++)r.push(bb.substr(n[s]%t,1));return r.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n=new Array(t+1).join("0");return(n+this.number(e)).slice(-t)}};(function(e){var t=sa,n={},r=!1,s=globalThis.chrome&&globalThis.chrome.app&&globalThis.chrome.app.runtime;e.exports={attachEvent:function(l,u){typeof globalThis.addEventListener<"u"?globalThis.addEventListener(l,u,!1):globalThis.document&&globalThis.attachEvent&&(globalThis.document.attachEvent("on"+l,u),globalThis.attachEvent("on"+l,u))},detachEvent:function(l,u){typeof globalThis.addEventListener<"u"?globalThis.removeEventListener(l,u,!1):globalThis.document&&globalThis.detachEvent&&(globalThis.document.detachEvent("on"+l,u),globalThis.detachEvent("on"+l,u))},unloadAdd:function(l){if(s)return null;var u=t.string(8);return n[u]=l,r&&setTimeout(this.triggerUnloadCallbacks,0),u},unloadDel:function(l){l in n&&delete n[l]},triggerUnloadCallbacks:function(){for(var l in n)n[l](),delete n[l]}};var o=function(){r||(r=!0,e.exports.triggerUnloadCallbacks())};s||e.exports.attachEvent("unload",o)})(aT);var Hs=aT.exports,C$=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0},Cy={},E$=Object.prototype.hasOwnProperty,T$;function Sb(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function xb(e){try{return encodeURIComponent(e)}catch{return null}}function R$(e){for(var t=/([^=?#&]+)=?([^&]*)/g,n={},r;r=t.exec(e);){var s=Sb(r[1]),o=Sb(r[2]);s===null||o===null||s in n||(n[s]=o)}return n}function k$(e,t){t=t||"";var n=[],r,s;typeof t!="string"&&(t="?");for(s in e)if(E$.call(e,s)){if(r=e[s],!r&&(r===null||r===T$||isNaN(r))&&(r=""),s=xb(s),r=xb(r),s===null||r===null)continue;n.push(s+"="+r)}return n.length?t+n.join("&"):""}Cy.stringify=k$;Cy.parse=R$;var lT=C$,uf=Cy,_$=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,cT=/[\n\r\t]/g,O$=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,uT=/:\d+$/,A$=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,P$=/^[a-zA-Z]:/;function Ey(e){return(e||"").toString().replace(_$,"")}var Ug=[["#","hash"],["?","query"],function(t,n){return Er(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Cb={hash:1,query:1};function dT(e){var t;typeof window<"u"?t=window:typeof globalThis<"u"?t=globalThis:typeof self<"u"?t=self:t={};var n=t.location||{};e=e||n;var r={},s=typeof e,o;if(e.protocol==="blob:")r=new kr(unescape(e.pathname),{});else if(s==="string"){r=new kr(e,{});for(o in Cb)delete r[o]}else if(s==="object"){for(o in e)o in Cb||(r[o]=e[o]);r.slashes===void 0&&(r.slashes=O$.test(e.href))}return r}function Er(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function fT(e,t){e=Ey(e),e=e.replace(cT,""),t=t||{};var n=A$.exec(e),r=n[1]?n[1].toLowerCase():"",s=!!n[2],o=!!n[3],l=0,u;return s?o?(u=n[2]+n[3]+n[4],l=n[2].length+n[3].length):(u=n[2]+n[4],l=n[2].length):o?(u=n[3]+n[4],l=n[3].length):u=n[4],r==="file:"?l>=2&&(u=u.slice(2)):Er(r)?u=n[4]:r?s&&(u=u.slice(2)):l>=2&&Er(t.protocol)&&(u=n[4]),{protocol:r,slashes:s||Er(r),slashesCount:l,rest:u}}function I$(e,t){if(e==="")return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,s=n[r-1],o=!1,l=0;r--;)n[r]==="."?n.splice(r,1):n[r]===".."?(n.splice(r,1),l++):l&&(r===0&&(o=!0),n.splice(r,1),l--);return o&&n.unshift(""),(s==="."||s==="..")&&n.push(""),n.join("/")}function kr(e,t,n){if(e=Ey(e),e=e.replace(cT,""),!(this instanceof kr))return new kr(e,t,n);var r,s,o,l,u,d,h=Ug.slice(),g=typeof t,m=this,S=0;for(g!=="object"&&g!=="string"&&(n=t,t=null),n&&typeof n!="function"&&(n=uf.parse),t=dT(t),s=fT(e||"",t),r=!s.protocol&&!s.slashes,m.slashes=s.slashes||r&&t.slashes,m.protocol=s.protocol||t.protocol||"",e=s.rest,(s.protocol==="file:"&&(s.slashesCount!==2||P$.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!Er(m.protocol)))&&(h[3]=[/(.*)/,"pathname"]);S<h.length;S++){if(l=h[S],typeof l=="function"){e=l(e,m);continue}o=l[0],d=l[1],o!==o?m[d]=e:typeof o=="string"?(u=o==="@"?e.lastIndexOf(o):e.indexOf(o),~u&&(typeof l[2]=="number"?(m[d]=e.slice(0,u),e=e.slice(u+l[2])):(m[d]=e.slice(u),e=e.slice(0,u)))):(u=o.exec(e))&&(m[d]=u[1],e=e.slice(0,u.index)),m[d]=m[d]||r&&l[3]&&t[d]||"",l[4]&&(m[d]=m[d].toLowerCase())}n&&(m.query=n(m.query)),r&&t.slashes&&m.pathname.charAt(0)!=="/"&&(m.pathname!==""||t.pathname!=="")&&(m.pathname=I$(m.pathname,t.pathname)),m.pathname.charAt(0)!=="/"&&Er(m.protocol)&&(m.pathname="/"+m.pathname),lT(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(u=m.auth.indexOf(":"),~u?(m.username=m.auth.slice(0,u),m.username=encodeURIComponent(decodeURIComponent(m.username)),m.password=m.auth.slice(u+1),m.password=encodeURIComponent(decodeURIComponent(m.password))):m.username=encodeURIComponent(decodeURIComponent(m.auth)),m.auth=m.password?m.username+":"+m.password:m.username),m.origin=m.protocol!=="file:"&&Er(m.protocol)&&m.host?m.protocol+"//"+m.host:"null",m.href=m.toString()}function N$(e,t,n){var r=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(n||uf.parse)(t)),r[e]=t;break;case"port":r[e]=t,lT(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,uT.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";r[e]=t.charAt(0)!==s?s+t:t}else r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var o=t.indexOf(":");~o?(r.username=t.slice(0,o),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=t.slice(o+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(t))}for(var l=0;l<Ug.length;l++){var u=Ug[l];u[4]&&(r[u[1]]=r[u[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin=r.protocol!=="file:"&&Er(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function M$(e){(!e||typeof e!="function")&&(e=uf.stringify);var t,n=this,r=n.host,s=n.protocol;s&&s.charAt(s.length-1)!==":"&&(s+=":");var o=s+(n.protocol&&n.slashes||Er(n.protocol)?"//":"");return n.username?(o+=n.username,n.password&&(o+=":"+n.password),o+="@"):n.password?(o+=":"+n.password,o+="@"):n.protocol!=="file:"&&Er(n.protocol)&&!r&&n.pathname!=="/"&&(o+="@"),(r[r.length-1]===":"||uT.test(n.hostname)&&!n.port)&&(r+=":"),o+=r+n.pathname,t=typeof n.query=="object"?e(n.query):n.query,t&&(o+=t.charAt(0)!=="?"?"?"+t:t),n.hash&&(o+=n.hash),o}kr.prototype={set:N$,toString:M$};kr.extractProtocol=fT;kr.location=dT;kr.trimLeft=Ey;kr.qs=uf;var hT=kr,L$=hT,An={getOrigin:function(e){if(!e)return null;var t=new L$(e);if(t.protocol==="file:")return null;var n=t.port;return n||(n=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},$g={exports:{}};typeof Object.create=="function"?$g.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:$g.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}};var _e=$g.exports,Rt={};function df(){this._listeners={}}df.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n};df.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var r=n.indexOf(t);if(r!==-1){n.length>1?this._listeners[e]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[e];return}}};df.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var r=this._listeners[t],s=0;s<r.length;s++)r[s].apply(this,n)};var pT=df,D$=_e,ff=pT;function Us(){ff.call(this)}D$(Us,ff);Us.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}};Us.prototype.once=function(e,t){var n=this,r=!1;function s(){n.removeListener(e,s),r||(r=!0,t.apply(this,arguments))}this.on(e,s)};Us.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var n=arguments.length,r=new Array(n-1),s=1;s<n;s++)r[s-1]=arguments[s];for(var o=0;o<t.length;o++)t[o].apply(this,r)}};Us.prototype.on=Us.prototype.addListener=ff.prototype.addEventListener;Us.prototype.removeListener=ff.prototype.removeEventListener;Rt.EventEmitter=Us;var Fg={exports:{}},Eb=globalThis.WebSocket||globalThis.MozWebSocket;Eb?Fg.exports=function(t){return new Eb(t)}:Fg.exports=void 0;var j$=Fg.exports,gT=Hs,U$=An,$$=_e,mT=Rt.EventEmitter,yT=j$,Tb=function(){};function Zr(e,t,n){if(!Zr.enabled())throw new Error("Transport created when disabled");mT.call(this);var r=this,s=U$.addPath(e,"/websocket");s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),this.url=s,this.ws=new yT(this.url,[],n),this.ws.onmessage=function(o){Tb("message event",o.data),r.emit("message",o.data)},this.unloadRef=gT.unloadAdd(function(){r.ws.close()}),this.ws.onclose=function(o){Tb("close event",o.code,o.reason),r.emit("close",o.code,o.reason),r._cleanup()},this.ws.onerror=function(o){r.emit("close",1006,"WebSocket connection broken"),r._cleanup()}}$$(Zr,mT);Zr.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)};Zr.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()};Zr.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),gT.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};Zr.enabled=function(){return!!yT};Zr.transportName="websocket";Zr.roundTrips=2;var F$=Zr,B$=_e,vT=Rt.EventEmitter,z$=function(){};function ko(e,t){vT.call(this),this.sendBuffer=[],this.sender=t,this.url=e}B$(ko,vT);ko.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()};ko.prototype.sendScheduleWait=function(){var e=this,t;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)};ko.prototype.sendSchedule=function(){z$("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(n){e.sendStop=null,n?(e.emit("close",n.code||1006,"Sending error: "+n),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}};ko.prototype._cleanup=function(){this.removeAllListeners()};ko.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var H$=ko,W$=_e,wT=Rt.EventEmitter,V$=function(){};function hf(e,t,n){wT.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}W$(hf,wT);hf.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(n){e.emit("message",n)}),t.once("close",function(n,r){V$("close",n,r,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||(r==="network"?e._scheduleReceiver():(e.emit("close",n||1006,r),e.removeAllListeners()))})};hf.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var G$=hf,q$=_e,K$=An,Ty=H$,Q$=G$;function Ry(e,t,n,r,s){var o=K$.addPath(e,t),l=this;Ty.call(this,e,n),this.poll=new Q$(r,o,s),this.poll.on("message",function(u){l.emit("message",u)}),this.poll.once("close",function(u,d){l.poll=null,l.emit("close",u,d),l.close()})}q$(Ry,Ty);Ry.prototype.close=function(){Ty.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var bT=Ry,J$=_e,X$=An,ST=bT;function Y$(e){return function(t,n,r){var s={};typeof n=="string"&&(s.headers={"Content-type":"text/plain"});var o=X$.addPath(t,"/xhr_send"),l=new e("POST",o,n,s);return l.once("finish",function(u){if(l=null,u!==200&&u!==204)return r(new Error("http status "+u));r()}),function(){l.close(),l=null;var u=new Error("Aborted");u.code=1e3,r(u)}}}function xT(e,t,n,r){ST.call(this,e,t,Y$(r),n,r)}J$(xT,ST);var oa=xT,Z$=_e,CT=Rt.EventEmitter;function nc(e,t){CT.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(r,s){n._chunkHandler(r,s),n.xo=null;var o=r===200?"network":"permanent";n.emit("close",null,o),n._cleanup()})}Z$(nc,CT);nc.prototype._chunkHandler=function(e,t){if(!(e!==200||!t))for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(n=r.indexOf(`
`),n===-1)break;var s=r.slice(0,n);s&&this.emit("message",s)}};nc.prototype._cleanup=function(){this.removeAllListeners()};nc.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var pf=nc,ET=Rt.EventEmitter,e3=_e,TT=Hs,t3=An,Ll=globalThis.XMLHttpRequest,Hh=function(){};function _r(e,t,n,r){var s=this;ET.call(this),setTimeout(function(){s._start(e,t,n,r)},0)}e3(_r,ET);_r.prototype._start=function(e,t,n,r){var s=this;try{this.xhr=new Ll}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}t=t3.addQuery(t,"t="+ +new Date),this.unloadRef=TT.unloadAdd(function(){s._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){Hh("xhr timeout"),s.emit("finish",0,""),s._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!r||!r.noCredentials)&&_r.supportsCORS&&(this.xhr.withCredentials=!0),r&&r.headers)for(var o in r.headers)this.xhr.setRequestHeader(o,r.headers[o]);this.xhr.onreadystatechange=function(){if(s.xhr){var l=s.xhr,u,d;switch(Hh("readyState",l.readyState),l.readyState){case 3:try{d=l.status,u=l.responseText}catch{}d===1223&&(d=204),d===200&&u&&u.length>0&&s.emit("chunk",d,u);break;case 4:d=l.status,d===1223&&(d=204),(d===12005||d===12029)&&(d=0),Hh("finish",d,l.responseText),s.emit("finish",d,l.responseText),s._cleanup(!1);break}}};try{s.xhr.send(n)}catch{s.emit("finish",0,""),s._cleanup(!1)}};_r.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),TT.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};_r.prototype.close=function(){this._cleanup(!0)};_r.enabled=!!Ll;var Rb=["Active"].concat("Object").join("X");!_r.enabled&&Rb in globalThis&&(Ll=function(){try{return new globalThis[Rb]("Microsoft.XMLHTTP")}catch{return null}},_r.enabled=!!new Ll);var RT=!1;try{RT="withCredentials"in new Ll}catch{}_r.supportsCORS=RT;var kT=_r,n3=_e,yd=kT;function ky(e,t,n,r){yd.call(this,e,t,n,r)}n3(ky,yd);ky.enabled=yd.enabled&&yd.supportsCORS;var gf=ky,r3=_e,_y=kT;function Oy(e,t,n){_y.call(this,e,t,n,{noCredentials:!0})}r3(Oy,_y);Oy.enabled=_y.enabled;var rc=Oy,sc={isOpera:function(){return globalThis.navigator&&/opera/i.test(globalThis.navigator.userAgent)},isKonqueror:function(){return globalThis.navigator&&/konqueror/i.test(globalThis.navigator.userAgent)},hasDomain:function(){if(!globalThis.document)return!0;try{return!!globalThis.document.domain}catch{return!1}}},s3=_e,_T=oa,o3=pf,Bg=gf,i3=rc,a3=sc;function ia(e){if(!i3.enabled&&!Bg.enabled)throw new Error("Transport created when disabled");_T.call(this,e,"/xhr_streaming",o3,Bg)}s3(ia,_T);ia.enabled=function(e){return e.nullOrigin||a3.isOpera()?!1:Bg.enabled};ia.transportName="xhr-streaming";ia.roundTrips=2;ia.needBody=!!globalThis.document;var l3=ia,OT=Rt.EventEmitter,c3=_e,AT=Hs,u3=sc,d3=An,f3=function(){};function _o(e,t,n){var r=this;OT.call(this),setTimeout(function(){r._start(e,t,n)},0)}c3(_o,OT);_o.prototype._start=function(e,t,n){var r=this,s=new globalThis.XDomainRequest;t=d3.addQuery(t,"t="+ +new Date),s.onerror=function(){r._error()},s.ontimeout=function(){r._error()},s.onprogress=function(){f3("progress",s.responseText),r.emit("chunk",200,s.responseText)},s.onload=function(){r.emit("finish",200,s.responseText),r._cleanup(!1)},this.xdr=s,this.unloadRef=AT.unloadAdd(function(){r._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch{this._error()}};_o.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};_o.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),AT.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};_o.prototype.close=function(){this._cleanup(!0)};_o.enabled=!!(globalThis.XDomainRequest&&u3.hasDomain());var Ay=_o,h3=_e,PT=oa,p3=pf,zg=Ay;function oc(e){if(!zg.enabled)throw new Error("Transport created when disabled");PT.call(this,e,"/xhr_streaming",p3,zg)}h3(oc,PT);oc.enabled=function(e){return e.cookie_needed||e.nullOrigin?!1:zg.enabled&&e.sameScheme};oc.transportName="xdr-streaming";oc.roundTrips=2;var IT=oc,NT=globalThis.EventSource,g3=_e,MT=Rt.EventEmitter,m3=NT,kb=function(){};function ic(e){MT.call(this);var t=this,n=this.es=new m3(e);n.onmessage=function(r){kb("message",r.data),t.emit("message",decodeURI(r.data))},n.onerror=function(r){kb("error",n.readyState);var s=n.readyState!==2?"network":"permanent";t._cleanup(),t._close(s)}}g3(ic,MT);ic.prototype.abort=function(){this._cleanup(),this._close("user")};ic.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)};ic.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var y3=ic,v3=_e,LT=oa,w3=y3,b3=gf,S3=NT;function aa(e){if(!aa.enabled())throw new Error("Transport created when disabled");LT.call(this,e,"/eventsource",w3,b3)}v3(aa,LT);aa.enabled=function(){return!!S3};aa.transportName="eventsource";aa.roundTrips=2;var _b=aa,Wh,Ob;function DT(){return Ob||(Ob=1,Wh="1.6.1"),Wh}var jT={exports:{}};(function(e){var t=Hs,n=sc;e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in globalThis||(globalThis[e.exports.WPrefix]={})},postMessage:function(r,s){globalThis.parent!==globalThis&&globalThis.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:r,data:s||""}),"*")},createIframe:function(r,s){var o=globalThis.document.createElement("iframe"),l,u,d=function(){clearTimeout(l);try{o.onload=null}catch{}o.onerror=null},h=function(){o&&(d(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),t.unloadDel(u))},g=function(S){o&&(h(),s(S))},m=function(S,b){setTimeout(function(){try{o&&o.contentWindow&&o.contentWindow.postMessage(S,b)}catch{}},0)};return o.src=r,o.style.display="none",o.style.position="absolute",o.onerror=function(){g("onerror")},o.onload=function(){clearTimeout(l),l=setTimeout(function(){g("onload timeout")},2e3)},globalThis.document.body.appendChild(o),l=setTimeout(function(){g("timeout")},15e3),u=t.unloadAdd(h),{post:m,cleanup:h,loaded:d}},createHtmlfile:function(r,s){var o=["Active"].concat("Object").join("X"),l=new globalThis[o]("htmlfile"),u,d,h,g=function(){clearTimeout(u),h.onerror=null},m=function(){l&&(g(),t.unloadDel(d),h.parentNode.removeChild(h),h=l=null,CollectGarbage())},S=function(x){l&&(m(),s(x))},b=function(x,_){try{setTimeout(function(){h&&h.contentWindow&&h.contentWindow.postMessage(x,_)},0)}catch{}};l.open(),l.write('<html><script>document.domain="'+globalThis.document.domain+'";<\/script></html>'),l.close(),l.parentWindow[e.exports.WPrefix]=globalThis[e.exports.WPrefix];var R=l.createElement("div");return l.body.appendChild(R),h=l.createElement("iframe"),R.appendChild(h),h.src=r,h.onerror=function(){S("onerror")},u=setTimeout(function(){S("timeout")},15e3),d=t.unloadAdd(m),{post:b,cleanup:m,loaded:g}}},e.exports.iframeEnabled=!1,globalThis.document&&(e.exports.iframeEnabled=(typeof globalThis.postMessage=="function"||typeof globalThis.postMessage=="object")&&!n.isKonqueror())})(jT);var ac=jT.exports,x3=_e,UT=Rt.EventEmitter,C3=DT(),Hg=An,$T=ac,FT=Hs,E3=sa,Ua=function(){};function Ar(e,t,n){if(!Ar.enabled())throw new Error("Transport created when disabled");UT.call(this);var r=this;this.origin=Hg.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=E3.string(8);var s=Hg.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=$T.createIframe(s,function(o){r.emit("close",1006,"Unable to load an iframe ("+o+")"),r.close()}),this.onmessageCallback=this._message.bind(this),FT.attachEvent("message",this.onmessageCallback)}x3(Ar,UT);Ar.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){FT.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};Ar.prototype._message=function(e){if(Ua("message",e.data),!Hg.isOriginEqual(e.origin,this.origin)){Ua("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch{Ua("bad json",e.data);return}if(t.windowId!==this.windowId){Ua("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([C3,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=JSON.parse(t.data)}catch{Ua("bad json",t.data);return}this.emit("close",n[0],n[1]),this.close();break}};Ar.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};Ar.prototype.send=function(e){this.postMessage("m",e)};Ar.enabled=function(){return $T.iframeEnabled};Ar.transportName="iframe";Ar.roundTrips=2;var BT=Ar,Py={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}},T3=_e,eu=BT,R3=Py,Vh=function(e){function t(n,r){eu.call(this,e.transportName,n,r)}return T3(t,eu),t.enabled=function(n,r){if(!globalThis.document)return!1;var s=R3.extend({},r);return s.sameOrigin=!0,e.enabled(s)&&eu.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=eu.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},k3=_e,Zs=ac,_3=An,zT=Rt.EventEmitter,O3=sa,A3=function(){};function er(e){zT.call(this);var t=this;Zs.polluteGlobalNamespace(),this.id="a"+O3.string(6),e=_3.addQuery(e,"c="+decodeURIComponent(Zs.WPrefix+"."+this.id)),A3("using htmlfile",er.htmlfileEnabled);var n=er.htmlfileEnabled?Zs.createHtmlfile:Zs.createIframe;globalThis[Zs.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(r){t.emit("message",r)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){t._cleanup(),t._close("permanent")})}k3(er,zT);er.prototype.abort=function(){this._cleanup(),this._close("user")};er.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete globalThis[Zs.WPrefix][this.id]};er.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()};er.htmlfileEnabled=!1;var Ab=["Active"].concat("Object").join("X");if(Ab in globalThis)try{er.htmlfileEnabled=!!new globalThis[Ab]("htmlfile")}catch{}er.enabled=er.htmlfileEnabled||Zs.iframeEnabled;var P3=er,I3=_e,Wg=P3,N3=rc,HT=oa;function lc(e){if(!Wg.enabled)throw new Error("Transport created when disabled");HT.call(this,e,"/htmlfile",Wg,N3)}I3(lc,HT);lc.enabled=function(e){return Wg.enabled&&e.sameOrigin};lc.transportName="htmlfile";lc.roundTrips=2;var Pb=lc,M3=_e,WT=oa,L3=pf,Vg=gf,VT=rc;function cc(e){if(!VT.enabled&&!Vg.enabled)throw new Error("Transport created when disabled");WT.call(this,e,"/xhr",L3,Vg)}M3(cc,WT);cc.enabled=function(e){return e.nullOrigin?!1:VT.enabled&&e.sameOrigin?!0:Vg.enabled};cc.transportName="xhr-polling";cc.roundTrips=2;var Ib=cc,D3=_e,GT=oa,j3=IT,U3=pf,Nb=Ay;function uc(e){if(!Nb.enabled)throw new Error("Transport created when disabled");GT.call(this,e,"/xhr",U3,Nb)}D3(uc,GT);uc.enabled=j3.enabled;uc.transportName="xdr-polling";uc.roundTrips=2;var $3=uc,il=ac,qT=sa,F3=sc,B3=An,z3=_e,KT=Rt.EventEmitter,H3=function(){};function _n(e){var t=this;KT.call(this),il.polluteGlobalNamespace(),this.id="a"+qT.string(6);var n=B3.addQuery(e,"c="+encodeURIComponent(il.WPrefix+"."+this.id));globalThis[il.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},_n.timeout)}z3(_n,KT);_n.prototype.abort=function(){if(globalThis[il.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}};_n.timeout=35e3;_n.scriptErrorTimeout=1e3;_n.prototype._callback=function(e){this._cleanup(),!this.aborting&&(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())};_n.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()};_n.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete globalThis[il.WPrefix][this.id]};_n.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},_n.scriptErrorTimeout))};_n.prototype._createScript=function(e){var t=this,n=this.script=globalThis.document.createElement("script"),r;if(n.id="a"+qT.string(8),n.src=e,n.type="text/javascript",n.charset="UTF-8",n.onerror=this._scriptError.bind(this),n.onload=function(){t._abort(new Error("JSONP script loaded abnormally (onload)"))},n.onreadystatechange=function(){if(H3("onreadystatechange",n.readyState),/loaded|closed/.test(n.readyState)){if(n&&n.htmlFor&&n.onclick){t.loadedOkay=!0;try{n.onclick()}catch{}}n&&t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof n.async>"u"&&globalThis.document.attachEvent)if(F3.isOpera())r=this.script2=globalThis.document.createElement("script"),r.text="try{var a = document.getElementById('"+n.id+"'); if(a)a.onerror();}catch(x){};",n.async=r.async=!1;else{try{n.htmlFor=n.id,n.event="onclick"}catch{}n.async=!0}typeof n.async<"u"&&(n.async=!0);var s=globalThis.document.getElementsByTagName("head")[0];s.insertBefore(n,s.firstChild),r&&s.insertBefore(r,s.firstChild)};var W3=_n,V3=sa,Mb=An,G3=function(){},ln,al;function q3(e){try{return globalThis.document.createElement('<iframe name="'+e+'">')}catch{var t=globalThis.document.createElement("iframe");return t.name=e,t}}function K3(){ln=globalThis.document.createElement("form"),ln.style.display="none",ln.style.position="absolute",ln.method="POST",ln.enctype="application/x-www-form-urlencoded",ln.acceptCharset="UTF-8",al=globalThis.document.createElement("textarea"),al.name="d",ln.appendChild(al),globalThis.document.body.appendChild(ln)}var Q3=function(e,t,n){ln||K3();var r="a"+V3.string(8);ln.target=r,ln.action=Mb.addQuery(Mb.addPath(e,"/jsonp_send"),"i="+r);var s=q3(r);s.id=r,s.style.display="none",ln.appendChild(s);try{al.value=t}catch{}ln.submit();var o=function(l){s.onerror&&(s.onreadystatechange=s.onerror=s.onload=null,setTimeout(function(){s.parentNode.removeChild(s),s=null},500),al.value="",n(l))};return s.onerror=function(){o()},s.onload=function(){o()},s.onreadystatechange=function(l){G3("onreadystatechange",r,s.readyState),s.readyState==="complete"&&o()},function(){o(new Error("Aborted"))}},J3=_e,QT=bT,X3=W3,Y3=Q3;function Oo(e){if(!Oo.enabled())throw new Error("Transport created when disabled");QT.call(this,e,"/jsonp",Y3,X3)}J3(Oo,QT);Oo.enabled=function(){return!!globalThis.document};Oo.transportName="jsonp-polling";Oo.roundTrips=1;Oo.needBody=!0;var Z3=Oo,eF=[F$,l3,IT,_b,Vh(_b),Pb,Vh(Pb),Ib,$3,Vh(Ib),Z3],Dl=Array.prototype,Iy=Object.prototype,tF=Function.prototype,jl=String.prototype,Gh=Dl.slice,Ny=Iy.toString,JT=function(e){return Iy.toString.call(e)==="[object Function]"},nF=function(t){return Ny.call(t)==="[object Array]"},XT=function(t){return Ny.call(t)==="[object String]"},rF=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),Gg;rF?Gg=function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:Gg=function(e,t,n,r){!r&&t in e||(e[t]=n)};var dc=function(e,t,n){for(var r in t)Iy.hasOwnProperty.call(t,r)&&Gg(e,r,t[r],n)},YT=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return Object(e)};function sF(e){var t=+e;return t!==t?t=0:t!==0&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function oF(e){return e>>>0}function qh(){}dc(tF,{bind:function(t){var n=this;if(!JT(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r=Gh.call(arguments,1),s=function(){if(this instanceof d){var h=n.apply(this,r.concat(Gh.call(arguments)));return Object(h)===h?h:this}else return n.apply(t,r.concat(Gh.call(arguments)))},o=Math.max(0,n.length-r.length),l=[],u=0;u<o;u++)l.push("$"+u);var d=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this, arguments); }")(s);return n.prototype&&(qh.prototype=n.prototype,d.prototype=new qh,qh.prototype=null),d}});dc(Array,{isArray:nF});var Lb=Object("a"),ZT=Lb[0]!=="a"||!(0 in Lb),iF=function(t){var n=!0,r=!0;return t&&(t.call("foo",function(s,o,l){typeof l!="object"&&(n=!1)}),t.call([1],function(){r=typeof this=="string"},"x")),!!t&&n&&r};dc(Dl,{forEach:function(t){var n=YT(this),r=ZT&&XT(this)?this.split(""):n,s=arguments[1],o=-1,l=r.length>>>0;if(!JT(t))throw new TypeError;for(;++o<l;)o in r&&t.call(s,r[o],o,n)}},!iF(Dl.forEach));var aF=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;dc(Dl,{indexOf:function(t){var n=ZT&&XT(this)?this.split(""):YT(this),r=n.length>>>0;if(!r)return-1;var s=0;for(arguments.length>1&&(s=sF(arguments[1])),s=s>=0?s:Math.max(0,r+s);s<r;s++)if(s in n&&n[s]===t)return s;return-1}},aF);var Db=jl.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var e=/()??/.exec("")[1]===void 0;jl.split=function(t,n){var r=this;if(t===void 0&&n===0)return[];if(Ny.call(t)!=="[object RegExp]")return Db.call(this,t,n);var s=[],o=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),l=0,u,d,h,g;for(t=new RegExp(t.source,o+"g"),r+="",e||(u=new RegExp("^"+t.source+"$(?!\\s)",o)),n=n===void 0?-1>>>0:oF(n);(d=t.exec(r))&&(h=d.index+d[0].length,!(h>l&&(s.push(r.slice(l,d.index)),!e&&d.length>1&&d[0].replace(u,function(){for(var m=1;m<arguments.length-2;m++)arguments[m]===void 0&&(d[m]=void 0)}),d.length>1&&d.index<r.length&&Dl.push.apply(s,d.slice(1)),g=d[0].length,l=h,s.length>=n)));)t.lastIndex===d.index&&t.lastIndex++;return l===r.length?(g||!t.test(""))&&s.push(""):s.push(r.slice(l)),s.length>n?s.slice(0,n):s}}():"0".split(void 0,0).length&&(jl.split=function(t,n){return t===void 0&&n===0?[]:Db.call(this,t,n)});var lF=jl.substr,cF="".substr&&"0b".substr(-1)!=="b";dc(jl,{substr:function(t,n){return lF.call(this,t<0&&(t=this.length+t)<0?0:t,n)}},cF);var tu=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,Kh,uF=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(s){return n[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n},dF={quote:function(e){var t=JSON.stringify(e);return tu.lastIndex=0,tu.test(t)?(Kh||(Kh=uF(tu)),t.replace(tu,function(n){return Kh[n]})):t}},Qh=function(){},fF=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(s){if(s&&!(s.transportName==="websocket"&&n.websocket===!1)){if(t.length&&t.indexOf(s.transportName)===-1){Qh("not in whitelist",s.transportName);return}s.enabled(n)?(Qh("enabled",s.transportName),r.main.push(s),s.facadeTransport&&r.facade.push(s.facadeTransport)):Qh("disabled",s.transportName)}}),r}}},qg={};["log","debug","warn"].forEach(function(e){var t;try{t=globalThis.console&&globalThis.console[e]&&globalThis.console[e].apply}catch{}qg[e]=t?function(){return globalThis.console[e].apply(globalThis.console,arguments)}:e==="log"?function(){}:qg.log});var hF=qg;function Ao(e){this.type=e}Ao.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this};Ao.prototype.stopPropagation=function(){};Ao.prototype.preventDefault=function(){};Ao.CAPTURING_PHASE=1;Ao.AT_TARGET=2;Ao.BUBBLING_PHASE=3;var My=Ao,eR=globalThis.location||{protocol:"http:",href:"http://localhost/",hash:""},pF=_e,tR=My;function nR(){tR.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}pF(nR,tR);var gF=nR,mF=_e,rR=My;function sR(e){rR.call(this),this.initEvent("message",!1,!1),this.data=e}mF(sR,rR);var yF=sR,oR=Rt.EventEmitter,vF=_e;function fc(){var e=this;oR.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},fc.timeout)}vF(fc,oR);fc.prototype.close=function(){clearTimeout(this.to)};fc.timeout=2e3;var wF=fc,iR=Rt.EventEmitter,bF=_e,SF=Py;function Ly(e,t){iR.call(this);var n=this,r=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(s,o){var l,u;if(s===200){if(u=+new Date-r,o)try{l=JSON.parse(o)}catch{}SF.isObject(l)||(l={})}n.emit("finish",l,u),n.removeAllListeners()})}bF(Ly,iR);Ly.prototype.close=function(){this.removeAllListeners(),this.xo.close()};var aR=Ly,Jh,jb;function lR(){if(jb)return Jh;jb=1;var e=_e,t=Rt.EventEmitter,n=rc,r=aR;function s(o){var l=this;t.call(this),this.ir=new r(o,n),this.ir.once("finish",function(u,d){l.ir=null,l.emit("message",JSON.stringify([u,d]))})}return e(s,t),s.transportName="iframe-info-receiver",s.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},Jh=s,Jh}var cR=Rt.EventEmitter,xF=_e,CF=Hs,uR=BT,EF=lR();function mf(e,t){var n=this;cR.call(this);var r=function(){var s=n.ifr=new uR(EF.transportName,t,e);s.once("message",function(o){if(o){var l;try{l=JSON.parse(o)}catch{n.emit("finish"),n.close();return}var u=l[0],d=l[1];n.emit("finish",u,d)}n.close()}),s.once("close",function(){n.emit("finish"),n.close()})};globalThis.document.body?r():CF.attachEvent("load",r)}xF(mf,cR);mf.enabled=function(){return uR.enabled()};mf.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var TF=mf,dR=Rt.EventEmitter,RF=_e,kF=An,Ub=Ay,$b=gf,_F=rc,OF=wF,Fb=TF,nu=aR;function Hr(e,t){var n=this;dR.call(this),setTimeout(function(){n.doXhr(e,t)},0)}RF(Hr,dR);Hr._getReceiver=function(e,t,n){return n.sameOrigin?new nu(t,_F):$b.enabled?new nu(t,$b):Ub.enabled&&n.sameScheme?new nu(t,Ub):Fb.enabled()?new Fb(e,t):new nu(t,OF)};Hr.prototype.doXhr=function(e,t){var n=this,r=kF.addPath(e,"/info");this.xo=Hr._getReceiver(e,r,t),this.timeoutRef=setTimeout(function(){n._cleanup(!1),n.emit("finish")},Hr.timeout),this.xo.once("finish",function(s,o){n._cleanup(!0),n.emit("finish",s,o)})};Hr.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null};Hr.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)};Hr.timeout=8e3;var AF=Hr,Xh,Bb;function PF(){if(Bb)return Xh;Bb=1;var e=ac;function t(n){this._transport=n,n.on("message",this._transportMessage.bind(this)),n.on("close",this._transportClose.bind(this))}return t.prototype._transportClose=function(n,r){e.postMessage("c",JSON.stringify([n,r]))},t.prototype._transportMessage=function(n){e.postMessage("t",n)},t.prototype._send=function(n){this._transport.send(n)},t.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Xh=t,Xh}var Yh,zb;function IF(){if(zb)return Yh;zb=1;var e=An,t=Hs,n=PF(),r=lR(),s=ac,o=eR,l=function(){};return Yh=function(u,d){var h={};d.forEach(function(m){m.facadeTransport&&(h[m.facadeTransport.transportName]=m.facadeTransport)}),h[r.transportName]=r;var g;u.bootstrap_iframe=function(){var m;s.currentWindowId=o.hash.slice(1);var S=function(b){if(b.source===parent&&(typeof g>"u"&&(g=b.origin),b.origin===g)){var R;try{R=JSON.parse(b.data)}catch{l("bad json",b.data);return}if(R.windowId===s.currentWindowId)switch(R.type){case"s":var x;try{x=JSON.parse(R.data)}catch{l("bad json",R.data);break}var _=x[0],T=x[1],E=x[2],k=x[3];if(_!==u.version)throw new Error('Incompatible SockJS! Main site uses: "'+_+'", the iframe: "'+u.version+'".');if(!e.isOriginEqual(E,o.href)||!e.isOriginEqual(k,o.href))throw new Error("Can't connect to different domain from within an iframe. ("+o.href+", "+E+", "+k+")");m=new n(new h[T](E,k));break;case"m":m._send(R.data);break;case"c":m&&m._close(),m=null;break}}};t.attachEvent("message",S),s.postMessage("s")}},Yh}var NF=hT,MF=_e,Hb=sa,LF=dF,Ka=An,DF=Hs,jF=fF,UF=Py,$F=sc,FF=hF,Dy=My,fR=pT,ru=eR,BF=gF,Wb=yF,zF=AF,Tr=function(){},hR;function ke(e,t,n){if(!(this instanceof ke))return new ke(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");fR.call(this),this.readyState=ke.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&FF.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var r=n.sessionId||8;if(typeof r=="function")this._generateSessionId=r;else if(typeof r=="number")this._generateSessionId=function(){return Hb.string(r)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=n.server||Hb.numberString(1e3);var s=new NF(e);if(!s.host||!s.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(s.hash)throw new SyntaxError("The URL must not contain a fragment");if(s.protocol!=="http:"&&s.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.");var o=s.protocol==="https:";if(ru.protocol==="https:"&&!o&&!Ka.isLoopbackAddr(s.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var l=t.sort();l.forEach(function(d,h){if(!d)throw new SyntaxError("The protocols entry '"+d+"' is invalid.");if(h<l.length-1&&d===l[h+1])throw new SyntaxError("The protocols entry '"+d+"' is duplicated.")});var u=Ka.getOrigin(ru.href);this._origin=u?u.toLowerCase():null,s.set("pathname",s.pathname.replace(/\/+$/,"")),this.url=s.href,Tr("using url",this.url),this._urlInfo={nullOrigin:!$F.hasDomain(),sameOrigin:Ka.isOriginEqual(this.url,ru.href),sameScheme:Ka.isSchemeEqual(this.url,ru.href)},this._ir=new zF(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}MF(ke,fR);function pR(e){return e===1e3||e>=3e3&&e<=4999}ke.prototype.close=function(e,t){if(e&&!pR(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===ke.CLOSING||this.readyState===ke.CLOSED)){var n=!0;this._close(e||1e3,t||"Normal closure",n)}};ke.prototype.send=function(e){if(typeof e!="string"&&(e=""+e),this.readyState===ke.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===ke.OPEN&&this._transport.send(LF.quote(e))};ke.version=DT();ke.CONNECTING=0;ke.OPEN=1;ke.CLOSING=2;ke.CLOSED=3;ke.prototype._receiveInfo=function(e,t){if(this._ir=null,!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=UF.extend(e,this._urlInfo);var n=hR.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,Tr(this._transports.length+" enabled transports"),this._connect()};ke.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(Tr("attempt",e.transportName),e.needBody&&(!globalThis.document.body||typeof globalThis.document.readyState<"u"&&globalThis.document.readyState!=="complete"&&globalThis.document.readyState!=="interactive")){this._transports.unshift(e),DF.attachEvent("load",this._connect.bind(this));return}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var n=Ka.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),r=this._transportOptions[e.transportName],s=new e(n,this._transUrl,r);s.on("message",this._transportMessage.bind(this)),s.once("close",this._transportClose.bind(this)),s.transportName=e.transportName,this._transport=s;return}this._close(2e3,"All transports failed",!1)};ke.prototype._transportTimeout=function(){this.readyState===ke.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};ke.prototype._transportMessage=function(e){var t=this,n=e.slice(0,1),r=e.slice(1),s;switch(n){case"o":this._open();return;case"h":this.dispatchEvent(new Dy("heartbeat")),Tr("heartbeat",this.transport);return}if(r)try{s=JSON.parse(r)}catch{}if(!(typeof s>"u"))switch(n){case"a":Array.isArray(s)&&s.forEach(function(o){Tr("message",t.transport),t.dispatchEvent(new Wb(o))});break;case"m":Tr("message",this.transport),this.dispatchEvent(new Wb(s));break;case"c":Array.isArray(s)&&s.length===2&&this._close(s[0],s[1],!0);break}};ke.prototype._transportClose=function(e,t){if(Tr("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!pR(e)&&e!==2e3&&this.readyState===ke.CONNECTING){this._connect();return}this._close(e,t)};ke.prototype._open=function(){Tr("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===ke.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=ke.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new Dy("open")),Tr("connected",this.transport)):this._close(1006,"Server lost session")};ke.prototype._close=function(e,t,n){Tr("_close",this.transport,e,t,n,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===ke.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=ke.CLOSING,setTimeout((function(){this.readyState=ke.CLOSED,r&&this.dispatchEvent(new Dy("error"));var s=new BF;s.wasClean=n||!1,s.code=e||1e3,s.reason=t,this.dispatchEvent(s),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)};ke.prototype.countRTO=function(e){return e>100?4*e:300+e};var HF=function(e){return hR=jF(e),IF()(ke,e),ke},WF=eF,VF=HF(WF);"_sockjs_onload"in globalThis&&setTimeout(globalThis._sockjs_onload,1);const GF=rm(VF);class qF{constructor(){Pt(this,"client",null);Pt(this,"subscriptions",new Map);Pt(this,"reconnectAttempts",0);Pt(this,"maxReconnectAttempts",5);Pt(this,"reconnectDelay",3e3);Pt(this,"messageListeners",[]);Pt(this,"roomUpdateListeners",[]);Pt(this,"statusListeners",[]);Pt(this,"typingListeners",[]);this.initClient()}initClient(){const t=localStorage.getItem("accessToken");if(!t){console.warn("No access token available for WebSocket connection");return}this.client=new S$({webSocketFactory:()=>new GF("http://localhost:8081/ws"),connectHeaders:{Authorization:`Bearer ${t}`,email:this.getCurrentUserEmail()},debug:n=>{console.log("STOMP:",n)},reconnectDelay:this.reconnectDelay,heartbeatIncoming:4e3,heartbeatOutgoing:4e3}),this.client.onConnect=n=>{console.log("Connected to WebSocket:",n),this.reconnectAttempts=0,this.subscribeToTopics()},this.client.onStompError=n=>{console.error("STOMP error:",n.headers.message),console.error("Details:",n.body)},this.client.onWebSocketClose=()=>{console.log("WebSocket connection closed"),this.attemptReconnect()},this.client.onWebSocketError=n=>{console.error("WebSocket error:",n)}}getCurrentUserEmail(){return localStorage.getItem("userEmail")||""}attemptReconnect(){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log(`Attempting to reconnect... (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connect()},this.reconnectDelay)):console.error("Max reconnect attempts reached")}subscribeToTopics(){var t;(t=this.client)!=null&&t.connected&&this.subscribe("/topic/status",n=>{const r=JSON.parse(n.body);this.statusListeners.forEach(s=>s(r))})}subscribe(t,n){var s;if(!((s=this.client)!=null&&s.connected))return;const r=this.client.subscribe(t,n);this.subscriptions.set(t,r)}connect(){this.client&&!this.client.connected&&this.client.activate()}disconnect(){var t;(t=this.client)!=null&&t.connected&&this.client.deactivate(),this.subscriptions.clear()}subscribeToRoom(t){var n;(n=this.client)!=null&&n.connected&&(this.subscribe(`/topic/room/${t}`,r=>{const s=JSON.parse(r.body);this.messageListeners.forEach(o=>o(s))}),this.subscribe(`/topic/status/${t}`,r=>{const s=JSON.parse(r.body);this.statusListeners.forEach(o=>o(s))}),this.subscribe(`/topic/chat/${t}`,r=>{const s=JSON.parse(r.body);this.typingListeners.forEach(o=>o(s))}))}unsubscribeFromRoom(t){[`/topic/room/${t}`,`/topic/status/${t}`,`/topic/chat/${t}`].forEach(r=>{const s=this.subscriptions.get(r);s&&(s.unsubscribe(),this.subscriptions.delete(r))})}subscribeToUserUpdates(t){var n;(n=this.client)!=null&&n.connected&&this.subscribe(`/topic/user/${t}/updates`,r=>{const s=JSON.parse(r.body);this.roomUpdateListeners.forEach(o=>o(s))})}sendMessage(t,n){var s;if(!((s=this.client)!=null&&s.connected))throw new Error("WebSocket not connected");const r={roomId:t,content:n,messageType:"TEXT"};this.client.publish({destination:`/app/chat.send/${t}`,body:JSON.stringify(r),headers:{email:this.getCurrentUserEmail()}})}acknowledgeDelivery(t,n){var r;(r=this.client)!=null&&r.connected&&this.client.publish({destination:`/app/chat.delivered/${t}`,body:JSON.stringify({messageId:n}),headers:{email:this.getCurrentUserEmail()}})}acknowledgeRead(t,n){var r;(r=this.client)!=null&&r.connected&&this.client.publish({destination:`/app/chat.read/${t}`,body:JSON.stringify({messageId:n}),headers:{email:this.getCurrentUserEmail()}})}markAllAsRead(t){var n;(n=this.client)!=null&&n.connected&&this.client.publish({destination:`/app/chat.read-all/${t}`,headers:{email:this.getCurrentUserEmail()}})}sendTyping(t,n){var s;if(!((s=this.client)!=null&&s.connected))return;const r={isTyping:n};this.client.publish({destination:`/app/chat.typing/${t}`,body:JSON.stringify(r),headers:{email:this.getCurrentUserEmail()}})}joinRoom(t){var n;(n=this.client)!=null&&n.connected&&this.client.publish({destination:`/app/room.join/${t}`,headers:{email:this.getCurrentUserEmail()}})}leaveRoom(t){var n;(n=this.client)!=null&&n.connected&&this.client.publish({destination:`/app/room.leave/${t}`,headers:{email:this.getCurrentUserEmail()}})}addMessageListener(t){this.messageListeners.push(t)}removeMessageListener(t){this.messageListeners=this.messageListeners.filter(n=>n!==t)}addRoomUpdateListener(t){this.roomUpdateListeners.push(t)}removeRoomUpdateListener(t){this.roomUpdateListeners=this.roomUpdateListeners.filter(n=>n!==t)}addStatusListener(t){this.statusListeners.push(t)}removeStatusListener(t){this.statusListeners=this.statusListeners.filter(n=>n!==t)}addTypingListener(t){this.typingListeners.push(t)}removeTypingListener(t){this.typingListeners=this.typingListeners.filter(n=>n!==t)}get isConnected(){var t;return((t=this.client)==null?void 0:t.connected)||!1}}const $n=new qF,gR=w.createContext(null),yz=()=>{const e=w.useContext(gR);if(!e)throw new Error("useChat must be used within a ChatProvider");return e},KF=({children:e})=>{const{user:t}=cf(),{joinRoom:n,leaveRoom:r,markAsRead:s,markAllAsRead:o,messages:l,subscribeToConversations:u}=t$(),[d,h]=w.useState([]),[g,m]=w.useState(null),[S,b]=w.useState([]),[R,x]=w.useState(!1),[_,T]=w.useState(null),[E,k]=w.useState(new Set),C=w.useCallback(async()=>{if(t)try{x(!0),T(null);const z=await tT();h(z);try{const $=z.map(D=>D.id);console.log("ChatContext: subscribing Agora to room IDs",$),u($)}catch($){console.warn("Failed to subscribe Agora to room IDs",$)}}catch(z){console.error("Failed to load chats:",z),T("Failed to load chats")}finally{x(!1)}},[t,u]),I=w.useCallback(async z=>{try{x(!0),T(null);const $=await nT(z);b($);const D=new Set($.map(B=>B.id));k(D)}catch($){console.error("Failed to load messages:",$),T("Failed to load messages")}finally{x(!1)}},[]),M=w.useCallback(z=>{b($=>$.some(D=>D.id===z.id)?(console.log("Duplicate message prevented:",z.id),$):(console.log("Adding new message:",z.id,z.content),[...$,z])),k($=>$.has(z.id)?$:new Set([...$,z.id]))},[]),L=w.useCallback(async z=>{if(!(!g||!t))try{const $={content:z,type:"TEXT"},D=await rT(g.id,$);M(D),console.log("ChatContext: sent message via API",{roomId:g.id,sentMessage:D}),h(B=>B.map(ee=>ee.id===g.id?{...ee,lastMessagePreview:D.content,lastMessageTime:D.sentAt,unreadCount:0}:ee))}catch($){throw console.error("Failed to send message:",$),T("Failed to send message"),$}},[g,t,M]),W=w.useCallback(async z=>{if(t)try{x(!0),T(null);const $=await sT(z);h(D=>D.some(B=>B.id===$.id)?D:[...D,$]),m($)}catch($){throw console.error("Failed to create direct chat:",$),T("Failed to create direct chat"),$}finally{x(!1)}},[t]),K=w.useCallback(async(z,$)=>{if(t)try{x(!0),T(null);const D=await oT(z,$);h(B=>B.some(ee=>ee.id===D.id)?B:[...B,D]),m(D)}catch(D){throw console.error("Failed to create group chat:",D),T("Failed to create group chat"),D}finally{x(!1)}},[t]),H=w.useCallback(async z=>{try{await iT(z),o(z),b($=>$.map(D=>({...D,read:!0,readAt:new Date().toISOString()}))),h($=>$.map(D=>D.id===z?{...D,unreadCount:0}:D))}catch($){console.error("Failed to mark as read:",$),T("Failed to mark messages as read")}},[o]),y=w.useCallback(z=>{if(console.log("ChatContext: WebSocket message received",z),z.type==="MESSAGE_CREATE"&&z.message){const $={id:z.message.id,content:z.message.content,senderEmail:z.message.senderEmail,sentAt:z.message.sentAt,delivered:z.message.delivered||!1,read:z.message.read||!1,roomId:z.roomId,type:"TEXT"};console.log("ChatContext: Processing message for room",z.roomId,"activeChat:",g==null?void 0:g.id),g&&z.roomId===g.id&&(console.log("ChatContext: Adding message to active chat",$),M($)),h(D=>D.map(B=>B.id===z.roomId?{...B,lastMessagePreview:$.content,lastMessageTime:$.sentAt,unreadCount:(g==null?void 0:g.id)!==z.roomId?(B.unreadCount||0)+1:B.unreadCount}:B))}},[g,M]),V=w.useCallback(z=>{h($=>$.map(D=>D.id===z.roomId?{...D,name:z.roomName,isGroup:z.isGroup,lastMessagePreview:z.lastMessagePreview,lastMessageTime:z.lastMessageTime,memberEmails:z.memberEmails}:D))},[]),Z=w.useCallback(z=>{g&&z.roomId===g.id&&(z.type==="MESSAGE_DELIVERED"||z.type==="MESSAGE_READ"?b($=>$.map(D=>D.id===z.messageId?{...D,delivered:z.type==="MESSAGE_DELIVERED"||D.delivered,read:z.type==="MESSAGE_READ"||D.read,readAt:z.type==="MESSAGE_READ"?new Date().toISOString():D.readAt}:D)):z.type==="ALL_READ"&&(b($=>$.map(D=>({...D,read:!0,readAt:new Date().toISOString()}))),h($=>$.map(D=>D.id===z.roomId?{...D,unreadCount:0}:D))))},[g]),N=w.useCallback(z=>{g&&(r(g.id),$n.unsubscribeFromRoom(g.id),console.log("ChatContext: Unsubscribed from WebSocket room:",g.id)),m(z),T(null),k(new Set),z?(n(z.id),$n.subscribeToRoom(z.id),console.log("ChatContext: Subscribed to WebSocket room:",z.id),I(z.id),z.unreadCount>0&&H(z.id)):b([])},[g,n,r,I,H]);w.useEffect(()=>{if(t)return console.log("ChatContext: Connecting to WebSocket..."),$n.connect(),C(),$n.addMessageListener(y),$n.addRoomUpdateListener(V),$n.addStatusListener(Z),t.email&&$n.subscribeToUserUpdates(t.email),()=>{$n.removeMessageListener(y),$n.removeRoomUpdateListener(V),$n.removeStatusListener(Z)};h([]),m(null),b([]),k(new Set),$n.disconnect()},[t]);const oe={chats:d,activeChat:g,messages:S,setActiveChat:N,sendMessage:L,createDirectChat:W,createGroupChat:K,markAsRead:H,refreshChats:C,loading:R,error:_};return A.jsx(gR.Provider,{value:oe,children:e})},vn="/tasks",QF=async()=>(await Se.get(vn)).data.data,JF=async e=>(await Se.get(`${vn}/${e}`)).data.data,XF=async e=>(await Se.get(`${vn}/status/${e}`)).data.data,YF=async e=>(await Se.get(`${vn}/priority/${e}`)).data.data,ZF=async()=>(await Se.get(`${vn}/assigned`)).data.data,eB=async e=>(await Se.post(vn,e)).data.data,tB=async(e,t)=>(await Se.put(`${vn}/${e}`,t)).data.data,nB=async e=>{await Se.delete(`${vn}/${e}`)},rB=async e=>(await Se.get(`${vn}/search`,{params:{query:e}})).data.data,sB=async e=>(await Se.get(`${vn}/tags`,{params:{tags:e}})).data.data,oB=async(e,t)=>(await Se.patch(`${vn}/${e}/status`,{status:t})).data.data,iB=async()=>(await Se.get(`${vn}/count`)).data.data,aB=async e=>(await Se.get(`${vn}/count/status/${e}`)).data.data,$a={getAllTasks:QF,getTaskById:JF,getTasksByStatus:XF,getTasksByPriority:YF,getAssignedTasks:ZF,createTask:eB,updateTask:tB,deleteTask:nB,searchTasks:rB,getTasksByTags:sB,updateTaskStatus:oB,getTasksCount:iB,getTasksCountByStatus:aB},lB=w.createContext(void 0),su=e=>{const t={HIGH:"high",MEDIUM:"medium",LOW:"low"},n={TODO:"todo",IN_PROGRESS:"in-progress",REVIEW:"review",DONE:"done"};return{id:e.id,title:e.title,description:e.description,priority:t[e.priority],status:n[e.status],assignee:e.assignee||{id:e.ownerId,name:e.ownerName,avatar:void 0},tags:e.tags,dueDate:e.dueDate?new Date(e.dueDate):void 0,createdAt:new Date(e.createdAt)}},cB=({children:e})=>{const[t,n]=w.useState([]),[r,s]=w.useState(!1),{toast:o}=z1(),l=async()=>{try{s(!0);const m=await $a.getAllTasks();n(m.map(su))}catch(m){console.error("Error fetching tasks:",m),o({title:"Error",description:"Failed to fetch tasks",variant:"destructive"})}finally{s(!1)}};w.useEffect(()=>{l()},[]);const u=async(m,S)=>{const b={todo:"TODO","in-progress":"IN_PROGRESS",review:"REVIEW",done:"DONE"};try{const R=await $a.updateTaskStatus(m,b[S]);n(x=>x.map(_=>_.id===m?su(R):_))}catch(R){console.error("Error updating task status:",R),o({title:"Error",description:"Failed to update task status",variant:"destructive"})}},d=async(m,S)=>{try{const b={high:"HIGH",medium:"MEDIUM",low:"LOW"},R={todo:"TODO","in-progress":"IN_PROGRESS",review:"REVIEW",done:"DONE"},x={};S.title&&(x.title=S.title),S.description!==void 0&&(x.description=S.description),S.priority&&(x.priority=b[S.priority]),S.status&&(x.status=R[S.status]),S.tags&&(x.tags=S.tags),S.dueDate&&(x.dueDate=S.dueDate.toISOString().split("T")[0]);const _=await $a.updateTask(m,x);n(T=>T.map(E=>E.id===m?su(_):E)),o({title:"Success",description:"Task updated successfully"})}catch(b){console.error("Error updating task:",b),o({title:"Error",description:"Failed to update task",variant:"destructive"})}},h=async m=>{var S;try{const b={high:"HIGH",medium:"MEDIUM",low:"LOW"},R={todo:"TODO","in-progress":"IN_PROGRESS",review:"REVIEW",done:"DONE"},x={title:m.title,description:m.description,priority:b[m.priority],status:R[m.status],tags:m.tags,dueDate:(S=m.dueDate)==null?void 0:S.toISOString().split("T")[0]},_=await $a.createTask(x);n(T=>[su(_),...T]),o({title:"Success",description:"Task created successfully"})}catch(b){console.error("Error creating task:",b),o({title:"Error",description:"Failed to create task",variant:"destructive"})}},g=async m=>{try{await $a.deleteTask(m),n(S=>S.filter(b=>b.id!==m)),o({title:"Success",description:"Task deleted successfully"})}catch(S){console.error("Error deleting task:",S),o({title:"Error",description:"Failed to delete task",variant:"destructive"})}};return A.jsx(lB.Provider,{value:{tasks:t,loading:r,fetchTasks:l,moveTask:u,updateTask:d,addTask:h,deleteTask:g},children:e})},mR=w.createContext(null),uB=({children:e})=>{const[t,n]=w.useState("chat"),[r,s]=w.useState(null),[o,l]=w.useState(localStorage.getItem("userEmail"));return A.jsx(mR.Provider,{value:{activeModule:t,setActiveModule:n,activeRoom:r,setActiveRoom:s,userEmail:o,setUserEmail:l},children:e})},vz=()=>{const e=w.useContext(mR);if(!e)throw new Error("useApp must be used within an AppProvider");return e};var dB=Symbol.for("react.lazy"),vd=Td[" use ".trim().toString()];function fB(e){return typeof e=="object"&&e!==null&&"then"in e}function yR(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===dB&&"_payload"in e&&fB(e._payload)}function jy(e){const t=hB(e),n=w.forwardRef((r,s)=>{let{children:o,...l}=r;yR(o)&&typeof vd=="function"&&(o=vd(o._payload));const u=w.Children.toArray(o),d=u.find(gB);if(d){const h=d.props.children,g=u.map(m=>m===d?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:m);return A.jsx(t,{...l,ref:s,children:w.isValidElement(h)?w.cloneElement(h,void 0,g):null})}return A.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var la=jy("Slot");function hB(e){const t=w.forwardRef((n,r)=>{let{children:s,...o}=n;if(yR(s)&&typeof vd=="function"&&(s=vd(s._payload)),w.isValidElement(s)){const l=yB(s),u=mB(o,s.props);return s.type!==w.Fragment&&(u.ref=r?Kl(r,l):l),w.cloneElement(s,u)}return w.Children.count(s)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pB=Symbol("radix.slottable");function gB(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pB}function mB(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function yB(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Zh=768;function vB(){const[e,t]=w.useState(void 0);return w.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Zh-1}px)`),r=()=>{t(window.innerWidth<Zh)};return n.addEventListener("change",r),t(window.innerWidth<Zh),()=>n.removeEventListener("change",r)},[]),!!e}const wB=Wd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",premium:"bg-gradient-to-r from-primary to-accent text-primary-foreground hover:opacity-90 shadow-lg",success:"bg-success text-white hover:bg-success/90 shadow-sm"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),yf=w.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const l=r?la:"button";return A.jsx(l,{className:ye(wB({variant:t,size:n,className:e})),ref:o,...s})});yf.displayName="Button";const vR=w.forwardRef(({className:e,type:t,...n},r)=>A.jsx("input",{type:t,className:ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));vR.displayName="Input";var bB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],SB=bB.reduce((e,t)=>{const n=jy(`Primitive.${t}`),r=w.forwardRef((s,o)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),xB="Separator",Vb="horizontal",CB=["horizontal","vertical"],wR=w.forwardRef((e,t)=>{const{decorative:n,orientation:r=Vb,...s}=e,o=EB(r)?r:Vb,u=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return A.jsx(SB.div,{"data-orientation":o,...u,...s,ref:t})});wR.displayName=xB;function EB(e){return CB.includes(e)}var bR=wR;const SR=w.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>A.jsx(bR,{ref:s,decorative:n,orientation:t,className:ye("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));SR.displayName=bR.displayName;var ep="focusScope.autoFocusOnMount",tp="focusScope.autoFocusOnUnmount",Gb={bubbles:!1,cancelable:!0},TB="FocusScope",xR=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=e,[u,d]=w.useState(null),h=Xn(s),g=Xn(o),m=w.useRef(null),S=Ut(t,x=>d(x)),b=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let x=function(k){if(b.paused||!u)return;const C=k.target;u.contains(C)?m.current=C:ls(m.current,{select:!0})},_=function(k){if(b.paused||!u)return;const C=k.relatedTarget;C!==null&&(u.contains(C)||ls(m.current,{select:!0}))},T=function(k){if(document.activeElement===document.body)for(const I of k)I.removedNodes.length>0&&ls(u)};document.addEventListener("focusin",x),document.addEventListener("focusout",_);const E=new MutationObserver(T);return u&&E.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",_),E.disconnect()}}},[r,u,b.paused]),w.useEffect(()=>{if(u){Kb.add(b);const x=document.activeElement;if(!u.contains(x)){const T=new CustomEvent(ep,Gb);u.addEventListener(ep,h),u.dispatchEvent(T),T.defaultPrevented||(RB(PB(CR(u)),{select:!0}),document.activeElement===x&&ls(u))}return()=>{u.removeEventListener(ep,h),setTimeout(()=>{const T=new CustomEvent(tp,Gb);u.addEventListener(tp,g),u.dispatchEvent(T),T.defaultPrevented||ls(x??document.body,{select:!0}),u.removeEventListener(tp,g),Kb.remove(b)},0)}}},[u,h,g,b]);const R=w.useCallback(x=>{if(!n&&!r||b.paused)return;const _=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,T=document.activeElement;if(_&&T){const E=x.currentTarget,[k,C]=kB(E);k&&C?!x.shiftKey&&T===C?(x.preventDefault(),n&&ls(k,{select:!0})):x.shiftKey&&T===k&&(x.preventDefault(),n&&ls(C,{select:!0})):T===E&&x.preventDefault()}},[n,r,b.paused]);return A.jsx(ot.div,{tabIndex:-1,...l,ref:S,onKeyDown:R})});xR.displayName=TB;function RB(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ls(r,{select:t}),document.activeElement!==n)return}function kB(e){const t=CR(e),n=qb(t,e),r=qb(t.reverse(),e);return[n,r]}function CR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function qb(e,t){for(const n of e)if(!_B(n,{upTo:t}))return n}function _B(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function OB(e){return e instanceof HTMLInputElement&&"select"in e}function ls(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&OB(e)&&t&&e.select()}}var Kb=AB();function AB(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Qb(e,t),e.unshift(t)},remove(t){var n;e=Qb(e,t),(n=e[0])==null||n.resume()}}}function Qb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function PB(e){return e.filter(t=>t.tagName!=="A")}var np=0;function IB(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Jb()),document.body.insertAdjacentElement("beforeend",e[1]??Jb()),np++,()=>{np===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),np--}},[])}function Jb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var wr=function(){return wr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},wr.apply(this,arguments)};function ER(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function NB(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Pu="right-scroll-bar-position",Iu="width-before-scroll-bar",MB="with-scroll-bars-hidden",LB="--removed-body-scroll-bar-size";function rp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function DB(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var jB=typeof window<"u"?w.useLayoutEffect:w.useEffect,Xb=new WeakMap;function UB(e,t){var n=DB(null,function(r){return e.forEach(function(s){return rp(s,r)})});return jB(function(){var r=Xb.get(n);if(r){var s=new Set(r),o=new Set(e),l=n.current;s.forEach(function(u){o.has(u)||rp(u,null)}),o.forEach(function(u){s.has(u)||rp(u,l)})}Xb.set(n,e)},[e]),n}function $B(e){return e}function FB(e,t){t===void 0&&(t=$B);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(o),l=n}var d=function(){var g=l;l=[],g.forEach(o)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(g){l.push(g),h()},filter:function(g){return l=l.filter(g),n}}}};return s}function BB(e){e===void 0&&(e={});var t=FB(null);return t.options=wr({async:!0,ssr:!1},e),t}var TR=function(e){var t=e.sideCar,n=ER(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,wr({},n))};TR.isSideCarExport=!0;function zB(e,t){return e.useMedium(t),TR}var RR=BB(),sp=function(){},vf=w.forwardRef(function(e,t){var n=w.useRef(null),r=w.useState({onScrollCapture:sp,onWheelCapture:sp,onTouchMoveCapture:sp}),s=r[0],o=r[1],l=e.forwardProps,u=e.children,d=e.className,h=e.removeScrollBar,g=e.enabled,m=e.shards,S=e.sideCar,b=e.noRelative,R=e.noIsolation,x=e.inert,_=e.allowPinchZoom,T=e.as,E=T===void 0?"div":T,k=e.gapMode,C=ER(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=S,M=UB([n,t]),L=wr(wr({},C),s);return w.createElement(w.Fragment,null,g&&w.createElement(I,{sideCar:RR,removeScrollBar:h,shards:m,noRelative:b,noIsolation:R,inert:x,setCallbacks:o,allowPinchZoom:!!_,lockRef:n,gapMode:k}),l?w.cloneElement(w.Children.only(u),wr(wr({},L),{ref:M})):w.createElement(E,wr({},L,{className:d,ref:M}),u))});vf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vf.classNames={fullWidth:Iu,zeroRight:Pu};var HB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WB(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=HB();return t&&e.setAttribute("nonce",t),e}function VB(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function GB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var qB=function(){var e=0,t=null;return{add:function(n){e==0&&(t=WB())&&(VB(t,n),GB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},KB=function(){var e=qB();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},kR=function(){var e=KB(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},QB={left:0,top:0,right:0,gap:0},op=function(e){return parseInt(e||"",10)||0},JB=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[op(n),op(r),op(s)]},XB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return QB;var t=JB(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},YB=kR(),Si="data-scroll-locked",ZB=function(e,t,n,r){var s=e.left,o=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(MB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Si,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pu,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Iu,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Pu," .").concat(Pu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Iu," .").concat(Iu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Si,`] {
    `).concat(LB,": ").concat(u,`px;
  }
`)},Yb=function(){var e=parseInt(document.body.getAttribute(Si)||"0",10);return isFinite(e)?e:0},e5=function(){w.useEffect(function(){return document.body.setAttribute(Si,(Yb()+1).toString()),function(){var e=Yb()-1;e<=0?document.body.removeAttribute(Si):document.body.setAttribute(Si,e.toString())}},[])},t5=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;e5();var o=w.useMemo(function(){return XB(s)},[s]);return w.createElement(YB,{styles:ZB(o,!t,s,n?"":"!important")})},Kg=!1;if(typeof window<"u")try{var ou=Object.defineProperty({},"passive",{get:function(){return Kg=!0,!0}});window.addEventListener("test",ou,ou),window.removeEventListener("test",ou,ou)}catch{Kg=!1}var Ko=Kg?{passive:!1}:!1,n5=function(e){return e.tagName==="TEXTAREA"},_R=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!n5(e)&&n[t]==="visible")},r5=function(e){return _R(e,"overflowY")},s5=function(e){return _R(e,"overflowX")},Zb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=OR(e,r);if(s){var o=AR(e,r),l=o[1],u=o[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},o5=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},i5=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},OR=function(e,t){return e==="v"?r5(t):s5(t)},AR=function(e,t){return e==="v"?o5(t):i5(t)},a5=function(e,t){return e==="h"&&t==="rtl"?-1:1},l5=function(e,t,n,r,s){var o=a5(e,window.getComputedStyle(t).direction),l=o*r,u=n.target,d=t.contains(u),h=!1,g=l>0,m=0,S=0;do{if(!u)break;var b=AR(e,u),R=b[0],x=b[1],_=b[2],T=x-_-o*R;(R||T)&&OR(e,u)&&(m+=T,S+=R);var E=u.parentNode;u=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(g&&Math.abs(m)<1||!g&&Math.abs(S)<1)&&(h=!0),h},iu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eS=function(e){return[e.deltaX,e.deltaY]},tS=function(e){return e&&"current"in e?e.current:e},c5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},u5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},d5=0,Qo=[];function f5(e){var t=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),s=w.useState(d5++)[0],o=w.useState(kR)[0],l=w.useRef(e);w.useEffect(function(){l.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=NB([e.lockRef.current],(e.shards||[]).map(tS),!0).filter(Boolean);return x.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=w.useCallback(function(x,_){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!l.current.allowPinchZoom;var T=iu(x),E=n.current,k="deltaX"in x?x.deltaX:E[0]-T[0],C="deltaY"in x?x.deltaY:E[1]-T[1],I,M=x.target,L=Math.abs(k)>Math.abs(C)?"h":"v";if("touches"in x&&L==="h"&&M.type==="range")return!1;var W=Zb(L,M);if(!W)return!0;if(W?I=L:(I=L==="v"?"h":"v",W=Zb(L,M)),!W)return!1;if(!r.current&&"changedTouches"in x&&(k||C)&&(r.current=I),!I)return!0;var K=r.current||I;return l5(K,_,x,K==="h"?k:C)},[]),d=w.useCallback(function(x){var _=x;if(!(!Qo.length||Qo[Qo.length-1]!==o)){var T="deltaY"in _?eS(_):iu(_),E=t.current.filter(function(I){return I.name===_.type&&(I.target===_.target||_.target===I.shadowParent)&&c5(I.delta,T)})[0];if(E&&E.should){_.cancelable&&_.preventDefault();return}if(!E){var k=(l.current.shards||[]).map(tS).filter(Boolean).filter(function(I){return I.contains(_.target)}),C=k.length>0?u(_,k[0]):!l.current.noIsolation;C&&_.cancelable&&_.preventDefault()}}},[]),h=w.useCallback(function(x,_,T,E){var k={name:x,delta:_,target:T,should:E,shadowParent:h5(T)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(C){return C!==k})},1)},[]),g=w.useCallback(function(x){n.current=iu(x),r.current=void 0},[]),m=w.useCallback(function(x){h(x.type,eS(x),x.target,u(x,e.lockRef.current))},[]),S=w.useCallback(function(x){h(x.type,iu(x),x.target,u(x,e.lockRef.current))},[]);w.useEffect(function(){return Qo.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:S}),document.addEventListener("wheel",d,Ko),document.addEventListener("touchmove",d,Ko),document.addEventListener("touchstart",g,Ko),function(){Qo=Qo.filter(function(x){return x!==o}),document.removeEventListener("wheel",d,Ko),document.removeEventListener("touchmove",d,Ko),document.removeEventListener("touchstart",g,Ko)}},[]);var b=e.removeScrollBar,R=e.inert;return w.createElement(w.Fragment,null,R?w.createElement(o,{styles:u5(s)}):null,b?w.createElement(t5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function h5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const p5=zB(RR,f5);var PR=w.forwardRef(function(e,t){return w.createElement(vf,wr({},e,{ref:t,sideCar:p5}))});PR.classNames=vf.classNames;var g5=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Jo=new WeakMap,au=new WeakMap,lu={},ip=0,IR=function(e){return e&&(e.host||IR(e.parentNode))},m5=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=IR(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},y5=function(e,t,n,r){var s=m5(t,Array.isArray(e)?e:[e]);lu[n]||(lu[n]=new WeakMap);var o=lu[n],l=[],u=new Set,d=new Set(s),h=function(m){!m||u.has(m)||(u.add(m),h(m.parentNode))};s.forEach(h);var g=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(S){if(u.has(S))g(S);else try{var b=S.getAttribute(r),R=b!==null&&b!=="false",x=(Jo.get(S)||0)+1,_=(o.get(S)||0)+1;Jo.set(S,x),o.set(S,_),l.push(S),x===1&&R&&au.set(S,!0),_===1&&S.setAttribute(n,"true"),R||S.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",S,T)}})};return g(t),u.clear(),ip++,function(){l.forEach(function(m){var S=Jo.get(m)-1,b=o.get(m)-1;Jo.set(m,S),o.set(m,b),S||(au.has(m)||m.removeAttribute(r),au.delete(m)),b||m.removeAttribute(n)}),ip--,ip||(Jo=new WeakMap,Jo=new WeakMap,au=new WeakMap,lu={})}},v5=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=g5(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),y5(r,s,n,"aria-hidden")):function(){return null}};function w5(e){const t=b5(e),n=w.forwardRef((r,s)=>{const{children:o,...l}=r,u=w.Children.toArray(o),d=u.find(x5);if(d){const h=d.props.children,g=u.map(m=>m===d?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:m);return A.jsx(t,{...l,ref:s,children:w.isValidElement(h)?w.cloneElement(h,void 0,g):null})}return A.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function b5(e){const t=w.forwardRef((n,r)=>{const{children:s,...o}=n;if(w.isValidElement(s)){const l=E5(s),u=C5(o,s.props);return s.type!==w.Fragment&&(u.ref=r?Kl(r,l):l),w.cloneElement(s,u)}return w.Children.count(s)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var S5=Symbol("radix.slottable");function x5(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===S5}function C5(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function E5(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var wf="Dialog",[NR]=Ql(wf),[T5,nr]=NR(wf),MR=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,u=w.useRef(null),d=w.useRef(null),[h,g]=Zm({prop:r,defaultProp:s??!1,onChange:o,caller:wf});return A.jsx(T5,{scope:t,triggerRef:u,contentRef:d,contentId:Tu(),titleId:Tu(),descriptionId:Tu(),open:h,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(m=>!m),[g]),modal:l,children:n})};MR.displayName=wf;var LR="DialogTrigger",DR=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=nr(LR,n),o=Ut(t,s.triggerRef);return A.jsx(ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Fy(s.open),...r,ref:o,onClick:We(e.onClick,s.onOpenToggle)})});DR.displayName=LR;var Uy="DialogPortal",[R5,jR]=NR(Uy,{forceMount:void 0}),UR=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=nr(Uy,t);return A.jsx(R5,{scope:t,forceMount:n,children:w.Children.map(r,l=>A.jsx(Ji,{present:n||o.open,children:A.jsx(Ym,{asChild:!0,container:s,children:l})}))})};UR.displayName=Uy;var wd="DialogOverlay",$R=w.forwardRef((e,t)=>{const n=jR(wd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=nr(wd,e.__scopeDialog);return o.modal?A.jsx(Ji,{present:r||o.open,children:A.jsx(_5,{...s,ref:t})}):null});$R.displayName=wd;var k5=w5("DialogOverlay.RemoveScroll"),_5=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=nr(wd,n);return A.jsx(PR,{as:k5,allowPinchZoom:!0,shards:[s.contentRef],children:A.jsx(ot.div,{"data-state":Fy(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Eo="DialogContent",FR=w.forwardRef((e,t)=>{const n=jR(Eo,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=nr(Eo,e.__scopeDialog);return A.jsx(Ji,{present:r||o.open,children:o.modal?A.jsx(O5,{...s,ref:t}):A.jsx(A5,{...s,ref:t})})});FR.displayName=Eo;var O5=w.forwardRef((e,t)=>{const n=nr(Eo,e.__scopeDialog),r=w.useRef(null),s=Ut(t,n.contentRef,r);return w.useEffect(()=>{const o=r.current;if(o)return v5(o)},[]),A.jsx(BR,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:We(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:We(e.onFocusOutside,o=>o.preventDefault())})}),A5=w.forwardRef((e,t)=>{const n=nr(Eo,e.__scopeDialog),r=w.useRef(!1),s=w.useRef(!1);return A.jsx(BR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var d,h;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),BR=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=e,u=nr(Eo,n),d=w.useRef(null),h=Ut(t,d);return IB(),A.jsxs(A.Fragment,{children:[A.jsx(xR,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:A.jsx(Bd,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Fy(u.open),...l,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),A.jsxs(A.Fragment,{children:[A.jsx(P5,{titleId:u.titleId}),A.jsx(N5,{contentRef:d,descriptionId:u.descriptionId})]})]})}),$y="DialogTitle",zR=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=nr($y,n);return A.jsx(ot.h2,{id:s.titleId,...r,ref:t})});zR.displayName=$y;var HR="DialogDescription",WR=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=nr(HR,n);return A.jsx(ot.p,{id:s.descriptionId,...r,ref:t})});WR.displayName=HR;var VR="DialogClose",GR=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=nr(VR,n);return A.jsx(ot.button,{type:"button",...r,ref:t,onClick:We(e.onClick,()=>s.onOpenChange(!1))})});GR.displayName=VR;function Fy(e){return e?"open":"closed"}var qR="DialogTitleWarning",[wz,KR]=pN(qR,{contentName:Eo,titleName:$y,docsSlug:"dialog"}),P5=({titleId:e})=>{const t=KR(qR),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},I5="DialogDescriptionWarning",N5=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KR(I5).contentName}}.`;return w.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},M5=MR,bz=DR,L5=UR,QR=$R,JR=FR,XR=zR,YR=WR,D5=GR;const j5=M5,U5=L5,ZR=w.forwardRef(({className:e,...t},n)=>A.jsx(QR,{className:ye("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));ZR.displayName=QR.displayName;const $5=Wd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ek=w.forwardRef(({side:e="right",className:t,children:n,...r},s)=>A.jsxs(U5,{children:[A.jsx(ZR,{}),A.jsxs(JR,{ref:s,className:ye($5({side:e}),t),...r,children:[n,A.jsxs(D5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[A.jsx(gC,{className:"h-4 w-4"}),A.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ek.displayName=JR.displayName;const F5=w.forwardRef(({className:e,...t},n)=>A.jsx(XR,{ref:n,className:ye("text-lg font-semibold text-foreground",e),...t}));F5.displayName=XR.displayName;const B5=w.forwardRef(({className:e,...t},n)=>A.jsx(YR,{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));B5.displayName=YR.displayName;function nS({className:e,...t}){return A.jsx("div",{className:ye("animate-pulse rounded-md bg-muted",e),...t})}const z5="sidebar:state",H5=60*60*24*7,W5="16rem",V5="18rem",G5="3rem",q5="b",tk=w.createContext(null);function hc(){const e=w.useContext(tk);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const nk=w.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:s,children:o,...l},u)=>{const d=vB(),[h,g]=w.useState(!1),[m,S]=w.useState(e),b=t??m,R=w.useCallback(E=>{const k=typeof E=="function"?E(b):E;n?n(k):S(k),document.cookie=`${z5}=${k}; path=/; max-age=${H5}`},[n,b]),x=w.useCallback(()=>d?g(E=>!E):R(E=>!E),[d,R,g]);w.useEffect(()=>{const E=k=>{k.key===q5&&(k.metaKey||k.ctrlKey)&&(k.preventDefault(),x())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[x]);const _=b?"expanded":"collapsed",T=w.useMemo(()=>({state:_,open:b,setOpen:R,isMobile:d,openMobile:h,setOpenMobile:g,toggleSidebar:x}),[_,b,R,d,h,g,x]);return A.jsx(tk.Provider,{value:T,children:A.jsx(nE,{delayDuration:0,children:A.jsx("div",{style:{"--sidebar-width":W5,"--sidebar-width-icon":G5,...s},className:ye("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:u,...l,children:o})})})});nk.displayName="SidebarProvider";const rk=w.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:s,...o},l)=>{const{isMobile:u,state:d,openMobile:h,setOpenMobile:g}=hc();return n==="none"?A.jsx("div",{className:ye("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:l,...o,children:s}):u?A.jsx(j5,{open:h,onOpenChange:g,...o,children:A.jsx(ek,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":V5},side:e,children:A.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):A.jsxs("div",{ref:l,className:"group peer hidden text-sidebar-foreground md:block","data-state":d,"data-collapsible":d==="collapsed"?n:"","data-variant":t,"data-side":e,children:[A.jsx("div",{className:ye("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),A.jsx("div",{className:ye("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...o,children:A.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});rk.displayName="Sidebar";const sk=w.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:s}=hc();return A.jsxs(yf,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ye("h-7 w-7",e),onClick:o=>{t==null||t(o),s()},...n,children:[A.jsx(bM,{}),A.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});sk.displayName="SidebarTrigger";const K5=w.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=hc();return A.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:ye("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});K5.displayName="SidebarRail";const Q5=w.forwardRef(({className:e,...t},n)=>A.jsx("main",{ref:n,className:ye("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Q5.displayName="SidebarInset";const J5=w.forwardRef(({className:e,...t},n)=>A.jsx(vR,{ref:n,"data-sidebar":"input",className:ye("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));J5.displayName="SidebarInput";const ok=w.forwardRef(({className:e,...t},n)=>A.jsx("div",{ref:n,"data-sidebar":"header",className:ye("flex flex-col gap-2 p-2",e),...t}));ok.displayName="SidebarHeader";const ik=w.forwardRef(({className:e,...t},n)=>A.jsx("div",{ref:n,"data-sidebar":"footer",className:ye("flex flex-col gap-2 p-2",e),...t}));ik.displayName="SidebarFooter";const X5=w.forwardRef(({className:e,...t},n)=>A.jsx(SR,{ref:n,"data-sidebar":"separator",className:ye("mx-2 w-auto bg-sidebar-border",e),...t}));X5.displayName="SidebarSeparator";const ak=w.forwardRef(({className:e,...t},n)=>A.jsx("div",{ref:n,"data-sidebar":"content",className:ye("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));ak.displayName="SidebarContent";const lk=w.forwardRef(({className:e,...t},n)=>A.jsx("div",{ref:n,"data-sidebar":"group",className:ye("relative flex w-full min-w-0 flex-col p-2",e),...t}));lk.displayName="SidebarGroup";const Y5=w.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?la:"div";return A.jsx(s,{ref:r,"data-sidebar":"group-label",className:ye("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});Y5.displayName="SidebarGroupLabel";const Z5=w.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?la:"button";return A.jsx(s,{ref:r,"data-sidebar":"group-action",className:ye("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});Z5.displayName="SidebarGroupAction";const ck=w.forwardRef(({className:e,...t},n)=>A.jsx("div",{ref:n,"data-sidebar":"group-content",className:ye("w-full text-sm",e),...t}));ck.displayName="SidebarGroupContent";const uk=w.forwardRef(({className:e,...t},n)=>A.jsx("ul",{ref:n,"data-sidebar":"menu",className:ye("flex w-full min-w-0 flex-col gap-1",e),...t}));uk.displayName="SidebarMenu";const dk=w.forwardRef(({className:e,...t},n)=>A.jsx("li",{ref:n,"data-sidebar":"menu-item",className:ye("group/menu-item relative",e),...t}));dk.displayName="SidebarMenuItem";const e8=Wd("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),fk=w.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:s,className:o,...l},u)=>{const d=e?la:"button",{isMobile:h,state:g}=hc(),m=A.jsx(d,{ref:u,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:ye(e8({variant:n,size:r}),o),...l});return s?(typeof s=="string"&&(s={children:s}),A.jsxs(N4,{children:[A.jsx(M4,{asChild:!0,children:m}),A.jsx(rE,{side:"right",align:"center",hidden:g!=="collapsed"||h,...s})]})):m});fk.displayName="SidebarMenuButton";const t8=w.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},s)=>{const o=t?la:"button";return A.jsx(o,{ref:s,"data-sidebar":"menu-action",className:ye("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});t8.displayName="SidebarMenuAction";const n8=w.forwardRef(({className:e,...t},n)=>A.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:ye("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));n8.displayName="SidebarMenuBadge";const r8=w.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const s=w.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return A.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:ye("flex h-8 items-center gap-2 rounded-md px-2",e),...n,children:[t&&A.jsx(nS,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),A.jsx(nS,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});r8.displayName="SidebarMenuSkeleton";const s8=w.forwardRef(({className:e,...t},n)=>A.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:ye("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));s8.displayName="SidebarMenuSub";const o8=w.forwardRef(({...e},t)=>A.jsx("li",{ref:t,...e}));o8.displayName="SidebarMenuSubItem";const i8=w.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...s},o)=>{const l=e?la:"a";return A.jsx(l,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:ye("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});i8.displayName="SidebarMenuSubButton";function a8(e,t=[]){let n=[];function r(o,l){const u=w.createContext(l);u.displayName=o+"Context";const d=n.length;n=[...n,l];const h=m=>{var T;const{scope:S,children:b,...R}=m,x=((T=S==null?void 0:S[e])==null?void 0:T[d])||u,_=w.useMemo(()=>R,Object.values(R));return A.jsx(x.Provider,{value:_,children:b})};h.displayName=o+"Provider";function g(m,S){var x;const b=((x=S==null?void 0:S[e])==null?void 0:x[d])||u,R=w.useContext(b);if(R)return R;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[h,g]}const s=()=>{const o=n.map(l=>w.createContext(l));return function(u){const d=(u==null?void 0:u[e])||o;return w.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,l8(s,...t)]}function l8(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((u,{useScope:d,scopeName:h})=>{const m=d(o)[`__scope${h}`];return{...u,...m}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var c8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],By=c8.reduce((e,t)=>{const n=jy(`Primitive.${t}`),r=w.forwardRef((s,o)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),hk={exports:{}},pk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bi=w;function u8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var d8=typeof Object.is=="function"?Object.is:u8,f8=Bi.useState,h8=Bi.useEffect,p8=Bi.useLayoutEffect,g8=Bi.useDebugValue;function m8(e,t){var n=t(),r=f8({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return p8(function(){s.value=n,s.getSnapshot=t,ap(s)&&o({inst:s})},[e,n,t]),h8(function(){return ap(s)&&o({inst:s}),e(function(){ap(s)&&o({inst:s})})},[e]),g8(n),n}function ap(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!d8(e,n)}catch{return!0}}function y8(e,t){return t()}var v8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y8:m8;pk.useSyncExternalStore=Bi.useSyncExternalStore!==void 0?Bi.useSyncExternalStore:v8;hk.exports=pk;var w8=hk.exports;function b8(){return w8.useSyncExternalStore(S8,()=>!0,()=>!1)}function S8(){return()=>{}}var zy="Avatar",[x8]=a8(zy),[C8,gk]=x8(zy),mk=w.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=w.useState("idle");return A.jsx(C8,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:A.jsx(By.span,{...r,ref:t})})});mk.displayName=zy;var yk="AvatarImage",vk=w.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,l=gk(yk,n),u=E8(r,o),d=Xn(h=>{s(h),l.onImageLoadingStatusChange(h)});return kn(()=>{u!=="idle"&&d(u)},[u,d]),u==="loaded"?A.jsx(By.img,{...o,ref:t,src:r}):null});vk.displayName=yk;var wk="AvatarFallback",bk=w.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=gk(wk,n),[l,u]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(d)}},[r]),l&&o.imageLoadingStatus!=="loaded"?A.jsx(By.span,{...s,ref:t}):null});bk.displayName=wk;function rS(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function E8(e,{referrerPolicy:t,crossOrigin:n}){const r=b8(),s=w.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[l,u]=w.useState(()=>rS(o,e));return kn(()=>{u(rS(o,e))},[o,e]),kn(()=>{const d=m=>()=>{u(m)};if(!o)return;const h=d("loaded"),g=d("error");return o.addEventListener("load",h),o.addEventListener("error",g),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",h),o.removeEventListener("error",g)}},[o,n,t]),l}var Sk=mk,xk=vk,Ck=bk;const Ek=w.forwardRef(({className:e,...t},n)=>A.jsx(Sk,{ref:n,className:ye("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Ek.displayName=Sk.displayName;const Tk=w.forwardRef(({className:e,...t},n)=>A.jsx(xk,{ref:n,className:ye("aspect-square h-full w-full",e),...t}));Tk.displayName=xk.displayName;const Rk=w.forwardRef(({className:e,...t},n)=>A.jsx(Ck,{ref:n,className:ye("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Rk.displayName=Ck.displayName;const T8=[{icon:mM,label:"Dashboard",path:"/dashboard"},{icon:wM,label:"Chat",path:"/chat"},{icon:RM,label:"Video",path:"/video"},{icon:SM,label:"Collaborate",path:"/collaborate"},{icon:TM,label:"Contacts",path:"/contacts"},{icon:EM,label:"Notes",path:"/notes"},{icon:yM,label:"Tasks",path:"/tasks"},{icon:CM,label:"Settings",path:"/settings"}],R8=()=>{var r;const{user:e,logout:t}=cf(),{state:n}=hc();return A.jsxs(rk,{className:"border-r bg-sidebar/95 backdrop-blur supports-[backdrop-filter]:bg-sidebar/60",children:[A.jsx(ok,{children:A.jsxs("div",{className:"px-2 py-2",children:[A.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-accent via-primary to-accent bg-clip-text text-transparent hover-scale cursor-pointer",children:"Syncora"}),A.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"Collaborate Better"})]})}),A.jsx(ak,{children:A.jsx(lk,{children:A.jsx(ck,{children:A.jsx(uk,{children:T8.map(s=>A.jsx(dk,{children:A.jsx(fk,{asChild:!0,children:A.jsxs(pj,{to:s.path,className:({isActive:o})=>`flex items-center gap-2 transition-all duration-300 ${o?"bg-gradient-to-r from-primary to-accent text-primary-foreground shadow-glow":"text-sidebar-foreground/70 hover:bg-sidebar-accent/70 hover:text-sidebar-foreground"}`,children:[A.jsx(s.icon,{className:"w-4 h-4"}),A.jsx("span",{className:"font-medium text-sm",children:s.label})]})})},s.path))})})})}),A.jsx(ik,{children:A.jsx("div",{className:"p-2",children:A.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-sidebar-accent/30 backdrop-blur-sm border border-sidebar-border/30 hover:border-sidebar-border/60 transition-all cursor-pointer group",children:[A.jsxs(Ek,{className:"w-8 h-8 border-2 border-primary/30 group-hover:border-primary transition-all",children:[A.jsx(Tk,{src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name}),A.jsx(Rk,{className:"bg-gradient-primary text-white text-xs",children:((r=e==null?void 0:e.name)==null?void 0:r.charAt(0))||"U"})]}),A.jsxs("div",{className:"flex-1 min-w-0 group-data-[collapsible=icon]:hidden",children:[A.jsx("p",{className:"text-xs font-medium truncate",children:(e==null?void 0:e.name)||"Guest User"}),A.jsx("p",{className:"text-[10px] text-sidebar-foreground/60 truncate",children:(e==null?void 0:e.email)||"guest@syncora.com"})]}),A.jsx(yf,{variant:"ghost",size:"icon",onClick:t,className:"h-6 w-6 text-sidebar-foreground/70 hover:text-sidebar-foreground hover:rotate-12 transition-all group-data-[collapsible=icon]:h-8 group-data-[collapsible=icon]:w-8",children:A.jsx(vM,{className:"w-3 h-3 group-data-[collapsible=icon]:w-4 group-data-[collapsible=icon]:h-4"})})]})})})]})},k8=()=>A.jsxs("header",{className:"flex-1 flex items-center justify-between gap-4",children:[A.jsx("div",{className:"flex-1 max-w-md",children:A.jsxs("div",{className:"relative group",children:[A.jsx(xM,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground group-focus-within:text-primary transition-colors"}),A.jsx("input",{type:"search",placeholder:"Search anything...",className:"w-full h-10 pl-10 pr-4 rounded-lg glass-card border border-border/50 focus:border-primary focus:shadow-glow transition-all outline-none text-sm hover:border-primary/50"})]})}),A.jsx("div",{className:"flex items-center gap-2",children:A.jsxs(yf,{variant:"ghost",size:"icon",className:"relative hover-scale h-10 w-10 rounded-lg",children:[A.jsx(gM,{className:"h-5 w-5"}),A.jsx("span",{className:"absolute top-2 right-2 h-2 w-2 bg-destructive rounded-full animate-pulse shadow-glow"})]})})]}),_8=()=>A.jsx(nk,{defaultOpen:!0,children:A.jsxs("div",{className:"flex w-full h-screen overflow-hidden",children:[A.jsx(R8,{}),A.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[A.jsxs("div",{className:"sticky top-0 z-50 flex items-center gap-2 h-14 px-4 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 flex-shrink-0",children:[A.jsx(sk,{className:"hover:bg-accent hover:text-accent-foreground"}),A.jsx(k8,{})]}),A.jsx("main",{className:"flex-1 overflow-hidden h-0",children:A.jsx(ZD,{})})]})]})});var Jt=function(){return Jt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Jt.apply(this,arguments)};function bd(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var $e="-ms-",ll="-moz-",Pe="-webkit-",kk="comm",bf="rule",Hy="decl",O8="@import",_k="@keyframes",A8="@layer",Ok=Math.abs,Wy=String.fromCharCode,Qg=Object.assign;function P8(e,t){return pt(e,0)^45?(((t<<2^pt(e,0))<<2^pt(e,1))<<2^pt(e,2))<<2^pt(e,3):0}function Ak(e){return e.trim()}function jr(e,t){return(e=t.exec(e))?e[0]:e}function we(e,t,n){return e.replace(t,n)}function Nu(e,t,n){return e.indexOf(t,n)}function pt(e,t){return e.charCodeAt(t)|0}function zi(e,t,n){return e.slice(t,n)}function yr(e){return e.length}function Pk(e){return e.length}function Qa(e,t){return t.push(e),e}function I8(e,t){return e.map(t).join("")}function sS(e,t){return e.filter(function(n){return!jr(n,t)})}var Sf=1,Hi=1,Ik=0,On=0,rt=0,ca="";function xf(e,t,n,r,s,o,l,u){return{value:e,root:t,parent:n,type:r,props:s,children:o,line:Sf,column:Hi,length:l,return:"",siblings:u}}function cs(e,t){return Qg(xf("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Xo(e){for(;e.root;)e=cs(e.root,{children:[e]});Qa(e,e.siblings)}function N8(){return rt}function M8(){return rt=On>0?pt(ca,--On):0,Hi--,rt===10&&(Hi=1,Sf--),rt}function Qn(){return rt=On<Ik?pt(ca,On++):0,Hi++,rt===10&&(Hi=1,Sf++),rt}function go(){return pt(ca,On)}function Mu(){return On}function Cf(e,t){return zi(ca,e,t)}function Jg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function L8(e){return Sf=Hi=1,Ik=yr(ca=e),On=0,[]}function D8(e){return ca="",e}function lp(e){return Ak(Cf(On-1,Xg(e===91?e+2:e===40?e+1:e)))}function j8(e){for(;(rt=go())&&rt<33;)Qn();return Jg(e)>2||Jg(rt)>3?"":" "}function U8(e,t){for(;--t&&Qn()&&!(rt<48||rt>102||rt>57&&rt<65||rt>70&&rt<97););return Cf(e,Mu()+(t<6&&go()==32&&Qn()==32))}function Xg(e){for(;Qn();)switch(rt){case e:return On;case 34:case 39:e!==34&&e!==39&&Xg(rt);break;case 40:e===41&&Xg(e);break;case 92:Qn();break}return On}function $8(e,t){for(;Qn()&&e+rt!==57;)if(e+rt===84&&go()===47)break;return"/*"+Cf(t,On-1)+"*"+Wy(e===47?e:Qn())}function F8(e){for(;!Jg(go());)Qn();return Cf(e,On)}function B8(e){return D8(Lu("",null,null,null,[""],e=L8(e),0,[0],e))}function Lu(e,t,n,r,s,o,l,u,d){for(var h=0,g=0,m=l,S=0,b=0,R=0,x=1,_=1,T=1,E=0,k="",C=s,I=o,M=r,L=k;_;)switch(R=E,E=Qn()){case 40:if(R!=108&&pt(L,m-1)==58){Nu(L+=we(lp(E),"&","&\f"),"&\f",Ok(h?u[h-1]:0))!=-1&&(T=-1);break}case 34:case 39:case 91:L+=lp(E);break;case 9:case 10:case 13:case 32:L+=j8(R);break;case 92:L+=U8(Mu()-1,7);continue;case 47:switch(go()){case 42:case 47:Qa(z8($8(Qn(),Mu()),t,n,d),d);break;default:L+="/"}break;case 123*x:u[h++]=yr(L)*T;case 125*x:case 59:case 0:switch(E){case 0:case 125:_=0;case 59+g:T==-1&&(L=we(L,/\f/g,"")),b>0&&yr(L)-m&&Qa(b>32?iS(L+";",r,n,m-1,d):iS(we(L," ","")+";",r,n,m-2,d),d);break;case 59:L+=";";default:if(Qa(M=oS(L,t,n,h,g,s,u,k,C=[],I=[],m,o),o),E===123)if(g===0)Lu(L,t,M,M,C,o,m,u,I);else switch(S===99&&pt(L,3)===110?100:S){case 100:case 108:case 109:case 115:Lu(e,M,M,r&&Qa(oS(e,M,M,0,0,s,u,k,s,C=[],m,I),I),s,I,m,u,r?C:I);break;default:Lu(L,M,M,M,[""],I,0,u,I)}}h=g=b=0,x=T=1,k=L="",m=l;break;case 58:m=1+yr(L),b=R;default:if(x<1){if(E==123)--x;else if(E==125&&x++==0&&M8()==125)continue}switch(L+=Wy(E),E*x){case 38:T=g>0?1:(L+="\f",-1);break;case 44:u[h++]=(yr(L)-1)*T,T=1;break;case 64:go()===45&&(L+=lp(Qn())),S=go(),g=m=yr(k=L+=F8(Mu())),E++;break;case 45:R===45&&yr(L)==2&&(x=0)}}return o}function oS(e,t,n,r,s,o,l,u,d,h,g,m){for(var S=s-1,b=s===0?o:[""],R=Pk(b),x=0,_=0,T=0;x<r;++x)for(var E=0,k=zi(e,S+1,S=Ok(_=l[x])),C=e;E<R;++E)(C=Ak(_>0?b[E]+" "+k:we(k,/&\f/g,b[E])))&&(d[T++]=C);return xf(e,t,n,s===0?bf:u,d,h,g,m)}function z8(e,t,n,r){return xf(e,t,n,kk,Wy(N8()),zi(e,2,-2),0,r)}function iS(e,t,n,r,s){return xf(e,t,n,Hy,zi(e,0,r),zi(e,r+1,-1),r,s)}function Nk(e,t,n){switch(P8(e,t)){case 5103:return Pe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pe+e+e;case 4789:return ll+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Pe+e+ll+e+$e+e+e;case 5936:switch(pt(e,t+11)){case 114:return Pe+e+$e+we(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Pe+e+$e+we(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Pe+e+$e+we(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Pe+e+$e+e+e;case 6165:return Pe+e+$e+"flex-"+e+e;case 5187:return Pe+e+we(e,/(\w+).+(:[^]+)/,Pe+"box-$1$2"+$e+"flex-$1$2")+e;case 5443:return Pe+e+$e+"flex-item-"+we(e,/flex-|-self/g,"")+(jr(e,/flex-|baseline/)?"":$e+"grid-row-"+we(e,/flex-|-self/g,""))+e;case 4675:return Pe+e+$e+"flex-line-pack"+we(e,/align-content|flex-|-self/g,"")+e;case 5548:return Pe+e+$e+we(e,"shrink","negative")+e;case 5292:return Pe+e+$e+we(e,"basis","preferred-size")+e;case 6060:return Pe+"box-"+we(e,"-grow","")+Pe+e+$e+we(e,"grow","positive")+e;case 4554:return Pe+we(e,/([^-])(transform)/g,"$1"+Pe+"$2")+e;case 6187:return we(we(we(e,/(zoom-|grab)/,Pe+"$1"),/(image-set)/,Pe+"$1"),e,"")+e;case 5495:case 3959:return we(e,/(image-set\([^]*)/,Pe+"$1$`$1");case 4968:return we(we(e,/(.+:)(flex-)?(.*)/,Pe+"box-pack:$3"+$e+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pe+e+e;case 4200:if(!jr(e,/flex-|baseline/))return $e+"grid-column-align"+zi(e,t)+e;break;case 2592:case 3360:return $e+we(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,s){return t=s,jr(r.props,/grid-\w+-end/)})?~Nu(e+(n=n[t].value),"span",0)?e:$e+we(e,"-start","")+e+$e+"grid-row-span:"+(~Nu(n,"span",0)?jr(n,/\d+/):+jr(n,/\d+/)-+jr(e,/\d+/))+";":$e+we(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return jr(r.props,/grid-\w+-start/)})?e:$e+we(we(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return we(e,/(.+)-inline(.+)/,Pe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yr(e)-1-t>6)switch(pt(e,t+1)){case 109:if(pt(e,t+4)!==45)break;case 102:return we(e,/(.+:)(.+)-([^]+)/,"$1"+Pe+"$2-$3$1"+ll+(pt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Nu(e,"stretch",0)?Nk(we(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return we(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,s,o,l,u,d,h){return $e+s+":"+o+h+(l?$e+s+"-span:"+(u?d:+d-+o)+h:"")+e});case 4949:if(pt(e,t+6)===121)return we(e,":",":"+Pe)+e;break;case 6444:switch(pt(e,pt(e,14)===45?18:11)){case 120:return we(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Pe+(pt(e,14)===45?"inline-":"")+"box$3$1"+Pe+"$2$3$1"+$e+"$2box$3")+e;case 100:return we(e,":",":"+$e)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return we(e,"scroll-","scroll-snap-")+e}return e}function Sd(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function H8(e,t,n,r){switch(e.type){case A8:if(e.children.length)break;case O8:case Hy:return e.return=e.return||e.value;case kk:return"";case _k:return e.return=e.value+"{"+Sd(e.children,r)+"}";case bf:if(!yr(e.value=e.props.join(",")))return""}return yr(n=Sd(e.children,r))?e.return=e.value+"{"+n+"}":""}function W8(e){var t=Pk(e);return function(n,r,s,o){for(var l="",u=0;u<t;u++)l+=e[u](n,r,s,o)||"";return l}}function V8(e){return function(t){t.root||(t=t.return)&&e(t)}}function G8(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Hy:e.return=Nk(e.value,e.length,n);return;case _k:return Sd([cs(e,{value:we(e.value,"@","@"+Pe)})],r);case bf:if(e.length)return I8(n=e.props,function(s){switch(jr(s,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Xo(cs(e,{props:[we(s,/:(read-\w+)/,":"+ll+"$1")]})),Xo(cs(e,{props:[s]})),Qg(e,{props:sS(n,r)});break;case"::placeholder":Xo(cs(e,{props:[we(s,/:(plac\w+)/,":"+Pe+"input-$1")]})),Xo(cs(e,{props:[we(s,/:(plac\w+)/,":"+ll+"$1")]})),Xo(cs(e,{props:[we(s,/:(plac\w+)/,$e+"input-$1")]})),Xo(cs(e,{props:[s]})),Qg(e,{props:sS(n,r)});break}return""})}}var q8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},on={},Wi=typeof process<"u"&&on!==void 0&&(on.REACT_APP_SC_ATTR||on.SC_ATTR)||"data-styled",Mk="active",Lk="data-styled-version",Ef="6.1.19",Vy=`/*!sc*/
`,xd=typeof window<"u"&&typeof document<"u",K8=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&on!==void 0&&on.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&on.REACT_APP_SC_DISABLE_SPEEDY!==""?on.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&on.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&on!==void 0&&on.SC_DISABLE_SPEEDY!==void 0&&on.SC_DISABLE_SPEEDY!==""&&on.SC_DISABLE_SPEEDY!=="false"&&on.SC_DISABLE_SPEEDY),Tf=Object.freeze([]),Vi=Object.freeze({});function Q8(e,t,n){return n===void 0&&(n=Vi),e.theme!==n.theme&&e.theme||t||n.theme}var Dk=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),J8=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,X8=/(^-|-$)/g;function aS(e){return e.replace(J8,"-").replace(X8,"")}var Y8=/(a)(d)/gi,cu=52,lS=function(e){return String.fromCharCode(e+(e>25?39:97))};function Yg(e){var t,n="";for(t=Math.abs(e);t>cu;t=t/cu|0)n=lS(t%cu)+n;return(lS(t%cu)+n).replace(Y8,"$1-$2")}var cp,jk=5381,fi=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Uk=function(e){return fi(jk,e)};function Z8(e){return Yg(Uk(e)>>>0)}function e6(e){return e.displayName||e.name||"Component"}function up(e){return typeof e=="string"&&!0}var $k=typeof Symbol=="function"&&Symbol.for,Fk=$k?Symbol.for("react.memo"):60115,t6=$k?Symbol.for("react.forward_ref"):60112,n6={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r6={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Bk={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s6=((cp={})[t6]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cp[Fk]=Bk,cp);function cS(e){return("type"in(t=e)&&t.type.$$typeof)===Fk?Bk:"$$typeof"in e?s6[e.$$typeof]:n6;var t}var o6=Object.defineProperty,i6=Object.getOwnPropertyNames,uS=Object.getOwnPropertySymbols,a6=Object.getOwnPropertyDescriptor,l6=Object.getPrototypeOf,dS=Object.prototype;function zk(e,t,n){if(typeof t!="string"){if(dS){var r=l6(t);r&&r!==dS&&zk(e,r,n)}var s=i6(t);uS&&(s=s.concat(uS(t)));for(var o=cS(e),l=cS(t),u=0;u<s.length;++u){var d=s[u];if(!(d in r6||n&&n[d]||l&&d in l||o&&d in o)){var h=a6(t,d);try{o6(e,d,h)}catch{}}}}return e}function Gi(e){return typeof e=="function"}function Gy(e){return typeof e=="object"&&"styledComponentId"in e}function so(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function fS(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function Ul(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Zg(e,t,n){if(n===void 0&&(n=!1),!n&&!Ul(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Zg(e[r],t[r]);else if(Ul(t))for(var r in t)e[r]=Zg(e[r],t[r]);return e}function qy(e,t){Object.defineProperty(e,"toString",{value:t})}function pc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var c6=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,s=r.length,o=s;t>=o;)if((o<<=1)<0)throw pc(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var l=s;l<o;l++)this.groupSizes[l]=0}for(var u=this.indexOfGroup(t+1),d=(l=0,n.length);l<d;l++)this.tag.insertRule(u,n[l])&&(this.groupSizes[t]++,u++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),s=r+n;this.groupSizes[t]=0;for(var o=r;o<s;o++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],s=this.indexOfGroup(t),o=s+r,l=s;l<o;l++)n+="".concat(this.tag.getRule(l)).concat(Vy);return n},e}(),Du=new Map,Cd=new Map,ju=1,uu=function(e){if(Du.has(e))return Du.get(e);for(;Cd.has(ju);)ju++;var t=ju++;return Du.set(e,t),Cd.set(t,e),t},u6=function(e,t){ju=t+1,Du.set(e,t),Cd.set(t,e)},d6="style[".concat(Wi,"][").concat(Lk,'="').concat(Ef,'"]'),f6=new RegExp("^".concat(Wi,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),h6=function(e,t,n){for(var r,s=n.split(","),o=0,l=s.length;o<l;o++)(r=s[o])&&e.registerName(t,r)},p6=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(Vy),s=[],o=0,l=r.length;o<l;o++){var u=r[o].trim();if(u){var d=u.match(f6);if(d){var h=0|parseInt(d[1],10),g=d[2];h!==0&&(u6(g,h),h6(e,g,d[3]),e.getTag().insertRules(h,s)),s.length=0}else s.push(u)}}},hS=function(e){for(var t=document.querySelectorAll(d6),n=0,r=t.length;n<r;n++){var s=t[n];s&&s.getAttribute(Wi)!==Mk&&(p6(e,s),s.parentNode&&s.parentNode.removeChild(s))}};function g6(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Hk=function(e){var t=document.head,n=e||t,r=document.createElement("style"),s=function(u){var d=Array.from(u.querySelectorAll("style[".concat(Wi,"]")));return d[d.length-1]}(n),o=s!==void 0?s.nextSibling:null;r.setAttribute(Wi,Mk),r.setAttribute(Lk,Ef);var l=g6();return l&&r.setAttribute("nonce",l),n.insertBefore(r,o),r},m6=function(){function e(t){this.element=Hk(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,s=0,o=r.length;s<o;s++){var l=r[s];if(l.ownerNode===n)return l}throw pc(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),y6=function(){function e(t){this.element=Hk(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),v6=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),pS=xd,w6={isServer:!xd,useCSSOMInjection:!K8},Wk=function(){function e(t,n,r){t===void 0&&(t=Vi),n===void 0&&(n={});var s=this;this.options=Jt(Jt({},w6),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&xd&&pS&&(pS=!1,hS(this)),qy(this,function(){return function(o){for(var l=o.getTag(),u=l.length,d="",h=function(m){var S=function(T){return Cd.get(T)}(m);if(S===void 0)return"continue";var b=o.names.get(S),R=l.getGroup(m);if(b===void 0||!b.size||R.length===0)return"continue";var x="".concat(Wi,".g").concat(m,'[id="').concat(S,'"]'),_="";b!==void 0&&b.forEach(function(T){T.length>0&&(_+="".concat(T,","))}),d+="".concat(R).concat(x,'{content:"').concat(_,'"}').concat(Vy)},g=0;g<u;g++)h(g);return d}(s)})}return e.registerId=function(t){return uu(t)},e.prototype.rehydrate=function(){!this.server&&xd&&hS(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Jt(Jt({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,s=n.target;return n.isServer?new v6(s):r?new m6(s):new y6(s)}(this.options),new c6(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(uu(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(uu(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(uu(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),b6=/&/g,S6=/^\s*\/\/.*$/gm;function Vk(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Vk(n.children,t)),n})}function x6(e){var t,n,r,s=Vi,o=s.options,l=o===void 0?Vi:o,u=s.plugins,d=u===void 0?Tf:u,h=function(S,b,R){return R.startsWith(n)&&R.endsWith(n)&&R.replaceAll(n,"").length>0?".".concat(t):S},g=d.slice();g.push(function(S){S.type===bf&&S.value.includes("&")&&(S.props[0]=S.props[0].replace(b6,n).replace(r,h))}),l.prefix&&g.push(G8),g.push(H8);var m=function(S,b,R,x){b===void 0&&(b=""),R===void 0&&(R=""),x===void 0&&(x="&"),t=x,n=b,r=new RegExp("\\".concat(n,"\\b"),"g");var _=S.replace(S6,""),T=B8(R||b?"".concat(R," ").concat(b," { ").concat(_," }"):_);l.namespace&&(T=Vk(T,l.namespace));var E=[];return Sd(T,W8(g.concat(V8(function(k){return E.push(k)})))),E};return m.hash=d.length?d.reduce(function(S,b){return b.name||pc(15),fi(S,b.name)},jk).toString():"",m}var C6=new Wk,em=x6(),Gk=X.createContext({shouldForwardProp:void 0,styleSheet:C6,stylis:em});Gk.Consumer;X.createContext(void 0);function gS(){return w.useContext(Gk)}var E6=function(){function e(t,n){var r=this;this.inject=function(s,o){o===void 0&&(o=em);var l=r.name+o.hash;s.hasNameForId(r.id,l)||s.insertRules(r.id,l,o(r.rules,l,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,qy(this,function(){throw pc(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=em),this.name+t.hash},e}(),T6=function(e){return e>="A"&&e<="Z"};function mS(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;T6(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var qk=function(e){return e==null||e===!1||e===""},Kk=function(e){var t,n,r=[];for(var s in e){var o=e[s];e.hasOwnProperty(s)&&!qk(o)&&(Array.isArray(o)&&o.isCss||Gi(o)?r.push("".concat(mS(s),":"),o,";"):Ul(o)?r.push.apply(r,bd(bd(["".concat(s," {")],Kk(o),!1),["}"],!1)):r.push("".concat(mS(s),": ").concat((t=s,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in q8||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function mo(e,t,n,r){if(qk(e))return[];if(Gy(e))return[".".concat(e.styledComponentId)];if(Gi(e)){if(!Gi(o=e)||o.prototype&&o.prototype.isReactComponent||!t)return[e];var s=e(t);return mo(s,t,n,r)}var o;return e instanceof E6?n?(e.inject(n,r),[e.getName(r)]):[e]:Ul(e)?Kk(e):Array.isArray(e)?Array.prototype.concat.apply(Tf,e.map(function(l){return mo(l,t,n,r)})):[e.toString()]}function R6(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Gi(n)&&!Gy(n))return!1}return!0}var k6=Uk(Ef),_6=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&R6(t),this.componentId=n,this.baseHash=fi(k6,n),this.baseStyle=r,Wk.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))s=so(s,this.staticRulesId);else{var o=fS(mo(this.rules,t,n,r)),l=Yg(fi(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,l)){var u=r(o,".".concat(l),void 0,this.componentId);n.insertRules(this.componentId,l,u)}s=so(s,l),this.staticRulesId=l}else{for(var d=fi(this.baseHash,r.hash),h="",g=0;g<this.rules.length;g++){var m=this.rules[g];if(typeof m=="string")h+=m;else if(m){var S=fS(mo(m,t,n,r));d=fi(d,S+g),h+=S}}if(h){var b=Yg(d>>>0);n.hasNameForId(this.componentId,b)||n.insertRules(this.componentId,b,r(h,".".concat(b),void 0,this.componentId)),s=so(s,b)}}return s},e}(),Qk=X.createContext(void 0);Qk.Consumer;var dp={};function O6(e,t,n){var r=Gy(e),s=e,o=!up(e),l=t.attrs,u=l===void 0?Tf:l,d=t.componentId,h=d===void 0?function(C,I){var M=typeof C!="string"?"sc":aS(C);dp[M]=(dp[M]||0)+1;var L="".concat(M,"-").concat(Z8(Ef+M+dp[M]));return I?"".concat(I,"-").concat(L):L}(t.displayName,t.parentComponentId):d,g=t.displayName,m=g===void 0?function(C){return up(C)?"styled.".concat(C):"Styled(".concat(e6(C),")")}(e):g,S=t.displayName&&t.componentId?"".concat(aS(t.displayName),"-").concat(t.componentId):t.componentId||h,b=r&&s.attrs?s.attrs.concat(u).filter(Boolean):u,R=t.shouldForwardProp;if(r&&s.shouldForwardProp){var x=s.shouldForwardProp;if(t.shouldForwardProp){var _=t.shouldForwardProp;R=function(C,I){return x(C,I)&&_(C,I)}}else R=x}var T=new _6(n,S,r?s.componentStyle:void 0);function E(C,I){return function(M,L,W){var K=M.attrs,H=M.componentStyle,y=M.defaultProps,V=M.foldedComponentIds,Z=M.styledComponentId,N=M.target,oe=X.useContext(Qk),z=gS(),$=M.shouldForwardProp||z.shouldForwardProp,D=Q8(L,oe,y)||Vi,B=function(Oe,ze,be){for(var kt,it=Jt(Jt({},ze),{className:void 0,theme:be}),Bt=0;Bt<Oe.length;Bt+=1){var _t=Gi(kt=Oe[Bt])?kt(it):kt;for(var Xe in _t)it[Xe]=Xe==="className"?so(it[Xe],_t[Xe]):Xe==="style"?Jt(Jt({},it[Xe]),_t[Xe]):_t[Xe]}return ze.className&&(it.className=so(it.className,ze.className)),it}(K,L,D),ee=B.as||N,ae={};for(var ne in B)B[ne]===void 0||ne[0]==="$"||ne==="as"||ne==="theme"&&B.theme===D||(ne==="forwardedAs"?ae.as=B.forwardedAs:$&&!$(ne,ee)||(ae[ne]=B[ne]));var fe=function(Oe,ze){var be=gS(),kt=Oe.generateAndInjectStyles(ze,be.styleSheet,be.stylis);return kt}(H,B),de=so(V,Z);return fe&&(de+=" "+fe),B.className&&(de+=" "+B.className),ae[up(ee)&&!Dk.has(ee)?"class":"className"]=de,W&&(ae.ref=W),w.createElement(ee,ae)}(k,C,I)}E.displayName=m;var k=X.forwardRef(E);return k.attrs=b,k.componentStyle=T,k.displayName=m,k.shouldForwardProp=R,k.foldedComponentIds=r?so(s.foldedComponentIds,s.styledComponentId):"",k.styledComponentId=S,k.target=r?s.target:e,Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(C){this._foldedDefaultProps=r?function(I){for(var M=[],L=1;L<arguments.length;L++)M[L-1]=arguments[L];for(var W=0,K=M;W<K.length;W++)Zg(I,K[W],!0);return I}({},s.defaultProps,C):C}}),qy(k,function(){return".".concat(k.styledComponentId)}),o&&zk(k,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),k}function yS(e,t){for(var n=[e[0]],r=0,s=t.length;r<s;r+=1)n.push(t[r],e[r+1]);return n}var vS=function(e){return Object.assign(e,{isCss:!0})};function A6(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Gi(e)||Ul(e))return vS(mo(yS(Tf,bd([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?mo(r):vS(mo(yS(r,t)))}function tm(e,t,n){if(n===void 0&&(n=Vi),!t)throw pc(1,t);var r=function(s){for(var o=[],l=1;l<arguments.length;l++)o[l-1]=arguments[l];return e(t,n,A6.apply(void 0,bd([s],o,!1)))};return r.attrs=function(s){return tm(e,t,Jt(Jt({},n),{attrs:Array.prototype.concat(n.attrs,s).filter(Boolean)}))},r.withConfig=function(s){return tm(e,t,Jt(Jt({},n),s))},r}var Jk=function(e){return tm(O6,e)},Xk=Jk;Dk.forEach(function(e){Xk[e]=Jk(e)});const Yk=()=>A.jsx(P6,{children:A.jsxs("div",{className:"",children:[A.jsx("div",{className:""}),A.jsx("div",{className:""}),A.jsx("div",{className:""}),A.jsx("div",{className:""}),A.jsx("div",{className:""}),A.jsx("div",{className:""})]})}),P6=Xk.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(2px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;

  . {
    --skin-color: #E4C560;
    --tap-speed: 0.6s;
    --tap-stagger: 0.1s;
    position: relative;
    width: 80px;
    height: 60px;
    margin: 0 auto;
  }

  .:before {
    content: '';
    display: block;
    width: 180%;
    height: 75%;
    position: absolute;
    top: 70%;
    right: 20%;
    background-color: black;
    border-radius: 40px 10px;
    filter: blur(10px);
    opacity: 0.3;
  }

  . {
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    background-color: var(--skin-color);
    border-radius: 10px 40px;
  }

  . {
    position: absolute;
    width: 120%;
    height: 38px;
    background-color: var(--skin-color);
    bottom: -18%;
    right: 1%;
    transform-origin: calc(100% - 20px) 20px;
    transform: rotate(-20deg);
    border-radius: 30px 20px 20px 10px;
    border-bottom: 2px solid rgba(0, 0, 0, 0.1);
    border-left: 2px solid rgba(0, 0, 0, 0.1);
  }

  .:after {
    width: 20%;
    height: 60%;
    content: '';
    background-color: rgba(255, 255, 255, 0.3);
    position: absolute;
    bottom: -8%;
    left: 5px;
    border-radius: 60% 10% 10% 30%;
    border-right: 2px solid rgba(0, 0, 0, 0.05);
  }

  . {
    position: absolute;
    width: 80%;
    height: 35px;
    background-color: var(--skin-color);
    bottom: 32%;
    right: 64%;
    transform-origin: 100% 20px;
    animation-duration: calc(var(--tap-speed) * 2);
    animation-timing-function: ease-in-out;
    animation-iteration-count: infinite;
    transform: rotate(10deg);
  }

  .:before {
    content: '';
    position: absolute;
    width: 140%;
    height: 30px;
    background-color: var(--skin-color);
    bottom: 8%;
    right: 65%;
    transform-origin: calc(100% - 20px) 20px;
    transform: rotate(-60deg);
    border-radius: 20px;
  }

  .:nth-child(1) {
    animation-delay: 0;
    filter: brightness(70%);
    animation-name: tap-upper-1;
  }

  .:nth-child(2) {
    animation-delay: var(--tap-stagger);
    filter: brightness(80%);
    animation-name: tap-upper-2;
  }

  .:nth-child(3) {
    animation-delay: calc(var(--tap-stagger) * 2);
    filter: brightness(90%);
    animation-name: tap-upper-3;
  }

  .:nth-child(4) {
    animation-delay: calc(var(--tap-stagger) * 3);
    filter: brightness(100%);
    animation-name: tap-upper-4;
  }

  @keyframes tap-upper-1 {
    0%, 50%, 100% {
      transform: rotate(10deg) scale(0.4);
    }

    40% {
      transform: rotate(50deg) scale(0.4);
    }
  }

  @keyframes tap-upper-2 {
    0%, 50%, 100% {
      transform: rotate(10deg) scale(0.6);
    }

    40% {
      transform: rotate(50deg) scale(0.6);
    }
  }

  @keyframes tap-upper-3 {
    0%, 50%, 100% {
      transform: rotate(10deg) scale(0.8);
    }

    40% {
      transform: rotate(50deg) scale(0.8);
    }
  }

  @keyframes tap-upper-4 {
    0%, 50%, 100% {
      transform: rotate(10deg) scale(1);
    }

    40% {
      transform: rotate(50deg) scale(1);
    }
  }`,I6=({children:e})=>{const{isAuthenticated:t,isLoading:n}=cf(),r=zs();return n?A.jsx("div",{className:"flex items-center justify-center min-h-screen",children:A.jsx(Yk,{})}):t?A.jsx(A.Fragment,{children:e}):A.jsx(YD,{to:"/auth",state:{from:r},replace:!0})},Pn=e=>new Promise(t=>setTimeout(()=>{e.then(n=>t({default:n.default}))},1e3)),N6=X.lazy(()=>Pn(mn(()=>import("./LandingPage-BzqrnJWs.js"),__vite__mapDeps([0,1,2,3,4,5])))),M6=X.lazy(()=>Pn(mn(()=>import("./AuthPage-CORapa13.js"),__vite__mapDeps([6,7,1,8,9,3,10,11,12])))),L6=X.lazy(()=>mn(()=>import("./OAuthCallback-B5m0O_Qc.js"),[])),D6=X.lazy(()=>Pn(mn(()=>import("./Dashboard-CR233Sex.js"),__vite__mapDeps([13,14,15,1,2,4,3,16])))),j6=X.lazy(()=>Pn(mn(()=>import("./ChatPage-BuJ6dXCr.js"),__vite__mapDeps([17,14,18,19,20])))),U6=X.lazy(()=>Pn(mn(()=>import("./VideoPage-C88Evpd7.js"),__vite__mapDeps([21,22])))),$6=X.lazy(()=>Pn(mn(()=>import("./CollaboratePage-D4ETnQHG.js"),__vite__mapDeps([23,1,2,24,9,25,5,26,27,28,22,29,11,30])))),F6=X.lazy(()=>Pn(mn(()=>import("./CollabPage-Bi-SUkOQ.js"),__vite__mapDeps([31,1,2,29,26,30])))),B6=X.lazy(()=>Pn(mn(()=>import("./NotesPage-8Ytx03Cg.js"),__vite__mapDeps([32,15,1,2,24,9,25,5,26,33,8,28,18,20,30])))),z6=X.lazy(()=>Pn(mn(()=>import("./TasksPage-CWc3bCun.js"),__vite__mapDeps([34,2,18,16,30])))),H6=X.lazy(()=>Pn(mn(()=>import("./ContactsPage-Cztr6VJF.js"),__vite__mapDeps([35,28,7,33,14,2,1,10,19,30,18])))),W6=X.lazy(()=>Pn(mn(()=>import("./SettingsPage-CWwWVN5j.js"),__vite__mapDeps([36,1,7,27,8,9,25,5,28,12])))),V6=X.lazy(()=>Pn(mn(()=>import("./NotFound-g3G-tIx1.js"),[]))),G6=new iD,cl=()=>A.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-transparent",children:A.jsx(Yk,{})}),q6=async()=>new Promise(e=>{setTimeout(()=>{e({message:"Demo data fetched successfully!"})},1e3)}),Zk=w.createContext(null),dr=({children:e})=>{const[t,n]=w.useState(!0),[r,s]=w.useContext(Zk);return w.useEffect(()=>{r?(console.log("Data already exists in context:",r),n(!1)):(console.log("No data found in context. Fetching data..."),w.startTransition(()=>{(async()=>{try{const l=await q6();l?console.log("Fetched data:",l):console.warn("Fetched data is null or undefined."),s(l),n(!1)}catch(l){console.error("Error fetching data:",l)}})()}))},[r,s]),t?A.jsx(cl,{}):e},fr=({children:e})=>A.jsx(w.Suspense,{fallback:A.jsx(cl,{}),children:e}),K6=()=>A.jsx(Zk.Provider,{value:w.useState(null),children:A.jsx(lD,{client:G6,children:A.jsx(nE,{children:A.jsx(XU,{children:A.jsx(n$,{children:A.jsx(KF,{children:A.jsx(cB,{children:A.jsxs(uB,{children:[A.jsx(l2,{}),A.jsx(F2,{}),A.jsx(uj,{children:A.jsxs(tj,{children:[A.jsx(It,{path:"/",element:A.jsx(w.Suspense,{fallback:A.jsx(cl,{}),children:A.jsx(N6,{})})}),A.jsx(It,{path:"/auth",element:A.jsx(w.Suspense,{fallback:A.jsx(cl,{}),children:A.jsx(M6,{})})}),A.jsx(It,{path:"/auth/callback",element:A.jsx(w.Suspense,{fallback:A.jsx(cl,{}),children:A.jsx(L6,{})})}),A.jsxs(It,{path:"/*",element:A.jsx(I6,{children:A.jsx(_8,{})}),children:[A.jsx(It,{path:"dashboard",element:A.jsx(fr,{children:A.jsx(dr,{children:A.jsx(D6,{})})})}),A.jsx(It,{path:"chat",element:A.jsx(fr,{children:A.jsx(dr,{children:A.jsx(j6,{})})})}),A.jsx(It,{path:"video",element:A.jsx(fr,{children:A.jsx(dr,{children:A.jsx(U6,{})})})}),A.jsx(It,{path:"collaborate",element:A.jsx(fr,{children:A.jsx(dr,{children:A.jsx($6,{})})})}),A.jsx(It,{path:"collab",element:A.jsx(fr,{children:A.jsx(dr,{children:A.jsx(F6,{})})})}),A.jsx(It,{path:"notes",element:A.jsx(fr,{children:A.jsx(dr,{children:A.jsx(B6,{})})})}),A.jsx(It,{path:"tasks",element:A.jsx(fr,{children:A.jsx(dr,{children:A.jsx(z6,{})})})}),A.jsx(It,{path:"contacts",element:A.jsx(fr,{children:A.jsx(dr,{children:A.jsx(H6,{})})})}),A.jsx(It,{path:"settings",element:A.jsx(fr,{children:A.jsx(dr,{children:A.jsx(W6,{})})})}),A.jsx(It,{path:"*",element:A.jsx(fr,{children:A.jsx(dr,{children:A.jsx(V6,{})})})})]})]})})]})})})})})})})});B1(document.getElementById("root")).render(A.jsx(K6,{}));export{u4 as $,Ek as A,yf as B,hN as C,rm as D,LA as E,Ji as F,Xn as G,kn as H,vR as I,Kl as J,$C as K,hj as L,wM as M,c4 as N,Ym as O,SM as P,v5 as Q,l4 as R,EM as S,H1 as T,TM as U,RM as V,IB as W,gC as X,PR as Y,xR as Z,Bd as _,yM as a,d4 as a0,Tu as a1,Yk as a2,Wd as a3,VN as a4,ql as a5,CM as a6,jy as a7,M5 as a8,L5 as a9,JR as aa,D5 as ab,XR as ac,YR as ad,bz as ae,QR as af,zs as ag,X6 as b,yn as c,cf as d,z1 as e,Tk as f,Rk as g,mz as h,yz as i,A as j,t$ as k,vz as l,xM as m,Se as n,Zm as o,Ql as p,SN as q,w as r,We as s,$a as t,yy as u,ot as v,Ut as w,t4 as x,ye as y,SR as z};
