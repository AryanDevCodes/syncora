import{c as P,r as c,e as G,j as e,B as r,m as I,I as w,S as A,X as J,z as K}from"./index-C6EvfBZN.js";import{n}from"./notesApi-BNGt77aQ.js";import{C as W,a as Z}from"./card-BvVvot2N.js";import{B as _}from"./badge-C8Hju--i.js";import{S as L,D as ee,a as te,b as se,c as ae}from"./dropdown-menu-C7mzNdDR.js";import{S as re,T as F}from"./textarea-s3gf8ox8.js";import{T as ie,a as ce,b as y}from"./tabs-yNAVapVy.js";import{D as le,a as ne,b as oe,c as de,d as he,e as me}from"./dialog-nZlOt7oA.js";import{P as b}from"./plus-BhQw_i-H.js";import{S as xe}from"./index-BqL0dr1B.js";import{E as ue}from"./ellipsis-vertical-BcxsOoxB.js";import{T as ge}from"./trash-2-CayVD4YA.js";import"./index-CD5o2bZR.js";import"./check-VyTaZcL9.js";import"./circle-mAwATgwU.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=P("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=P("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),Le=()=>{const[B,o]=c.useState([]),[s,d]=c.useState(null),[u,V]=c.useState(""),[g,$]=c.useState("all"),[q,C]=c.useState(!1),[p,f]=c.useState(!1),[H,h]=c.useState(!1),[S,j]=c.useState(""),[E,N]=c.useState(""),[m,v]=c.useState({title:"",content:"",tags:[],starred:!1,archived:!1}),{toast:i}=G();c.useEffect(()=>{k()},[g]);const k=async()=>{try{C(!0);let t;switch(g){case"starred":t=await n.getStarredNotes();break;case"archived":t=await n.getArchivedNotes();break;default:t=await n.getActiveNotes()}o(t)}catch(t){console.error("Error fetching notes:",t),i({title:"Error",description:"Failed to fetch notes",variant:"destructive"})}finally{C(!1)}},Q=async()=>{if(!m.title.trim()){i({title:"Validation Error",description:"Note title is required",variant:"destructive"});return}try{const t=await n.createNote(m);o(a=>[t,...a]),d(t),h(!1),v({title:"",content:"",tags:[],starred:!1,archived:!1}),i({title:"Success",description:"Note created successfully"})}catch(t){console.error("Error creating note:",t),i({title:"Error",description:"Failed to create note",variant:"destructive"})}},O=async()=>{if(!s)return;const t={title:E,content:S};try{const a=await n.updateNote(s.id,t);o(l=>l.map(x=>x.id===a.id?a:x)),d(a),f(!1),i({title:"Success",description:"Note updated successfully"})}catch(a){console.error("Error updating note:",a),i({title:"Error",description:"Failed to update note",variant:"destructive"})}},R=async t=>{try{await n.deleteNote(t),o(a=>a.filter(l=>l.id!==t)),(s==null?void 0:s.id)===t&&d(null),i({title:"Success",description:"Note deleted successfully"})}catch(a){console.error("Error deleting note:",a),i({title:"Error",description:"Failed to delete note",variant:"destructive"})}},D=async(t,a)=>{a.stopPropagation();try{const l=await n.toggleStar(t);o(x=>x.map(z=>z.id===t?l:z)),(s==null?void 0:s.id)===t&&d(l)}catch(l){console.error("Error toggling star:",l),i({title:"Error",description:"Failed to toggle star",variant:"destructive"})}},U=async t=>{try{const a=await n.toggleArchive(t);o(l=>l.filter(x=>x.id!==t)),(s==null?void 0:s.id)===t&&d(null),i({title:"Success",description:a.archived?"Note archived":"Note unarchived"}),k()}catch(a){console.error("Error toggling archive:",a),i({title:"Error",description:"Failed to toggle archive",variant:"destructive"})}},X=()=>{s&&(N(s.title),j(s.content),f(!0))},Y=()=>{f(!1),N(""),j("")},T=B.filter(t=>t.title.toLowerCase().includes(u.toLowerCase())||t.content.toLowerCase().includes(u.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"h-[calc(100vh-4rem)] flex animate-fade-in",children:[e.jsxs("div",{className:"w-96 border-r border-border bg-card/30 flex flex-col",children:[e.jsxs("div",{className:"p-4 space-y-4 border-b border-border",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Notes"}),e.jsx(r,{size:"icon",className:"gradient-primary",onClick:()=>h(!0),children:e.jsx(b,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(w,{placeholder:"Search notes...",value:u,onChange:t=>V(t.target.value),className:"pl-10"})]}),e.jsx(ie,{value:g,onValueChange:$,className:"w-full",children:e.jsxs(ce,{className:"grid w-full grid-cols-3",children:[e.jsx(y,{value:"all",children:"All"}),e.jsx(y,{value:"starred",children:"Starred"}),e.jsx(y,{value:"archived",children:"Archived"})]})})]}),e.jsx(L,{className:"flex-1 px-3 py-2",children:e.jsx("div",{className:"space-y-2 pb-4",children:q?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):T.length>0?T.map(t=>e.jsx(W,{onClick:()=>d(t),className:`cursor-pointer hover:shadow-medium transition-smooth hover-lift ${(s==null?void 0:s.id)===t.id?"ring-2 ring-primary shadow-soft":""}`,children:e.jsxs(Z,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold flex-1",children:t.title}),e.jsx(r,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:a=>D(t.id,a),children:e.jsx(M,{className:`w-4 h-4 ${t.starred?"fill-accent text-accent":"text-muted-foreground"}`})})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:t.content||"No content"}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:t.tags.map(a=>e.jsx(_,{variant:"secondary",className:"text-xs",children:a},a))}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:new Date(t.updatedAt).toLocaleDateString()})]})},t.id)):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary/20 to-accent/20 rounded-full flex items-center justify-center",children:e.jsx(A,{className:"w-10 h-10 text-primary"})}),e.jsxs("div",{className:"text-center space-y-1",children:[e.jsx("p",{className:"font-medium",children:"No notes yet"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Start creating notes to see them here"})]}),e.jsxs(r,{variant:"outline",size:"sm",className:"glass-card hover-scale",onClick:()=>h(!0),children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Create Note"]})]})})})]}),s?e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"h-16 border-b border-border px-6 flex items-center justify-between bg-card/50 backdrop-blur-sm shadow-soft",children:[p?e.jsx(w,{value:E,onChange:t=>N(t.target.value),className:"text-lg font-semibold border-none bg-transparent focus-visible:ring-0 max-w-xl"}):e.jsx("h2",{className:"text-lg font-semibold",children:s.title}),e.jsx("div",{className:"flex items-center gap-2",children:p?e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"ghost",size:"icon",onClick:O,children:e.jsx(xe,{className:"w-5 h-5"})}),e.jsx(r,{variant:"ghost",size:"icon",onClick:Y,children:e.jsx(J,{className:"w-5 h-5"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"ghost",size:"icon",onClick:X,children:e.jsx(re,{className:"w-5 h-5"})}),e.jsx(r,{variant:"ghost",size:"icon",onClick:t=>D(s.id,t),children:e.jsx(M,{className:`w-5 h-5 ${s.starred?"fill-accent text-accent":""}`})}),e.jsx(r,{variant:"ghost",size:"icon",onClick:()=>U(s.id),children:e.jsx(pe,{className:"w-5 h-5"})}),e.jsx(K,{orientation:"vertical",className:"h-6"}),e.jsxs(ee,{children:[e.jsx(te,{asChild:!0,children:e.jsx(r,{variant:"ghost",size:"icon",children:e.jsx(ue,{className:"w-5 h-5"})})}),e.jsx(se,{align:"end",children:e.jsxs(ae,{onClick:()=>R(s.id),className:"text-destructive",children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),"Delete"]})})]})]})})]}),e.jsx(L,{className:"flex-1 p-8",children:p?e.jsx(F,{value:S,onChange:t=>j(t.target.value),placeholder:"Start writing...",className:"w-full min-h-[600px] bg-transparent border-none outline-none resize-none text-base leading-relaxed"}):e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("p",{className:"whitespace-pre-wrap",children:s.content||"No content"})})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-background via-background to-muted/10",children:e.jsxs("div",{className:"text-center animate-scale-in space-y-6",children:[e.jsx("div",{className:"w-32 h-32 mx-auto bg-gradient-to-br from-primary/20 to-accent/20 rounded-full flex items-center justify-center",children:e.jsx(A,{className:"w-16 h-16 text-primary"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-3xl font-bold",children:"Capture Your Ideas"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Create a new note to start organizing your thoughts and ideas"})]}),e.jsx("div",{className:"flex items-center justify-center gap-3 pt-4",children:e.jsxs(r,{className:"gradient-primary shadow-glow hover-scale",onClick:()=>h(!0),children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Create Note"]})})]})})]}),e.jsx(le,{open:H,onOpenChange:h,children:e.jsxs(ne,{children:[e.jsxs(oe,{children:[e.jsx(de,{children:"Create New Note"}),e.jsx(he,{children:"Add a new note to your collection"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx(w,{placeholder:"Note title",value:m.title,onChange:t=>v({...m,title:t.target.value})})}),e.jsx("div",{children:e.jsx(F,{placeholder:"Note content...",value:m.content,onChange:t=>v({...m,content:t.target.value}),className:"min-h-[200px]"})})]}),e.jsxs(me,{children:[e.jsx(r,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),e.jsx(r,{onClick:Q,children:"Create Note"})]})]})})]})};export{Le as default};
