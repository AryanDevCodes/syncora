# ===========================
# Application Configuration
# ===========================
spring.application.name=SYNCORA
server.port=8081
server.ssl.enabled=false

# ===========================
# Database Configuration
# ===========================
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/syncora}
spring.datasource.username=${DB_USERNAME:syncora_usr}
spring.datasource.password=${DB_PASSWORD:8252}

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.defer-datasource-initialization=true
# spring.sql.init.mode=always
# spring.sql.init.schema-locations=
# spring.sql.init.data-locations=classpath:subscription-data.sql

# ===========================
# Multipart File Upload Configuration
# ===========================
spring.servlet.multipart.max-file-size=20MB
spring.servlet.multipart.max-request-size=20MB

# ===========================
# JWT Configuration
# ===========================
jwt.secret=${JWT_SECRET}
jwt.algorithm=HS384
jwt.expiration=${JWT_EXPIRATION:86400000}          # 1 day
jwt.refresh-expiration=${JWT_REFRESH_EXPIRATION:604800000}  # 7 days

# ===========================
# Storage Configuration
# ===========================
storage.location=${STORAGE_LOCATION:uploads}
storage.max-size=${STORAGE_MAX_SIZE:20971520}
storage.allowed-types=${STORAGE_ALLOWED_TYPES:image/jpeg,image/png,application/pdf,text/plain}
storage.cleanup.cron=${STORAGE_CLEANUP_CRON:0 0 2 * * ?}
storage.retention-days=${STORAGE_RETENTION_DAYS:30}

# ===========================
# Logging Configuration
# ===========================
logging.file.name=logs/syncora.log
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.console=%d{HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.level.com.syncora=DEBUG
spring.main.banner-mode=off
spring.output.ansi.enabled=never

# ===========================
# Ably Configuration
# ===========================
ably.api.key=${ABLY_API_KEY}

# ===========================
# OAuth2 Configuration
# ===========================
# GitHub OAuth
spring.security.oauth2.client.registration.github.client-id=${GITHUB_CLIENT_ID}
spring.security.oauth2.client.registration.github.client-secret=${GITHUB_CLIENT_SECRET}
spring.security.oauth2.client.registration.github.scope=read:user,user:email
spring.security.oauth2.client.registration.github.redirect-uri=${GITHUB_REDIRECT_URI:http://localhost:8081/login/oauth2/code/github}

# Google OAuth
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=profile,email
spring.security.oauth2.client.registration.google.redirect-uri=${GOOGLE_REDIRECT_URI:http://localhost:8080/login/oauth2/code/google}
